"use strict";(self.webpackChunkfirebird=self.webpackChunkfirebird||[]).push([[2076],{2695:(O,M,o)=>{o.r(M),o.d(M,{TLinePainter:()=>y});var T=o(467),x=o(6998),D=o(6224),E=o(9025),P=o(6714),l=o(6370);const r=(0,x.BIT)(14);class y extends D.JW{moveStart(n,e){const t=Math.sqrt((this.x1-this.x2)**2+(this.y1-this.y2)**2),s=Math.sqrt((n-this.x1)**2+(e-this.y1)**2)/t,a=Math.sqrt((n-this.x2)**2+(e-this.y2)**2)/t;this.side=s>.9?1:a>.9?-1:0}moveDrag(n,e){1!==this.side&&(this.x1+=n,this.y1+=e),-1!==this.side&&(this.x2+=n,this.y2+=e),this.draw_g.select("path").attr("d",this.createPath())}moveEnd(n){if(n)return;const e=this.getObject();let t="";e.fX1=this.svgToAxis("x",this.x1,this.isndc),e.fX2=this.svgToAxis("x",this.x2,this.isndc),e.fY1=this.svgToAxis("y",this.y1,this.isndc),e.fY2=this.svgToAxis("y",this.y2,this.isndc),1!==this.side&&(t+=`SetX1(${e.fX1});;SetY1(${e.fY1});;`),-1!==this.side&&(t+=`SetX2(${e.fX2});;SetY2(${e.fY2});;`),this.submitCanvExec(t+"Notify();;")}prepareDraw(){const n=this.getObject();this.isndc=n.TestBit(r);const e=this.getAxisToSvgFunc(this.isndc,!0,!0);this.x1=e.x(n.fX1),this.y1=e.y(n.fY1),this.x2=e.x(n.fX2),this.y2=e.y(n.fY2),this.createAttLine({attr:n})}createPath(){const n=Math.round(this.x1),e=Math.round(this.x2),t=Math.round(this.y1),s=Math.round(this.y2);return`M${n},${t}`+(n===e?`V${s}`:t===s?`H${e}`:`L${e},${s}`)}addExtras(){}redraw(){this.createG(),this.prepareDraw();const n=this.draw_g.append("svg:path").attr("d",this.createPath()).call(this.lineatt.func);return this.getObject()?.$do_not_draw?n.remove():(this.addExtras(n),(0,P.X2)(this),(0,l.wh)(this,l.Ew)),this}static draw(n,e,t){return(0,T.A)(function*(){const s=new y(n,e,t);return(0,E.ensureTCanvas)(s,!1).then(()=>s.redraw())})()}}},9109:(O,M,o)=>{o.d(M,{Y:()=>E});var T=o(467),x=o(6998),D=o(1069);function E(){return P.apply(this,arguments)}function P(){return(P=(0,T.A)(function*(){const l=this.$fp||this.getFramePainter();if(delete this.$fp,!((0,x.isObject)(l)&&l.grx&&l.gry&&l.grz))return this;const r=this.getObject(),_=r.fP;let n=1,e=0;for(let i=0;i<_.length;i+=3)_[i]<l.scale_xmin||_[i]>l.scale_xmax||_[i+1]<l.scale_ymin||_[i+1]>l.scale_ymax||_[i+2]<l.scale_zmin||_[i+2]>l.scale_zmax||++e;x.settings.OptimizeDraw>0&&e>5e4&&(n=Math.floor(e/5e4),n<=2&&(n=2));const t=Math.floor(e/n),s=new D._l(t,l.webgl,l.size_x3d/100),a=new Int32Array(t);let f=0,h=0;for(let i=0;i<_.length;i+=3)_[i]<l.scale_xmin||_[i]>l.scale_xmax||_[i+1]<l.scale_ymin||_[i+1]>l.scale_ymax||_[i+2]<l.scale_zmin||_[i+2]>l.scale_zmax||n>1&&(f=(f+1)%n,0!==f)||(a[h++]=i,s.addPoint(l.grx(_[i]),l.gry(_[i+1]),l.grz(_[i+2])));return s.createPoints({color:this.getColor(r.fMarkerColor),style:r.fMarkerStyle}).then(i=>(i.tip_color=3===r.fMarkerColor?16711680:65280,i.tip_name=r.fName||"Poly3D",i.poly=r,i.fp=l,i.scale0=.7*s.scale,i.index=a,l.add3DMesh(i,this,!0),i.tooltip=function(u){let m=Math.floor(u.index/this.nvertex);if(m<0||m>=this.index.length)return null;m=this.index[m];const d=this.fp,v=d.grx(this.poly.fP[m]),c=d.gry(this.poly.fP[m+1]),g=d.grz(this.poly.fP[m+2]);return{x1:v-this.scale0,x2:v+this.scale0,y1:c-this.scale0,y2:c+this.scale0,z1:g-this.scale0,z2:g+this.scale0,color:this.tip_color,lines:[this.tip_name,"pnt: "+m/3,"x: "+d.axisAsText("x",this.poly.fP[m]),"y: "+d.axisAsText("y",this.poly.fP[m+1]),"z: "+d.axisAsText("z",this.poly.fP[m+2])]}},l.render3D(100),this))})).apply(this,arguments)}},230:(O,M,o)=>{o.r(M),o.d(M,{TF1Painter:()=>n,produceTAxisLogScale:()=>y,scanTF1Options:()=>_});var T=o(467),x=o(6998),D=o(9041),E=o(6224),P=o(3277),l=o(2953),r=o(3693);function y(e,t,s,a){let f,h;a>0?(h=Math.log(a),f=s>0?Math.log(s):h-5):(h=-10,f=-15),e.fNbins=t,e.fXbins=new Array(t+1);for(let i=0;i<=t;++i)e.fXbins[i]=Math.exp(f+i/t*(h-f));e.fXmin=Math.exp(f),e.fXmax=Math.exp(h)}function _(e){(0,x.isStr)(e)||(e="");let t=e.indexOf(";webcanv_hist"),s=!1,a=0;return t>=0&&(s=!0,e=e.slice(0,t)),t=e.indexOf(";force_saved"),t>=0&&(a=2,e=e.slice(0,t)),t=e.indexOf(";prefer_saved"),t>=0&&(a=1,e=e.slice(0,t)),{opt:e,webcanv_hist:s,use_saved:a}}class n extends l.N{getObjectName(){return this.$func?.fName??"func"}getClassName(){return this.$func?._typename??x.clTF1}isTF1(){return!0}getPrimaryObject(){return this.$func}updateObject(t){if(!t||this.getClassName()!==t._typename)return!1;delete t.evalPar;const s=this.getHisto();if(this.webcanv_hist){const a=this.getPadPainter()?.findInPrimitives("Func",x.clTH1D);a&&this.updateAxes(s,a,this.getFramePainter())}return this.$func=t,this.createTF1Histogram(t,s),this.scanContent(),!0}redraw(t){return!this._use_saved_points&&("logx"===t||"zoom"===t)&&(this.createTF1Histogram(this.$func,this.getHisto()),this.scanContent()),super.redraw(t)}createTF1Histogram(t,s){const a=this.getFramePainter(),f=this.getPadPainter()?.getRootPad(!0),h=f?.fLogx,i=a?.getGrFuncs(this.second_x,this.second_y);let u=t.fXmin,m=t.fXmax,d=Math.max(t.fNpx,100);if(i?.zoom_xmin!==i?.zoom_xmax){const c=(m-u)/d;u<i.zoom_xmin&&i.zoom_xmin<m&&(u=Math.max(u,i.zoom_xmin-c)),u<i.zoom_xmax&&i.zoom_xmax<m&&(m=Math.min(m,i.zoom_xmax+c))}this._use_saved_points=t.fSave.length>3&&(x.settings.PreferSavedPoints||this.use_saved>1);const v=c=>{s.fNcells!==c+2&&(s.fNcells=c+2,s.fArray=new Float32Array(s.fNcells)),s.fArray.fill(0),s.fXaxis.fNbins=c,s.fXaxis.fXbins=[]};if(delete this._fail_eval,!this._use_saved_points){let c=!1;if(!t.evalPar)try{(0,r.Dx)(t)||(c=!0)}catch{c=!0}v(d),h?y(s.fXaxis,d,u,m):(s.fXaxis.fXmin=u,s.fXaxis.fXmax=m);for(let g=0;g<d&&!c;g++){const p=s.fXaxis.GetBinCenter(g+1);let A=0;try{A=t.evalPar(p)}catch{c=!0}c||s.setBinContent(g+1,Number.isFinite(A)?A:0)}c&&(this._fail_eval=!0),c&&t.fSave.length>3&&(this._use_saved_points=!0)}if(this._use_saved_points){d=t.fSave.length-3;let c=null;if(u=t.fSave[d+1],m=t.fSave[d+2],u===m){const g=this.getMainPainter();(0,x.isFunc)(g?.getHisto)&&(c=g?.getHisto()?.fXaxis)}if(c){v(s.fXaxis.fNbins),Object.assign(s.fXaxis,c);for(let g=0;g<d;++g){const p=t.fSave[g];s.setBinContent(g+1,Number.isFinite(p)?p:0)}}else{v(t.fNpx),s.fXaxis.fXmin=t.fXmin,s.fXaxis.fXmax=t.fXmax;for(let g=0;g<t.fNpx;++g){const p=(0,r.YI)(t,s.fXaxis.GetBinCenter(g+1));s.setBinContent(g+1,Number.isFinite(p)?p:0)}}}s.fName="Func",(0,x.setHistogramTitle)(s,t.fTitle),s.fMinimum=t.fMinimum,s.fMaximum=t.fMaximum,s.fLineColor=t.fLineColor,s.fLineStyle=t.fLineStyle,s.fLineWidth=t.fLineWidth,s.fFillColor=t.fFillColor,s.fFillStyle=t.fFillStyle,s.fMarkerColor=t.fMarkerColor,s.fMarkerStyle=t.fMarkerStyle,s.fMarkerSize=t.fMarkerSize,s.fBits|=x.kNoStats}extractAxesProperties(t){super.extractAxesProperties(t);const s=this.$func,a=s?.fSave.length??0;a>3&&this._use_saved_points&&(this.xmin=Math.min(this.xmin,s.fSave[a-2]),this.xmax=Math.max(this.xmax,s.fSave[a-1])),s&&(this.xmin=Math.min(this.xmin,s.fXmin),this.xmax=Math.max(this.xmax,s.fXmax))}canZoomInside(t,s,a){const f=this.$func?.fSave.length??0;if(f>3&&this._use_saved_points&&"x"===t){const h=f-2;return Math.abs(this.$func.fSave[f-1]-this.$func.fSave[f-2])/h<Math.abs(a-s)}return"x"===t||"y"===t}getTF1Tooltips(t){delete this.$tmp_tooltip;const s=[this.getObjectHint()],a=this.getFramePainter()?.getGrFuncs(this.options.second_x,this.options.second_y);if(!a||!(0,x.isFunc)(this.$func?.evalPar))return s.push("grx = "+t.x,"gry = "+t.y),s;const f=a.revertAxis("x",t.x);let h=0,i=0,u=!1;try{h=this.$func.evalPar(f),i=Math.round(a.gry(h))}catch{u=!0}return s.push("x = "+a.axisAsText("x",f),"value = "+(u?"<fail>":(0,D.lg)(h,x.gStyle.fStatFormat))),u||(this.$tmp_tooltip={y:h,gry:i}),s}processTooltipEvent(t){if(this._use_saved_points)return super.processTooltipEvent(t);let s=this.draw_g?.selectChild(".tooltip_bin");if(!this.draw_g||!t)return s?.remove(),null;const a={name:this.$func?.fName,title:this.$func?.fTitle,x:t.x,y:t.y,color1:this.lineatt?.color??"green",color2:this.fillatt?.getFillColorAlt("blue")??"blue",lines:this.getTF1Tooltips(t),exact:!0,menu:!0};return t.disabled?s.remove():(s.empty()&&(s=this.draw_g.append("svg:circle").attr("class","tooltip_bin").style("pointer-events","none").style("fill","none").attr("r",(this.lineatt?.width??1)+4)),s.attr("cx",t.x).attr("cy",this.$tmp_tooltip.gry??t.y).call(this.lineatt?.func)),a}fillWebObjectOptions(t){t.fcust=this._fail_eval&&!this.use_saved?"func_fail":""}static draw(t,s,a){return(0,T.A)(function*(){const f=_(a);let h;a=f.opt,delete f.opt,f.webcanv_hist&&(h=new E.JW(t).getPadPainter()?.findInPrimitives("Func",x.clTH1D)),h||(h=(0,x.createHistogram)(x.clTH1D,100),h.fBits|=x.kNoStats),!a&&(0,E.Nn)(t)&&(a="same");const i=new n(t,h);return i.$func=s,Object.assign(i,f),i.createTF1Histogram(s,h),P.mf._drawHist(i,a)})()}}},895:(O,M,o)=>{o.d(M,{k:()=>P});var T=o(467),x=o(4693),D=o(1516),E=o(1069);class P extends x.TGraphPainter{drawBins3D(r,y){if(!(r.mode3d&&r.grx&&r.gry&&r.grz&&r.toplevel))return console.log("Frame painter missing base 3d elements");if(r.zoom_xmin!==r.zoom_xmax&&(this.options.pos3d<r.zoom_xmin||this.options.pos3d>r.zoom_xmax))return;this.createGraphDrawAttributes(!0);const _=this.optimizeBins(1e3);let n=0,e=_.length-1;if(r.zoom_ymin!==r.zoom_ymax){for(;n<e&&_[n].x<r.zoom_ymin;)n++;for(;n<e&&_[e].x>r.zoom_ymax;)e--}if(n===e)return;const t=[],s=r.grx(this.options.pos3d);let a=_[n];for(let h=n+1;h<=e;++h){const i=_[h];t.push(s,r.gry(a.x),r.grz(a.y),s,r.gry(i.x),r.grz(i.y)),a=i}const f=(0,E.Fc)(t,(0,E.DH)(this,y));r.add3DMesh(f,this,!0),r.render3D(100)}drawAxisHisto(){var r=this;return(0,T.A)(function*(){return D.TH1Painter.draw(r.getDom(),r.createHistogram(),r.options.Axis)})()}static draw(r,y,_){return(0,T.A)(function*(){return P._drawGraph(new P(r,y),_)})()}}},2826:(O,M,o)=>{o.r(M),o.d(M,{TLinePainter:()=>y});var T=o(467),x=o(5461),D=o(3641),E=o(4080),P=o(3307),l=o(1713);const r=(0,x.BIT)(14);class y extends D.JW{moveStart(n,e){const t=Math.sqrt((this.x1-this.x2)**2+(this.y1-this.y2)**2),s=Math.sqrt((n-this.x1)**2+(e-this.y1)**2)/t,a=Math.sqrt((n-this.x2)**2+(e-this.y2)**2)/t;this.side=s>.9?1:a>.9?-1:0}moveDrag(n,e){1!==this.side&&(this.x1+=n,this.y1+=e),-1!==this.side&&(this.x2+=n,this.y2+=e),this.draw_g.select("path").attr("d",this.createPath())}moveEnd(n){if(n)return;const e=this.getObject();let t="";e.fX1=this.svgToAxis("x",this.x1,this.isndc),e.fX2=this.svgToAxis("x",this.x2,this.isndc),e.fY1=this.svgToAxis("y",this.y1,this.isndc),e.fY2=this.svgToAxis("y",this.y2,this.isndc),1!==this.side&&(t+=`SetX1(${e.fX1});;SetY1(${e.fY1});;`),-1!==this.side&&(t+=`SetX2(${e.fX2});;SetY2(${e.fY2});;`),this.submitCanvExec(t+"Notify();;")}prepareDraw(){const n=this.getObject();this.isndc=n.TestBit(r);const e=this.getAxisToSvgFunc(this.isndc,!0,!0);this.x1=e.x(n.fX1),this.y1=e.y(n.fY1),this.x2=e.x(n.fX2),this.y2=e.y(n.fY2),this.createAttLine({attr:n})}createPath(){const n=Math.round(this.x1),e=Math.round(this.x2),t=Math.round(this.y1),s=Math.round(this.y2);return`M${n},${t}`+(n===e?`V${s}`:t===s?`H${e}`:`L${e},${s}`)}addExtras(){}redraw(){this.createG(),this.prepareDraw();const n=this.draw_g.append("svg:path").attr("d",this.createPath()).call(this.lineatt.func);return this.getObject()?.$do_not_draw?n.remove():(this.addExtras(n),(0,P.X2)(this),(0,l.wh)(this,l.Ew)),this}static draw(n,e,t){return(0,T.A)(function*(){const s=new y(n,e,t);return(0,E.ensureTCanvas)(s,!1).then(()=>s.redraw())})()}}},5562:(O,M,o)=>{o.d(M,{Y:()=>E});var T=o(467),x=o(5461),D=o(5308);function E(){return P.apply(this,arguments)}function P(){return(P=(0,T.A)(function*(){const l=this.$fp||this.getFramePainter();if(delete this.$fp,!((0,x.isObject)(l)&&l.grx&&l.gry&&l.grz))return this;const r=this.getObject(),_=r.fP;let n=1,e=0;for(let i=0;i<_.length;i+=3)_[i]<l.scale_xmin||_[i]>l.scale_xmax||_[i+1]<l.scale_ymin||_[i+1]>l.scale_ymax||_[i+2]<l.scale_zmin||_[i+2]>l.scale_zmax||++e;x.settings.OptimizeDraw>0&&e>5e4&&(n=Math.floor(e/5e4),n<=2&&(n=2));const t=Math.floor(e/n),s=new D._l(t,l.webgl,l.size_x3d/100),a=new Int32Array(t);let f=0,h=0;for(let i=0;i<_.length;i+=3)_[i]<l.scale_xmin||_[i]>l.scale_xmax||_[i+1]<l.scale_ymin||_[i+1]>l.scale_ymax||_[i+2]<l.scale_zmin||_[i+2]>l.scale_zmax||n>1&&(f=(f+1)%n,0!==f)||(a[h++]=i,s.addPoint(l.grx(_[i]),l.gry(_[i+1]),l.grz(_[i+2])));return s.createPoints({color:this.getColor(r.fMarkerColor),style:r.fMarkerStyle}).then(i=>(i.tip_color=3===r.fMarkerColor?16711680:65280,i.tip_name=r.fName||"Poly3D",i.poly=r,i.fp=l,i.scale0=.7*s.scale,i.index=a,l.add3DMesh(i,this,!0),i.tooltip=function(u){let m=Math.floor(u.index/this.nvertex);if(m<0||m>=this.index.length)return null;m=this.index[m];const d=this.fp,v=d.grx(this.poly.fP[m]),c=d.gry(this.poly.fP[m+1]),g=d.grz(this.poly.fP[m+2]);return{x1:v-this.scale0,x2:v+this.scale0,y1:c-this.scale0,y2:c+this.scale0,z1:g-this.scale0,z2:g+this.scale0,color:this.tip_color,lines:[this.tip_name,"pnt: "+m/3,"x: "+d.axisAsText("x",this.poly.fP[m]),"y: "+d.axisAsText("y",this.poly.fP[m+1]),"z: "+d.axisAsText("z",this.poly.fP[m+2])]}},l.render3D(100),this))})).apply(this,arguments)}},5727:(O,M,o)=>{o.r(M),o.d(M,{TF1Painter:()=>_,produceTAxisLogScale:()=>y});var T=o(467),x=o(5461),D=o(3282),E=o(3641),P=o(6084),l=o(8527),r=o(1568);function y(n,e,t,s){let a,f;s>0?(f=Math.log(s),a=t>0?Math.log(t):f-5):(f=-10,a=-15),n.fNbins=e,n.fXbins=new Array(e+1);for(let h=0;h<=e;++h)n.fXbins[h]=Math.exp(a+h/e*(f-a));n.fXmin=Math.exp(a),n.fXmax=Math.exp(f)}class _ extends l.N{getObjectName(){return this.$func?.fName??"func"}getClassName(){return this.$func?._typename??x.clTF1}isTF1(){return!0}getPrimaryObject(){return this.$func}updateObject(e){if(!e||this.getClassName()!==e._typename)return!1;delete e.evalPar;const t=this.getHisto();if(this.webcanv_hist){const s=this.getPadPainter()?.findInPrimitives("Func",x.clTH1D);s&&this.updateAxes(t,s,this.getFramePainter())}return this.$func=e,this.createTF1Histogram(e,t),this.scanContent(),!0}redraw(e){return!this._use_saved_points&&("logx"===e||"zoom"===e)&&(this.createTF1Histogram(this.$func,this.getHisto()),this.scanContent()),super.redraw(e)}createTF1Histogram(e,t){const s=this.getFramePainter(),a=this.getPadPainter()?.getRootPad(!0),f=a?.fLogx,h=s?.getGrFuncs(this.second_x,this.second_y);let i=e.fXmin,u=e.fXmax;h?.zoom_xmin!==h?.zoom_xmax&&(i=Math.min(i,h.zoom_xmin),u=Math.max(u,h.zoom_xmax)),this._use_saved_points=e.fSave.length>3&&(x.settings.PreferSavedPoints||this.force_saved);const m=d=>{t.fNcells!==d+2&&(t.fNcells=d+2,t.fArray=new Float32Array(t.fNcells)),t.fArray.fill(0),t.fXaxis.fNbins=d,t.fXaxis.fXbins=[]};if(delete this._fail_eval,!this._use_saved_points){const d=Math.max(e.fNpx,100);let v=!1;if(!e.evalPar)try{(0,r.Dx)(e)||(v=!0)}catch{v=!0}m(d),f?y(t.fXaxis,d,i,u):(t.fXaxis.fXmin=i,t.fXaxis.fXmax=u);for(let c=0;c<d&&!v;c++){const g=t.fXaxis.GetBinCenter(c+1);let p=0;try{p=e.evalPar(g)}catch{v=!0}v||t.setBinContent(c+1,Number.isFinite(p)?p:0)}v&&(this._fail_eval=!0),v&&e.fSave.length>3&&(this._use_saved_points=!0)}if(this._use_saved_points){const d=e.fSave.length-3;let v=null;if(i=e.fSave[d+1],u=e.fSave[d+2],i===u){const c=this.getMainPainter();(0,x.isFunc)(c?.getHisto)&&(v=c?.getHisto()?.fXaxis)}if(v){m(t.fXaxis.fNbins),Object.assign(t.fXaxis,v);for(let c=0;c<d;++c){const g=e.fSave[c];t.setBinContent(c+1,Number.isFinite(g)?g:0)}}else{m(e.fNpx),t.fXaxis.fXmin=e.fXmin,t.fXaxis.fXmax=e.fXmax;for(let c=0;c<e.fNpx;++c){const g=(0,r.YI)(e,t.fXaxis.GetBinCenter(c+1));t.setBinContent(c+1,Number.isFinite(g)?g:0)}}}t.fName="Func",(0,x.setHistogramTitle)(t,e.fTitle),t.fMinimum=e.fMinimum,t.fMaximum=e.fMaximum,t.fLineColor=e.fLineColor,t.fLineStyle=e.fLineStyle,t.fLineWidth=e.fLineWidth,t.fFillColor=e.fFillColor,t.fFillStyle=e.fFillStyle,t.fMarkerColor=e.fMarkerColor,t.fMarkerStyle=e.fMarkerStyle,t.fMarkerSize=e.fMarkerSize,t.fBits|=x.kNoStats}extractAxesProperties(e){super.extractAxesProperties(e);const t=this.$func,s=t?.fSave.length??0;s>3&&this._use_saved_points&&(this.xmin=Math.min(this.xmin,t.fSave[s-2]),this.xmax=Math.max(this.xmax,t.fSave[s-1])),t&&(this.xmin=Math.min(this.xmin,t.fXmin),this.xmax=Math.max(this.xmax,t.fXmax))}canZoomInside(e,t,s){if(this.$func?.fSave.length>0&&this._use_saved_points&&"x"===e){const a=this.$func.fNpx;return Math.abs(this.$func.fSave[a+2]-this.$func.fSave[a+1])/a<Math.abs(s-t)}return"x"===e||"y"===e}getTF1Tooltips(e){delete this.$tmp_tooltip;const t=[this.getObjectHint()],s=this.getFramePainter()?.getGrFuncs(this.options.second_x,this.options.second_y);if(!s||!(0,x.isFunc)(this.$func?.evalPar))return t.push("grx = "+e.x,"gry = "+e.y),t;const a=s.revertAxis("x",e.x);let f=0,h=0,i=!1;try{f=this.$func.evalPar(a),h=Math.round(s.gry(f))}catch{i=!0}return t.push("x = "+s.axisAsText("x",a),"value = "+(i?"<fail>":(0,D.lg)(f,x.gStyle.fStatFormat))),i||(this.$tmp_tooltip={y:f,gry:h}),t}processTooltipEvent(e){if(this._use_saved_points)return super.processTooltipEvent(e);let t=this.draw_g?.selectChild(".tooltip_bin");if(!this.draw_g||!e)return t?.remove(),null;const s={name:this.$func?.fName,title:this.$func?.fTitle,x:e.x,y:e.y,color1:this.lineatt?.color??"green",color2:this.fillatt?.getFillColorAlt("blue")??"blue",lines:this.getTF1Tooltips(e),exact:!0,menu:!0};return e.disabled?t.remove():(t.empty()&&(t=this.draw_g.append("svg:circle").attr("class","tooltip_bin").style("pointer-events","none").style("fill","none").attr("r",(this.lineatt?.width??1)+4)),t.attr("cx",e.x).attr("cy",this.$tmp_tooltip.gry??e.y).call(this.lineatt?.func)),s}fillWebObjectOptions(e){e.fcust=this._fail_eval?"func_fail":""}static draw(e,t,s){return(0,T.A)(function*(){(0,x.isStr)(s)||(s="");let i,a=s.indexOf(";webcanv_hist"),f=!1,h=!1;a>=0&&(f=!0,s=s.slice(0,a)),a=s.indexOf(";force_saved"),a>=0&&(h=!0,s=s.slice(0,a)),f&&(i=new E.JW(e).getPadPainter()?.findInPrimitives("Func",x.clTH1D)),i||(i=(0,x.createHistogram)(x.clTH1D,100),i.fBits|=x.kNoStats),!s&&(0,E.Nn)(e)&&(s="same");const u=new _(e,i);return u.$func=t,u.webcanv_hist=f,u.force_saved=h,u.createTF1Histogram(t,i),P.mf._drawHist(u,s)})()}}},8884:(O,M,o)=>{o.d(M,{k:()=>P});var T=o(467),x=o(3026),D=o(3829),E=o(5308);class P extends x.TGraphPainter{drawBins3D(r,y){if(!(r.mode3d&&r.grx&&r.gry&&r.grz&&r.toplevel))return console.log("Frame painter missing base 3d elements");if(r.zoom_xmin!==r.zoom_xmax&&(this.options.pos3d<r.zoom_xmin||this.options.pos3d>r.zoom_xmax))return;this.createGraphDrawAttributes(!0);const _=this.optimizeBins(1e3);let n=0,e=_.length-1;if(r.zoom_ymin!==r.zoom_ymax){for(;n<e&&_[n].x<r.zoom_ymin;)n++;for(;n<e&&_[e].x>r.zoom_ymax;)e--}if(n===e)return;const t=[],s=r.grx(this.options.pos3d);let a=_[n];for(let h=n+1;h<=e;++h){const i=_[h];t.push(s,r.gry(a.x),r.grz(a.y),s,r.gry(i.x),r.grz(i.y)),a=i}const f=(0,E.Fc)(t,(0,E.DH)(this,y));r.add3DMesh(f,this,!0),r.render3D(100)}drawAxisHisto(){var r=this;return(0,T.A)(function*(){return D.TH1Painter.draw(r.getDom(),r.createHistogram(),r.options.Axis)})()}static draw(r,y,_){return(0,T.A)(function*(){return P._drawGraph(new P(r,y),_)})()}}}}]);