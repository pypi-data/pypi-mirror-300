import{s as qs,e as _,k,t as S,c as p,a as m,o as I,B as Jt,b as N,d as f,f as i,i as M,g as n,u as W,h as B,F as Nl,j as St,p as Ws,q as Xs,A as at,C as he,D as Ys,E as Nt,I as Zs,J as gs,K as Us,n as Pl,L as Gs,y as vs,z as bs,M as ws,l as ks}from"../chunks/scheduler.Dyt_jldW.js";import{S as Qs,i as xs,t as te,a as me,c as js,f as Pt,b as et,d as tt,m as lt,g as Ls,e as st}from"../chunks/index.g9C97g6-.js";import{e as dl}from"../chunks/spread.CNdYb9hD.js";import{t as $s}from"../chunks/Toaster.svelte_svelte_type_style_lang.Ch2gtda1.js";import{g as fl}from"../chunks/entry.Bbph98Ky.js";import{p as ea}from"../chunks/stores.DCh5qfxi.js";import{m as Is,k as ta,t as la,f as sa}from"../chunks/index.BVrelwHu.js";import"../chunks/sha256.DmKfZSHC.js";import{u as aa}from"../chunks/index.Og-QAv36.js";import{T as ra,A as na}from"../chunks/AdvancedParams.BNP-6oor.js";import{g as oa}from"../chunks/index.CySAcIdd.js";import{K as ia,T as ca,F as ua,A as fa,C as da}from"../chunks/Capabilities.DwAGq7Ig.js";function ys(s,e,t){const a=s.slice();return a[51]=e[t],a[52]=e,a[53]=t,a}function Es(s,e,t){const a=s.slice();return a[19]=e[t],a}function Ds(s){var zl,Jl,ql,Wl,Xl,Yl;let e,t,a,l,r,g,v,w,A,C=s[15].t("Name")+"",j,D,V,T,o,y,b,u,E,L=s[15].t("Model ID")+"",X,ge,ve,le,G,rt,Mt,nt,ne,be,Oe,Xe=s[15].t("Description")+"",ot,Bt,oe,Ct,Ot,it,Ht,we,He,Ue,Ye=s[15].t("Model Params")+"",ct,Ut,Q,ke,je,ut=s[15].t("System Prompt")+"",jt,qt,ft,h,O,x,Y,$=s[15].t("Advanced Params")+"",ye,Ie,F,ie,Le,Ee,Fe,se,ae,ce,De,Re=s[15].t("Prompt suggestions")+"",Ze,dt,re,_t,pt,mt,Te,P,_l,pl,ht,Ve,ml,hl,gt,Ae,gl,vl,vt,Se,bl,wl,bt,Ne,kl,Il,Ke,wt,kt,Lt=s[15].t("Tags")+"",Wt,yl,It,ze,El,Pe,Je,yt,Ft=s[15].t("JSON Preview")+"",Xt,Dl,Me,Tl,Vl,Et,ee,Dt,Rt=s[15].t("Save & Update")+"",Yt,Al,Zt,H,Sl,Ml;function Bl(c,d){return c[7].meta.profile_image_url?pa:_a}let Gt=Bl(s),ue=Gt(s),R=s[19].preset&&Ts(s);function Cl(c,d){return c[7].meta.description===null?ha:ma}let Qt=Cl(s),fe=Qt(s),K=s[7].meta.description!==null&&As(s);function Ol(c,d){return c[3]?va:ga}let xt=Ol(s),de=xt(s),U=s[3]&&Ss(s);function Hl(c,d){var Be,Ce;return(((Ce=(Be=c[7])==null?void 0:Be.meta)==null?void 0:Ce.suggestion_prompts)??null)===null?wa:ba}let $t=Hl(s),_e=$t(s),z=(((Jl=(zl=s[7])==null?void 0:zl.meta)==null?void 0:Jl.suggestion_prompts)??null)!==null&&Ns(s),J=((Wl=(ql=s[7])==null?void 0:ql.meta)==null?void 0:Wl.suggestion_prompts)&&Ps(s);function Fs(c){s[40](c)}let Ul={collections:s[16]};s[10]!==void 0&&(Ul.selectedKnowledge=s[10]),P=new ia({props:Ul}),at.push(()=>Pt(P,"selectedKnowledge",Fs));function Rs(c){s[41](c)}let jl={tools:s[17]};s[11]!==void 0&&(jl.selectedToolIds=s[11]),Ve=new ca({props:jl}),at.push(()=>Pt(Ve,"selectedToolIds",Rs));function Ks(c){s[42](c)}let Ll={filters:s[18].filter(Os)};s[12]!==void 0&&(Ll.selectedFilterIds=s[12]),Ae=new ua({props:Ll}),at.push(()=>Pt(Ae,"selectedFilterIds",Ks));function zs(c){s[43](c)}let Fl={actions:s[18].filter(Hs)};s[13]!==void 0&&(Fl.selectedActionIds=s[13]),Se=new fa({props:Fl}),at.push(()=>Pt(Se,"selectedActionIds",zs));function Js(c){s[44](c)}let Rl={};s[9]!==void 0&&(Rl.capabilities=s[9]),Ne=new da({props:Rl}),at.push(()=>Pt(Ne,"capabilities",Js)),ze=new ra({props:{tags:((Yl=(Xl=s[7])==null?void 0:Xl.meta)==null?void 0:Yl.tags)??[],deleteTag:s[45],addTag:s[46]}});function Kl(c,d){return c[4]?Ea:ya}let el=Kl(s),pe=el(s),q=s[4]&&Bs(s),Z=s[0]&&Cs();return{c(){e=_("form"),t=_("div"),a=_("div"),l=_("button"),ue.c(),g=k(),v=_("div"),w=_("div"),A=_("div"),j=S(C),D=S("*"),V=k(),T=_("div"),o=_("input"),b=k(),u=_("div"),E=_("div"),X=S(L),ge=S("*"),ve=k(),le=_("div"),G=_("input"),Mt=k(),R&&R.c(),nt=k(),ne=_("div"),be=_("div"),Oe=_("div"),ot=S(Xe),Bt=k(),oe=_("button"),fe.c(),Ct=k(),K&&K.c(),Ot=k(),it=_("hr"),Ht=k(),we=_("div"),He=_("div"),Ue=_("div"),ct=S(Ye),Ut=k(),Q=_("div"),ke=_("div"),je=_("div"),jt=S(ut),qt=k(),ft=_("div"),h=_("textarea"),O=k(),x=_("div"),Y=_("div"),ye=S($),Ie=k(),F=_("button"),de.c(),ie=k(),U&&U.c(),Le=k(),Ee=_("hr"),Fe=k(),se=_("div"),ae=_("div"),ce=_("div"),De=_("div"),Ze=S(Re),dt=k(),re=_("button"),_e.c(),_t=k(),z&&z.c(),pt=k(),J&&J.c(),mt=k(),Te=_("div"),et(P.$$.fragment),pl=k(),ht=_("div"),et(Ve.$$.fragment),hl=k(),gt=_("div"),et(Ae.$$.fragment),vl=k(),vt=_("div"),et(Se.$$.fragment),wl=k(),bt=_("div"),et(Ne.$$.fragment),Il=k(),Ke=_("div"),wt=_("div"),kt=_("div"),Wt=S(Lt),yl=k(),It=_("div"),et(ze.$$.fragment),El=k(),Pe=_("div"),Je=_("div"),yt=_("div"),Xt=S(Ft),Dl=k(),Me=_("button"),pe.c(),Tl=k(),q&&q.c(),Vl=k(),Et=_("div"),ee=_("button"),Dt=_("div"),Yt=S(Rt),Al=k(),Z&&Z.c(),this.h()},l(c){e=p(c,"FORM",{class:!0});var d=m(e);t=p(d,"DIV",{class:!0});var Be=m(t);a=p(Be,"DIV",{class:!0});var Ce=m(a);l=p(Ce,"BUTTON",{class:!0,type:!0});var Tt=m(l);ue.l(Tt),Tt.forEach(f),Ce.forEach(f),Be.forEach(f),g=I(d),v=p(d,"DIV",{class:!0});var qe=m(v);w=p(qe,"DIV",{class:!0});var Ge=m(w);A=p(Ge,"DIV",{class:!0});var We=m(A);j=N(We,C),D=N(We,"*"),We.forEach(f),V=I(Ge),T=p(Ge,"DIV",{});var Kt=m(T);o=p(Kt,"INPUT",{class:!0,placeholder:!0}),Kt.forEach(f),Ge.forEach(f),b=I(qe),u=p(qe,"DIV",{class:!0});var Qe=m(u);E=p(Qe,"DIV",{class:!0});var Vt=m(E);X=N(Vt,L),ge=N(Vt,"*"),Vt.forEach(f),ve=I(Qe),le=p(Qe,"DIV",{});var zt=m(le);G=p(zt,"INPUT",{class:!0,placeholder:!0}),zt.forEach(f),Qe.forEach(f),qe.forEach(f),Mt=I(d),R&&R.l(d),nt=I(d),ne=p(d,"DIV",{class:!0});var xe=m(ne);be=p(xe,"DIV",{class:!0});var $e=m(be);Oe=p($e,"DIV",{class:!0});var Zl=m(Oe);ot=N(Zl,Xe),Zl.forEach(f),Bt=I($e),oe=p($e,"BUTTON",{class:!0,type:!0});var Gl=m(oe);fe.l(Gl),Gl.forEach(f),$e.forEach(f),Ct=I(xe),K&&K.l(xe),xe.forEach(f),Ot=I(d),it=p(d,"HR",{class:!0}),Ht=I(d),we=p(d,"DIV",{class:!0});var tl=m(we);He=p(tl,"DIV",{class:!0});var Ql=m(He);Ue=p(Ql,"DIV",{class:!0});var xl=m(Ue);ct=N(xl,Ye),xl.forEach(f),Ql.forEach(f),Ut=I(tl),Q=p(tl,"DIV",{class:!0});var At=m(Q);ke=p(At,"DIV",{class:!0});var ll=m(ke);je=p(ll,"DIV",{class:!0});var $l=m(je);jt=N($l,ut),$l.forEach(f),qt=I(ll),ft=p(ll,"DIV",{});var es=m(ft);h=p(es,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),m(h).forEach(f),es.forEach(f),ll.forEach(f),O=I(At),x=p(At,"DIV",{class:!0});var sl=m(x);Y=p(sl,"DIV",{class:!0});var ts=m(Y);ye=N(ts,$),ts.forEach(f),Ie=I(sl),F=p(sl,"BUTTON",{class:!0,type:!0});var ls=m(F);de.l(ls),ls.forEach(f),sl.forEach(f),ie=I(At),U&&U.l(At),At.forEach(f),tl.forEach(f),Le=I(d),Ee=p(d,"HR",{class:!0}),Fe=I(d),se=p(d,"DIV",{class:!0});var al=m(se);ae=p(al,"DIV",{class:!0});var rl=m(ae);ce=p(rl,"DIV",{class:!0});var nl=m(ce);De=p(nl,"DIV",{class:!0});var ss=m(De);Ze=N(ss,Re),ss.forEach(f),dt=I(nl),re=p(nl,"BUTTON",{class:!0,type:!0});var as=m(re);_e.l(as),as.forEach(f),nl.forEach(f),_t=I(rl),z&&z.l(rl),rl.forEach(f),pt=I(al),J&&J.l(al),al.forEach(f),mt=I(d),Te=p(d,"DIV",{class:!0});var rs=m(Te);tt(P.$$.fragment,rs),rs.forEach(f),pl=I(d),ht=p(d,"DIV",{class:!0});var ns=m(ht);tt(Ve.$$.fragment,ns),ns.forEach(f),hl=I(d),gt=p(d,"DIV",{class:!0});var os=m(gt);tt(Ae.$$.fragment,os),os.forEach(f),vl=I(d),vt=p(d,"DIV",{class:!0});var is=m(vt);tt(Se.$$.fragment,is),is.forEach(f),wl=I(d),bt=p(d,"DIV",{class:!0});var cs=m(bt);tt(Ne.$$.fragment,cs),cs.forEach(f),Il=I(d),Ke=p(d,"DIV",{class:!0});var ol=m(Ke);wt=p(ol,"DIV",{class:!0});var us=m(wt);kt=p(us,"DIV",{class:!0});var fs=m(kt);Wt=N(fs,Lt),fs.forEach(f),us.forEach(f),yl=I(ol),It=p(ol,"DIV",{class:!0});var ds=m(It);tt(ze.$$.fragment,ds),ds.forEach(f),ol.forEach(f),El=I(d),Pe=p(d,"DIV",{class:!0});var il=m(Pe);Je=p(il,"DIV",{class:!0});var cl=m(Je);yt=p(cl,"DIV",{class:!0});var _s=m(yt);Xt=N(_s,Ft),_s.forEach(f),Dl=I(cl),Me=p(cl,"BUTTON",{class:!0,type:!0});var ps=m(Me);pe.l(ps),ps.forEach(f),cl.forEach(f),Tl=I(il),q&&q.l(il),il.forEach(f),Vl=I(d),Et=p(d,"DIV",{class:!0});var ms=m(Et);ee=p(ms,"BUTTON",{class:!0,type:!0});var ul=m(ee);Dt=p(ul,"DIV",{class:!0});var hs=m(Dt);Yt=N(hs,Rt),hs.forEach(f),Al=I(ul),Z&&Z.l(ul),ul.forEach(f),ms.forEach(f),d.forEach(f),this.h()},h(){i(l,"class",r=(s[7].meta.profile_image_url?"":"p-4")+" rounded-full border border-dashed border-gray-200 flex items-center"),i(l,"type","button"),i(a,"class","self-center"),i(t,"class","flex justify-center my-4"),i(A,"class","text-sm font-semibold mb-1"),i(o,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),i(o,"placeholder",y=s[15].t("Name your model")),o.required=!0,i(w,"class","flex-1"),i(E,"class","text-sm font-semibold mb-1"),i(G,"class","px-3 py-1.5 text-sm w-full bg-transparent disabled:text-gray-500 border dark:border-gray-600 outline-none rounded-lg"),i(G,"placeholder",rt=s[15].t("Add a model id")),G.value=s[5],G.disabled=!0,G.required=!0,i(u,"class","flex-1"),i(v,"class","mt-2 my-1 flex space-x-2"),i(Oe,"class","self-center text-sm font-semibold"),i(oe,"class","p-1 text-xs flex rounded transition"),i(oe,"type","button"),i(be,"class","flex w-full justify-between items-center"),i(ne,"class","my-1"),i(it,"class","dark:border-gray-850 my-1"),i(Ue,"class","self-center text-sm font-semibold"),i(He,"class","flex w-full justify-between"),i(je,"class","text-xs font-semibold mb-2"),i(h,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg -mb-1"),i(h,"placeholder",`Write your model system prompt content here
e.g.) You are Mario from Super Mario Bros, acting as an assistant.`),i(h,"rows","4"),i(ke,"class","my-1"),i(Y,"class","self-center text-xs font-semibold"),i(F,"class","p-1 px-3 text-xs flex rounded transition"),i(F,"type","button"),i(x,"class","flex w-full justify-between"),i(Q,"class","mt-2"),i(we,"class","my-2"),i(Ee,"class","dark:border-gray-850 my-1"),i(De,"class","self-center text-sm font-semibold"),i(re,"class","p-1 text-xs flex rounded transition"),i(re,"type","button"),i(ce,"class","flex w-full justify-between items-center"),i(ae,"class","flex w-full justify-between items-center"),i(se,"class","my-2"),i(Te,"class","my-2"),i(ht,"class","my-2"),i(gt,"class","my-2"),i(vt,"class","my-2"),i(bt,"class","my-2"),i(kt,"class","self-center text-sm font-semibold"),i(wt,"class","flex w-full justify-between items-center"),i(It,"class","mt-2"),i(Ke,"class","my-1"),i(yt,"class","self-center text-sm font-semibold"),i(Me,"class","p-1 px-3 text-xs flex rounded transition"),i(Me,"type","button"),i(Je,"class","flex w-full justify-between mb-2"),i(Pe,"class","my-2 text-gray-300 dark:text-gray-700"),i(Dt,"class","self-center font-medium"),i(ee,"class",Zt="text-sm px-3 py-2 transition rounded-xl "+(s[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"),i(ee,"type","submit"),ee.disabled=s[0],i(Et,"class","my-2 flex justify-end mb-20"),i(e,"class","flex flex-col max-w-2xl mx-auto mt-4 mb-10")},m(c,d){M(c,e,d),n(e,t),n(t,a),n(a,l),ue.m(l,null),n(e,g),n(e,v),n(v,w),n(w,A),n(A,j),n(A,D),n(w,V),n(w,T),n(T,o),he(o,s[6]),n(v,b),n(v,u),n(u,E),n(E,X),n(E,ge),n(u,ve),n(u,le),n(le,G),n(e,Mt),R&&R.m(e,null),n(e,nt),n(e,ne),n(ne,be),n(be,Oe),n(Oe,ot),n(be,Bt),n(be,oe),fe.m(oe,null),n(ne,Ct),K&&K.m(ne,null),n(e,Ot),n(e,it),n(e,Ht),n(e,we),n(we,He),n(He,Ue),n(Ue,ct),n(we,Ut),n(we,Q),n(Q,ke),n(ke,je),n(je,jt),n(ke,qt),n(ke,ft),n(ft,h),he(h,s[7].params.system),n(Q,O),n(Q,x),n(x,Y),n(Y,ye),n(x,Ie),n(x,F),de.m(F,null),n(Q,ie),U&&U.m(Q,null),n(e,Le),n(e,Ee),n(e,Fe),n(e,se),n(se,ae),n(ae,ce),n(ce,De),n(De,Ze),n(ce,dt),n(ce,re),_e.m(re,null),n(ae,_t),z&&z.m(ae,null),n(se,pt),J&&J.m(se,null),n(e,mt),n(e,Te),lt(P,Te,null),n(e,pl),n(e,ht),lt(Ve,ht,null),n(e,hl),n(e,gt),lt(Ae,gt,null),n(e,vl),n(e,vt),lt(Se,vt,null),n(e,wl),n(e,bt),lt(Ne,bt,null),n(e,Il),n(e,Ke),n(Ke,wt),n(wt,kt),n(kt,Wt),n(Ke,yl),n(Ke,It),lt(ze,It,null),n(e,El),n(e,Pe),n(Pe,Je),n(Je,yt),n(yt,Xt),n(Je,Dl),n(Je,Me),pe.m(Me,null),n(Pe,Tl),q&&q.m(Pe,null),n(e,Vl),n(e,Et),n(Et,ee),n(ee,Dt),n(Dt,Yt),n(ee,Al),Z&&Z.m(ee,null),H=!0,Sl||(Ml=[W(l,"click",s[26]),W(o,"input",s[27]),W(oe,"click",s[30]),W(h,"input",s[32]),W(F,"click",s[33]),W(re,"click",s[36]),W(Me,"click",s[47]),W(e,"submit",Ys(s[48]))],Sl=!0)},p(c,d){var Kt,Qe,Vt,zt,xe,$e;Gt===(Gt=Bl(c))&&ue?ue.p(c,d):(ue.d(1),ue=Gt(c),ue&&(ue.c(),ue.m(l,null))),(!H||d[0]&16512&&r!==(r=(c[7].meta.profile_image_url?"":"p-4")+" rounded-full border border-dashed border-gray-200 flex items-center"))&&i(l,"class",r),(!H||d[0]&32768)&&C!==(C=c[15].t("Name")+"")&&B(j,C),(!H||d[0]&32768&&y!==(y=c[15].t("Name your model")))&&i(o,"placeholder",y),d[0]&64&&o.value!==c[6]&&he(o,c[6]),(!H||d[0]&32768)&&L!==(L=c[15].t("Model ID")+"")&&B(X,L),(!H||d[0]&32768&&rt!==(rt=c[15].t("Add a model id")))&&i(G,"placeholder",rt),(!H||d[0]&32&&G.value!==c[5])&&(G.value=c[5]),c[19].preset?R?R.p(c,d):(R=Ts(c),R.c(),R.m(e,nt)):R&&(R.d(1),R=null),(!H||d[0]&32768)&&Xe!==(Xe=c[15].t("Description")+"")&&B(ot,Xe),Qt===(Qt=Cl(c))&&fe?fe.p(c,d):(fe.d(1),fe=Qt(c),fe&&(fe.c(),fe.m(oe,null))),c[7].meta.description!==null?K?K.p(c,d):(K=As(c),K.c(),K.m(ne,null)):K&&(K.d(1),K=null),(!H||d[0]&32768)&&Ye!==(Ye=c[15].t("Model Params")+"")&&B(ct,Ye),(!H||d[0]&32768)&&ut!==(ut=c[15].t("System Prompt")+"")&&B(jt,ut),d[0]&16512&&he(h,c[7].params.system),(!H||d[0]&32768)&&$!==($=c[15].t("Advanced Params")+"")&&B(ye,$),xt===(xt=Ol(c))&&de?de.p(c,d):(de.d(1),de=xt(c),de&&(de.c(),de.m(F,null))),c[3]?U?(U.p(c,d),d[0]&8&&te(U,1)):(U=Ss(c),U.c(),te(U,1),U.m(Q,null)):U&&(Ls(),me(U,1,1,()=>{U=null}),js()),(!H||d[0]&32768)&&Re!==(Re=c[15].t("Prompt suggestions")+"")&&B(Ze,Re),$t===($t=Hl(c))&&_e?_e.p(c,d):(_e.d(1),_e=$t(c),_e&&(_e.c(),_e.m(re,null))),(((Qe=(Kt=c[7])==null?void 0:Kt.meta)==null?void 0:Qe.suggestion_prompts)??null)!==null?z?z.p(c,d):(z=Ns(c),z.c(),z.m(ae,null)):z&&(z.d(1),z=null),(zt=(Vt=c[7])==null?void 0:Vt.meta)!=null&&zt.suggestion_prompts?J?J.p(c,d):(J=Ps(c),J.c(),J.m(se,null)):J&&(J.d(1),J=null);const Be={};d[0]&65536&&(Be.collections=c[16]),!_l&&d[0]&1024&&(_l=!0,Be.selectedKnowledge=c[10],Nt(()=>_l=!1)),P.$set(Be);const Ce={};d[0]&131072&&(Ce.tools=c[17]),!ml&&d[0]&2048&&(ml=!0,Ce.selectedToolIds=c[11],Nt(()=>ml=!1)),Ve.$set(Ce);const Tt={};d[0]&262144&&(Tt.filters=c[18].filter(Os)),!gl&&d[0]&4096&&(gl=!0,Tt.selectedFilterIds=c[12],Nt(()=>gl=!1)),Ae.$set(Tt);const qe={};d[0]&262144&&(qe.actions=c[18].filter(Hs)),!bl&&d[0]&8192&&(bl=!0,qe.selectedActionIds=c[13],Nt(()=>bl=!1)),Se.$set(qe);const Ge={};!kl&&d[0]&512&&(kl=!0,Ge.capabilities=c[9],Nt(()=>kl=!1)),Ne.$set(Ge),(!H||d[0]&32768)&&Lt!==(Lt=c[15].t("Tags")+"")&&B(Wt,Lt);const We={};d[0]&128&&(We.tags=(($e=(xe=c[7])==null?void 0:xe.meta)==null?void 0:$e.tags)??[]),d[0]&128&&(We.deleteTag=c[45]),d[0]&128&&(We.addTag=c[46]),ze.$set(We),(!H||d[0]&32768)&&Ft!==(Ft=c[15].t("JSON Preview")+"")&&B(Xt,Ft),el===(el=Kl(c))&&pe?pe.p(c,d):(pe.d(1),pe=el(c),pe&&(pe.c(),pe.m(Me,null))),c[4]?q?q.p(c,d):(q=Bs(c),q.c(),q.m(Pe,null)):q&&(q.d(1),q=null),(!H||d[0]&32768)&&Rt!==(Rt=c[15].t("Save & Update")+"")&&B(Yt,Rt),c[0]?Z||(Z=Cs(),Z.c(),Z.m(ee,null)):Z&&(Z.d(1),Z=null),(!H||d[0]&1&&Zt!==(Zt="text-sm px-3 py-2 transition rounded-xl "+(c[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"))&&i(ee,"class",Zt),(!H||d[0]&1)&&(ee.disabled=c[0])},i(c){H||(te(U),te(P.$$.fragment,c),te(Ve.$$.fragment,c),te(Ae.$$.fragment,c),te(Se.$$.fragment,c),te(Ne.$$.fragment,c),te(ze.$$.fragment,c),H=!0)},o(c){me(U),me(P.$$.fragment,c),me(Ve.$$.fragment,c),me(Ae.$$.fragment,c),me(Se.$$.fragment,c),me(Ne.$$.fragment,c),me(ze.$$.fragment,c),H=!1},d(c){c&&f(e),ue.d(),R&&R.d(),fe.d(),K&&K.d(),de.d(),U&&U.d(),_e.d(),z&&z.d(),J&&J.d(),st(P),st(Ve),st(Ae),st(Se),st(Ne),st(ze),pe.d(),q&&q.d(),Z&&Z.d(),Sl=!1,Nl(Ml)}}}function _a(s){let e,t;return{c(){e=vs("svg"),t=vs("path"),this.h()},l(a){e=bs(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var l=m(e);t=bs(l,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(t).forEach(f),l.forEach(f),this.h()},h(){i(t,"fill-rule","evenodd"),i(t,"d","M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z"),i(t,"clip-rule","evenodd"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 24 24"),i(e,"fill","currentColor"),i(e,"class","size-8")},m(a,l){M(a,e,l),n(e,t)},p:Pl,d(a){a&&f(e)}}}function pa(s){let e,t;return{c(){e=_("img"),this.h()},l(a){e=p(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ws(e.src,t=s[7].meta.profile_image_url)||i(e,"src",t),i(e,"alt","modelfile profile"),i(e,"class","rounded-full size-16 object-cover")},m(a,l){M(a,e,l)},p(a,l){l[0]&16512&&!ws(e.src,t=a[7].meta.profile_image_url)&&i(e,"src",t)},d(a){a&&f(e)}}}function Ts(s){let e,t,a=s[15].t("Base Model (From)")+"",l,r,g,v,w,A=s[15].t("Select a base model")+"",C,j,D,V=dl(s[14].filter(s[28])),T=[];for(let o=0;o<V.length;o+=1)T[o]=Vs(Es(s,V,o));return{c(){e=_("div"),t=_("div"),l=S(a),r=k(),g=_("div"),v=_("select"),w=_("option"),C=S(A);for(let o=0;o<T.length;o+=1)T[o].c();this.h()},l(o){e=p(o,"DIV",{class:!0});var y=m(e);t=p(y,"DIV",{class:!0});var b=m(t);l=N(b,a),b.forEach(f),r=I(y),g=p(y,"DIV",{});var u=m(g);v=p(u,"SELECT",{class:!0,placeholder:!0});var E=m(v);w=p(E,"OPTION",{class:!0});var L=m(w);C=N(L,A),L.forEach(f);for(let X=0;X<T.length;X+=1)T[X].l(E);E.forEach(f),u.forEach(f),y.forEach(f),this.h()},h(){i(t,"class","text-sm font-semibold mb-1"),w.__value=null,he(w,w.__value),i(w,"class","text-gray-900"),i(v,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),i(v,"placeholder","Select a base model (e.g. llama3, gpt-4o)"),v.required=!0,s[7].base_model_id===void 0&&Zs(()=>s[29].call(v)),i(e,"class","my-1")},m(o,y){M(o,e,y),n(e,t),n(t,l),n(e,r),n(e,g),n(g,v),n(v,w),n(w,C);for(let b=0;b<T.length;b+=1)T[b]&&T[b].m(v,null);gs(v,s[7].base_model_id,!0),j||(D=W(v,"change",s[29]),j=!0)},p(o,y){if(y[0]&32768&&a!==(a=o[15].t("Base Model (From)")+"")&&B(l,a),y[0]&32768&&A!==(A=o[15].t("Select a base model")+"")&&B(C,A),y[0]&540672){V=dl(o[14].filter(o[28]));let b;for(b=0;b<V.length;b+=1){const u=Es(o,V,b);T[b]?T[b].p(u,y):(T[b]=Vs(u),T[b].c(),T[b].m(v,null))}for(;b<T.length;b+=1)T[b].d(1);T.length=V.length}y[0]&16512&&gs(v,o[7].base_model_id)},d(o){o&&f(e),Us(T,o),j=!1,D()}}}function Vs(s){let e,t=s[19].name+"",a,l;return{c(){e=_("option"),a=S(t),this.h()},l(r){e=p(r,"OPTION",{class:!0});var g=m(e);a=N(g,t),g.forEach(f),this.h()},h(){e.__value=l=s[19].id,he(e,e.__value),i(e,"class","text-gray-900")},m(r,g){M(r,e,g),n(e,a)},p(r,g){g[0]&540672&&t!==(t=r[19].name+"")&&B(a,t),g[0]&540672&&l!==(l=r[19].id)&&(e.__value=l,he(e,e.__value))},d(r){r&&f(e)}}}function ma(s){let e,t=s[15].t("Custom")+"",a;return{c(){e=_("span"),a=S(t),this.h()},l(l){e=p(l,"SPAN",{class:!0});var r=m(e);a=N(r,t),r.forEach(f),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){M(l,e,r),n(e,a)},p(l,r){r[0]&32768&&t!==(t=l[15].t("Custom")+"")&&B(a,t)},d(l){l&&f(e)}}}function ha(s){let e,t=s[15].t("Default")+"",a;return{c(){e=_("span"),a=S(t),this.h()},l(l){e=p(l,"SPAN",{class:!0});var r=m(e);a=N(r,t),r.forEach(f),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){M(l,e,r),n(e,a)},p(l,r){r[0]&32768&&t!==(t=l[15].t("Default")+"")&&B(a,t)},d(l){l&&f(e)}}}function As(s){let e,t,a,l;return{c(){e=_("textarea"),this.h()},l(r){e=p(r,"TEXTAREA",{class:!0,placeholder:!0,row:!0}),m(e).forEach(f),this.h()},h(){i(e,"class","mt-1 px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),i(e,"placeholder",t=s[15].t("Add a short description about what this model does")),i(e,"row","3")},m(r,g){M(r,e,g),he(e,s[7].meta.description),a||(l=W(e,"input",s[31]),a=!0)},p(r,g){g[0]&32768&&t!==(t=r[15].t("Add a short description about what this model does"))&&i(e,"placeholder",t),g[0]&16512&&he(e,r[7].meta.description)},d(r){r&&f(e),a=!1,l()}}}function ga(s){let e,t=s[15].t("Show")+"",a;return{c(){e=_("span"),a=S(t),this.h()},l(l){e=p(l,"SPAN",{class:!0});var r=m(e);a=N(r,t),r.forEach(f),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){M(l,e,r),n(e,a)},p(l,r){r[0]&32768&&t!==(t=l[15].t("Show")+"")&&B(a,t)},d(l){l&&f(e)}}}function va(s){let e,t=s[15].t("Hide")+"",a;return{c(){e=_("span"),a=S(t),this.h()},l(l){e=p(l,"SPAN",{class:!0});var r=m(e);a=N(r,t),r.forEach(f),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){M(l,e,r),n(e,a)},p(l,r){r[0]&32768&&t!==(t=l[15].t("Hide")+"")&&B(a,t)},d(l){l&&f(e)}}}function Ss(s){let e,t,a,l;function r(v){s[34](v)}let g={admin:!0};return s[8]!==void 0&&(g.params=s[8]),t=new na({props:g}),at.push(()=>Pt(t,"params",r)),t.$on("change",s[35]),{c(){e=_("div"),et(t.$$.fragment),this.h()},l(v){e=p(v,"DIV",{class:!0});var w=m(e);tt(t.$$.fragment,w),w.forEach(f),this.h()},h(){i(e,"class","my-2")},m(v,w){M(v,e,w),lt(t,e,null),l=!0},p(v,w){const A={};!a&&w[0]&256&&(a=!0,A.params=v[8],Nt(()=>a=!1)),t.$set(A)},i(v){l||(te(t.$$.fragment,v),l=!0)},o(v){me(t.$$.fragment,v),l=!1},d(v){v&&f(e),st(t)}}}function ba(s){let e,t=s[15].t("Custom")+"",a;return{c(){e=_("span"),a=S(t),this.h()},l(l){e=p(l,"SPAN",{class:!0});var r=m(e);a=N(r,t),r.forEach(f),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){M(l,e,r),n(e,a)},p(l,r){r[0]&32768&&t!==(t=l[15].t("Custom")+"")&&B(a,t)},d(l){l&&f(e)}}}function wa(s){let e,t=s[15].t("Default")+"",a;return{c(){e=_("span"),a=S(t),this.h()},l(l){e=p(l,"SPAN",{class:!0});var r=m(e);a=N(r,t),r.forEach(f),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){M(l,e,r),n(e,a)},p(l,r){r[0]&32768&&t!==(t=l[15].t("Default")+"")&&B(a,t)},d(l){l&&f(e)}}}function Ns(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',a,l;return{c(){e=_("button"),e.innerHTML=t,this.h()},l(r){e=p(r,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Jt(e)!=="svelte-j580ct"&&(e.innerHTML=t),this.h()},h(){i(e,"class","p-1 px-2 text-xs flex rounded transition"),i(e,"type","button")},m(r,g){M(r,e,g),a||(l=W(e,"click",s[37]),a=!0)},p:Pl,d(r){r&&f(e),a=!1,l()}}}function Ps(s){let e;function t(r,g){return r[7].meta.suggestion_prompts.length>0?Ia:ka}let a=t(s),l=a(s);return{c(){e=_("div"),l.c(),this.h()},l(r){e=p(r,"DIV",{class:!0});var g=m(e);l.l(g),g.forEach(f),this.h()},h(){i(e,"class","flex flex-col space-y-1 mt-2")},m(r,g){M(r,e,g),l.m(e,null)},p(r,g){a===(a=t(r))&&l?l.p(r,g):(l.d(1),l=a(r),l&&(l.c(),l.m(e,null)))},d(r){r&&f(e),l.d()}}}function ka(s){let e,t="No suggestion prompts";return{c(){e=_("div"),e.textContent=t,this.h()},l(a){e=p(a,"DIV",{class:!0,"data-svelte-h":!0}),Jt(e)!=="svelte-18dnedh"&&(e.textContent=t),this.h()},h(){i(e,"class","text-xs text-center")},m(a,l){M(a,e,l)},p:Pl,d(a){a&&f(e)}}}function Ia(s){let e,t=dl(s[7].meta.suggestion_prompts),a=[];for(let l=0;l<t.length;l+=1)a[l]=Ms(ys(s,t,l));return{c(){for(let l=0;l<a.length;l+=1)a[l].c();e=ks()},l(l){for(let r=0;r<a.length;r+=1)a[r].l(l);e=ks()},m(l,r){for(let g=0;g<a.length;g+=1)a[g]&&a[g].m(l,r);M(l,e,r)},p(l,r){if(r[0]&32896){t=dl(l[7].meta.suggestion_prompts);let g;for(g=0;g<t.length;g+=1){const v=ys(l,t,g);a[g]?a[g].p(v,r):(a[g]=Ms(v),a[g].c(),a[g].m(e.parentNode,e))}for(;g<a.length;g+=1)a[g].d(1);a.length=t.length}},d(l){l&&f(e),Us(a,l)}}}function Ms(s){let e,t,a,l,r,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',v,w,A;function C(){s[38].call(t,s[52],s[53])}function j(){return s[39](s[53])}return{c(){e=_("div"),t=_("input"),l=k(),r=_("button"),r.innerHTML=g,v=k(),this.h()},l(D){e=p(D,"DIV",{class:!0});var V=m(e);t=p(V,"INPUT",{class:!0,placeholder:!0}),l=I(V),r=p(V,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Jt(r)!=="svelte-8f7b7y"&&(r.innerHTML=g),v=I(V),V.forEach(f),this.h()},h(){i(t,"class","px-3 py-1.5 text-sm w-full bg-transparent outline-none border-r dark:border-gray-600"),i(t,"placeholder",a=s[15].t("Write a prompt suggestion (e.g. Who are you?)")),i(r,"class","px-2"),i(r,"type","button"),i(e,"class","flex border dark:border-gray-600 rounded-lg")},m(D,V){M(D,e,V),n(e,t),he(t,s[51].content),n(e,l),n(e,r),n(e,v),w||(A=[W(t,"input",C),W(r,"click",j)],w=!0)},p(D,V){s=D,V[0]&32768&&a!==(a=s[15].t("Write a prompt suggestion (e.g. Who are you?)"))&&i(t,"placeholder",a),V[0]&16512&&t.value!==s[51].content&&he(t,s[51].content)},d(D){D&&f(e),w=!1,Nl(A)}}}function ya(s){let e,t=s[15].t("Show")+"",a;return{c(){e=_("span"),a=S(t),this.h()},l(l){e=p(l,"SPAN",{class:!0});var r=m(e);a=N(r,t),r.forEach(f),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){M(l,e,r),n(e,a)},p(l,r){r[0]&32768&&t!==(t=l[15].t("Show")+"")&&B(a,t)},d(l){l&&f(e)}}}function Ea(s){let e,t=s[15].t("Hide")+"",a;return{c(){e=_("span"),a=S(t),this.h()},l(l){e=p(l,"SPAN",{class:!0});var r=m(e);a=N(r,t),r.forEach(f),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){M(l,e,r),n(e,a)},p(l,r){r[0]&32768&&t!==(t=l[15].t("Hide")+"")&&B(a,t)},d(l){l&&f(e)}}}function Bs(s){let e,t,a;return{c(){e=_("div"),t=_("textarea"),this.h()},l(l){e=p(l,"DIV",{});var r=m(e);t=p(r,"TEXTAREA",{class:!0,rows:!0}),m(t).forEach(f),r.forEach(f),this.h()},h(){i(t,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),i(t,"rows","10"),t.value=a=JSON.stringify(s[7],null,2),t.disabled=!0,t.readOnly=!0},m(l,r){M(l,e,r),n(e,t)},p(l,r){r[0]&16512&&a!==(a=JSON.stringify(l[7],null,2))&&(t.value=a)},d(l){l&&f(e)}}}function Cs(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
										transform-origin: center;
										animation: spinner_AtaB 0.75s infinite linear;
									}
									@keyframes spinner_AtaB {
										100% {
											transform: rotate(360deg);
										}
									}
								</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=_("div"),e.innerHTML=t,this.h()},l(a){e=p(a,"DIV",{class:!0,"data-svelte-h":!0}),Jt(e)!=="svelte-1k8nuce"&&(e.innerHTML=t),this.h()},h(){i(e,"class","ml-1.5 self-center")},m(a,l){M(a,e,l)},d(a){a&&f(e)}}}function Da(s){let e,t,a,l,r,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg>',v,w,A=s[15].t("Back")+"",C,j,D,V,T,o=s[19]&&Ds(s);return{c(){e=_("div"),t=_("input"),a=k(),l=_("button"),r=_("div"),r.innerHTML=g,v=k(),w=_("div"),C=S(A),j=k(),o&&o.c(),this.h()},l(y){e=p(y,"DIV",{class:!0});var b=m(e);t=p(b,"INPUT",{type:!0,accept:!0}),a=I(b),l=p(b,"BUTTON",{class:!0});var u=m(l);r=p(u,"DIV",{class:!0,"data-svelte-h":!0}),Jt(r)!=="svelte-1klo87r"&&(r.innerHTML=g),v=I(u),w=p(u,"DIV",{class:!0});var E=m(w);C=N(E,A),E.forEach(f),u.forEach(f),j=I(b),o&&o.l(b),b.forEach(f),this.h()},h(){i(t,"type","file"),t.hidden=!0,i(t,"accept","image/*"),i(r,"class","self-center"),i(w,"class","self-center font-medium text-sm"),i(l,"class","flex space-x-1"),i(e,"class","w-full max-h-full")},m(y,b){M(y,e,b),n(e,t),s[22](t),n(e,a),n(e,l),n(l,r),n(l,v),n(l,w),n(w,C),n(e,j),o&&o.m(e,null),D=!0,V||(T=[W(t,"change",s[23]),W(t,"change",s[24]),W(l,"click",s[25])],V=!0)},p(y,b){(!D||b[0]&32768)&&A!==(A=y[15].t("Back")+"")&&B(C,A),y[19]?o?(o.p(y,b),b[0]&524288&&te(o,1)):(o=Ds(y),o.c(),te(o,1),o.m(e,null)):o&&(Ls(),me(o,1,1,()=>{o=null}),js())},i(y){D||(te(o),D=!0)},o(y){me(o),D=!1},d(y){y&&f(e),s[22](null),o&&o.d(),V=!1,Nl(T)}}}const Os=s=>s.type==="filter",Hs=s=>s.type==="action";function Ta(s,e,t){let a,l,r,g,v,w;St(s,Is,h=>t(14,a=h)),St(s,ea,h=>t(50,l=h)),St(s,ta,h=>t(16,g=h)),St(s,la,h=>t(17,v=h)),St(s,sa,h=>t(18,w=h));const A=Ws("i18n");St(s,A,h=>t(15,r=h));let C=!1,j,D,V=!1,T=!1,o=null,y="",b="",u={id:"",base_model_id:null,name:"",meta:{profile_image_url:"/static/favicon.png",description:"",suggestion_prompts:null,tags:[]},params:{system:""}},E={},L={vision:!0},X=[],ge=[],ve=[],le=[];const G=async()=>{t(0,C=!0),t(7,u.id=y,u),t(7,u.name=b,u),t(7,u.meta.capabilities=L,u),X.length>0?t(7,u.meta.knowledge=X,u):u.meta.knowledge&&delete u.meta.knowledge,ge.length>0?t(7,u.meta.toolIds=ge,u):u.meta.toolIds&&delete u.meta.toolIds,ve.length>0?t(7,u.meta.filterIds=ve,u):u.meta.filterIds&&delete u.meta.filterIds,le.length>0?t(7,u.meta.actionIds=le,u):u.meta.actionIds&&delete u.meta.actionIds,t(7,u.params.stop=E.stop?E.stop.split(",").filter(O=>O.trim()):null,u),Object.keys(u.params).forEach(O=>{(u.params[O]===""||u.params[O]===null)&&delete u.params[O]}),await aa(localStorage.token,u.id,u)&&(await Is.set(await oa(localStorage.token)),$s.success(r.t("Model updated successfully")),await fl("/workspace/models")),t(0,C=!1)};Xs(()=>{var O,x,Y,$,ye,Ie,F,ie,Le,Ee,Fe,se,ae,ce,De,Re,Ze,dt,re,_t,pt,mt,Te;const h=l.url.searchParams.get("id");h?(t(19,o=a.find(P=>P.id===h)),o?(t(5,y=o.id),t(6,b=o.name),t(7,u={...u,...JSON.parse(JSON.stringify(o!=null&&o.info?o==null?void 0:o.info:{id:o.id,name:o.name}))}),o.preset&&o.owned_by==="ollama"&&!u.base_model_id.includes(":")&&t(7,u.base_model_id=`${u.base_model_id}:latest`,u),t(8,E={...E,...(O=o==null?void 0:o.info)==null?void 0:O.params}),t(8,E.stop=E!=null&&E.stop?(typeof E.stop=="string"?E.stop.split(","):(E==null?void 0:E.stop)??[]).join(","):null,E),(Y=(x=o==null?void 0:o.info)==null?void 0:x.meta)!=null&&Y.knowledge&&(console.log((ye=($=o==null?void 0:o.info)==null?void 0:$.meta)==null?void 0:ye.knowledge),t(10,X=[...(F=(Ie=o==null?void 0:o.info)==null?void 0:Ie.meta)==null?void 0:F.knowledge].map(P=>P!=null&&P.collection_name?{id:P.collection_name,name:P.name,legacy:!0}:P!=null&&P.collection_names?{name:P.name,type:"collection",collection_names:P.collection_names,legacy:!0}:P))),(Le=(ie=o==null?void 0:o.info)==null?void 0:ie.meta)!=null&&Le.toolIds&&t(11,ge=[...(Fe=(Ee=o==null?void 0:o.info)==null?void 0:Ee.meta)==null?void 0:Fe.toolIds]),(ae=(se=o==null?void 0:o.info)==null?void 0:se.meta)!=null&&ae.filterIds&&t(12,ve=[...(De=(ce=o==null?void 0:o.info)==null?void 0:ce.meta)==null?void 0:De.filterIds]),(Ze=(Re=o==null?void 0:o.info)==null?void 0:Re.meta)!=null&&Ze.actionIds&&t(13,le=[...(re=(dt=o==null?void 0:o.info)==null?void 0:dt.meta)==null?void 0:re.actionIds]),(o==null?void 0:o.owned_by)==="openai"&&t(9,L.usage=!1,L),(pt=(_t=o==null?void 0:o.info)==null?void 0:_t.meta)!=null&&pt.capabilities&&t(9,L={...L,...(Te=(mt=o==null?void 0:o.info)==null?void 0:mt.meta)==null?void 0:Te.capabilities}),console.log(o)):fl("/workspace/models")):fl("/workspace/models")});function rt(h){at[h?"unshift":"push"](()=>{j=h,t(1,j)})}function Mt(){D=this.files,t(2,D)}const nt=()=>{let h=new FileReader;h.onload=O=>{let x=`${O.target.result}`;const Y=new Image;Y.src=x,Y.onload=function(){const $=document.createElement("canvas"),ye=$.getContext("2d"),Ie=Y.width/Y.height;let F,ie;Ie>1?(F=250*Ie,ie=250):(F=250,ie=250/Ie),$.width=250,$.height=250;const Le=(250-F)/2,Ee=(250-ie)/2;ye.drawImage(Y,Le,Ee,F,ie);const Fe=$.toDataURL();t(7,u.meta.profile_image_url=Fe,u),t(2,D=null)}},D&&D.length>0&&["image/gif","image/webp","image/jpeg","image/png","image/svg+xml"].includes(D[0].type)?h.readAsDataURL(D[0]):(console.log(`Unsupported File Type '${D[0].type}'.`),t(2,D=null))},ne=()=>{fl("/workspace/models")},be=()=>{j.click()};function Oe(){b=this.value,t(6,b)}const Xe=h=>h.id!==o.id&&!(h!=null&&h.preset);function ot(){u.base_model_id=Gs(this),t(7,u)}const Bt=()=>{u.meta.description===null?t(7,u.meta.description="",u):t(7,u.meta.description=null,u)};function oe(){u.meta.description=this.value,t(7,u)}function Ct(){u.params.system=this.value,t(7,u)}const Ot=()=>{t(3,V=!V)};function it(h){E=h,t(8,E)}const Ht=h=>{t(7,u.params={...u.params,...E},u)},we=()=>{var h;(((h=u==null?void 0:u.meta)==null?void 0:h.suggestion_prompts)??null)===null?t(7,u.meta.suggestion_prompts=[{content:""}],u):t(7,u.meta.suggestion_prompts=null,u)},He=()=>{(u.meta.suggestion_prompts.length===0||u.meta.suggestion_prompts.at(-1).content!=="")&&t(7,u.meta.suggestion_prompts=[...u.meta.suggestion_prompts,{content:""}],u)};function Ue(h,O){h[O].content=this.value,t(7,u)}const Ye=h=>{u.meta.suggestion_prompts.splice(h,1),t(7,u)};function ct(h){X=h,t(10,X)}function Ut(h){ge=h,t(11,ge)}function Q(h){ve=h,t(12,ve)}function ke(h){le=h,t(13,le)}function je(h){L=h,t(9,L)}return[C,j,D,V,T,y,b,u,E,L,X,ge,ve,le,a,r,g,v,w,o,A,G,rt,Mt,nt,ne,be,Oe,Xe,ot,Bt,oe,Ct,Ot,it,Ht,we,He,Ue,Ye,ct,Ut,Q,ke,je,h=>{t(7,u.meta.tags=u.meta.tags.filter(O=>O.name!==h),u)},h=>{var O;console.log(h),((O=u==null?void 0:u.meta)==null?void 0:O.tags)??null?t(7,u.meta.tags=[...u.meta.tags,{name:h}],u):t(7,u.meta.tags=[{name:h}],u)},()=>{t(4,T=!T)},()=>{G()}]}class La extends Qs{constructor(e){super(),xs(this,e,Ta,Da,qs,{},null,[-1,-1])}}export{La as component};
//# sourceMappingURL=20.BqXOqpws.js.map
