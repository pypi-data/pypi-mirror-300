import{s as kt,e as w,a as O,t as We,c as C,b as U,g as j,d as Xe,f as b,o as y,i as V,h as k,A as lt,j as yt,n as $e,C as Ht,H as It,G as Vt,r as W,m as _e,v as Ne,w as X,B as Tt,F as et,x as nt}from"../chunks/scheduler.Bjr9RZaN.js";import{S as wt,i as Ct,b as Z,c as Ce,d as Ee,m as De,t as v,a as D,e as ye,f as He,g as we}from"../chunks/index.NoFf4Nre.js";import{e as st}from"../chunks/each.D6YF6ztN.js";import{S as St,f as Pe,B as Lt,g as Fe,r as qe}from"../chunks/utils.4gDQ54k9.js";import{R as Mt,A as Oe}from"../chunks/Radio.D-A72FRT.js";function $t(e){let t,n,r,s,d,c=(e[0]?e[1][0]:e[1][1])+"",i,a,o,p;return{c(){t=w("div"),n=w("input"),s=O(),d=w("label"),i=We(c),this.h()},l(l){t=C(l,"DIV",{class:!0});var _=U(t);n=C(_,"INPUT",{type:!0,class:!0,id:!0}),s=j(_),d=C(_,"LABEL",{class:!0,for:!0});var u=U(d);i=Xe(u,c),u.forEach(b),_.forEach(b),this.h()},h(){y(n,"type","checkbox"),y(n,"class","btn-check"),y(n,"id",r="btn-check-outlined"+e[2]),y(d,"class","btn btn-outline-primary btn-sm"),y(d,"for",a="btn-check-outlined"+e[2]),y(t,"class","toggle")},m(l,_){V(l,t,_),k(t,n),n.checked=e[0],k(t,s),k(t,d),k(d,i),o||(p=[lt(n,"change",e[4]),lt(n,"change",e[5])],o=!0)},p(l,[_]){_&4&&r!==(r="btn-check-outlined"+l[2])&&y(n,"id",r),_&1&&(n.checked=l[0]),_&3&&c!==(c=(l[0]?l[1][0]:l[1][1])+"")&&yt(i,c),_&4&&a!==(a="btn-check-outlined"+l[2])&&y(d,"for",a)},i:$e,o:$e,d(l){l&&b(t),o=!1,Ht(p)}}}function Ot(e,t,n){let{value:r}=t,{texts:s=["on","off"]}=t,d="";It(()=>{n(2,d=Math.random().toString(16).slice(2))});const c=Vt();function i(){r=this.checked,n(0,r)}const a=()=>{c("change")};return e.$$set=o=>{"value"in o&&n(0,r=o.value),"texts"in o&&n(1,s=o.texts)},[r,s,d,c,i,a]}class Et extends wt{constructor(t){super(),Ct(this,t,Ot,$t,kt,{value:0,texts:1})}}const tt={0:{},1:{capex_yearly:"cost_capex_yearly",opex_yearly:"cost_opex_yearly",cost_opex_total:"cost_opex_yearly_total",cost_opex:"cost_opex_variable",cost_capex_total:"cost_capex_yearly_total",cost_capex:"cost_capex_overnight"}};function Re(e,t=1){return t in tt&&e in tt[t]?tt[t][e]:e}function at(e,t,n){const r=e.slice();return r[65]=t[n],r[66]=t,r[67]=n,r}function ot(e){let t,n,r='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCost" aria-expanded="false" aria-controls="collapseCost">Cost selection</button>',s,d,c,i,a,o,p='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">Technology and Carrier Selection</button>',l,_,u,g,q="Technologies (for Capex/Opex)",L,le,he,pe,T,ge,J,S,M='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">Data Selection</button>',A,oe,me,se,ve,H,de,Ie="Aggregation",B,ie,K,Se,m,z,re,fe=st(Object.keys(e[22])),I=[];for(let h=0;h<fe.length;h+=1)I[h]=rt(at(e,fe,h));const Le=h=>D(I[h],1,1,()=>{I[h]=null});let N=e[11].length>0&&ct(e),P=e[13].length>0&&dt(e),F=e[15].length>0&&ft(e),R=e[18].length>0&&_t(e),x=e[19].length>0&&ut(e);function Ze(h){e[48](h)}function xe(h){e[49](h)}let Ae={};e[20]!==void 0&&(Ae.options=e[20]),e[21]!==void 0&&(Ae.selected_option=e[21]),ie=new Mt({props:Ae}),W.push(()=>Z(ie,"options",Ze)),W.push(()=>Z(ie,"selected_option",xe)),ie.$on("selection-changed",e[50]);let ee=e[21]==e[20][1]&&ht(e),te=e[6]&&pt(e);return{c(){t=w("div"),n=w("h2"),n.innerHTML=r,s=O(),d=w("div"),c=w("div");for(let h=0;h<I.length;h+=1)I[h].c();i=O(),a=w("div"),o=w("h2"),o.innerHTML=p,l=O(),_=w("div"),u=w("div"),g=w("h3"),g.textContent=q,L=O(),N&&N.c(),le=O(),P&&P.c(),he=O(),F&&F.c(),pe=O(),R&&R.c(),T=O(),x&&x.c(),ge=O(),J=w("div"),S=w("h2"),S.innerHTML=M,A=O(),oe=w("div"),me=w("div"),se=w("div"),ve=w("div"),H=w("div"),de=w("h3"),de.textContent=Ie,B=O(),Ce(ie.$$.fragment),m=O(),ee&&ee.c(),z=O(),te&&te.c(),this.h()},l(h){t=C(h,"DIV",{class:!0});var E=U(t);n=C(E,"H2",{class:!0,"data-svelte-h":!0}),_e(n)!=="svelte-1y9fyqz"&&(n.innerHTML=r),s=j(E),d=C(E,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var ke=U(d);c=C(ke,"DIV",{class:!0});var ae=U(c);for(let Be=0;Be<I.length;Be+=1)I[Be].l(ae);ae.forEach(b),ke.forEach(b),E.forEach(b),i=j(h),a=C(h,"DIV",{class:!0});var Te=U(a);o=C(Te,"H2",{class:!0,"data-svelte-h":!0}),_e(o)!=="svelte-c8inc9"&&(o.innerHTML=p),l=j(Te),_=C(Te,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var Ue=U(_);u=C(Ue,"DIV",{class:!0});var be=U(u);g=C(be,"H3",{"data-svelte-h":!0}),_e(g)!=="svelte-17gugf8"&&(g.textContent=q),L=j(be),N&&N.l(be),le=j(be),P&&P.l(be),he=j(be),F&&F.l(be),pe=j(be),R&&R.l(be),T=j(be),x&&x.l(be),be.forEach(b),Ue.forEach(b),Te.forEach(b),ge=j(h),J=C(h,"DIV",{class:!0});var je=U(J);S=C(je,"H2",{class:!0,"data-svelte-h":!0}),_e(S)!=="svelte-hz94lo"&&(S.innerHTML=M),A=j(je),oe=C(je,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var Je=U(oe);me=C(Je,"DIV",{class:!0});var Ke=U(me);se=C(Ke,"DIV",{class:!0});var Me=U(se);ve=C(Me,"DIV",{class:!0});var Qe=U(ve);H=C(Qe,"DIV",{class:!0});var ze=U(H);de=C(ze,"H3",{"data-svelte-h":!0}),_e(de)!=="svelte-126hufg"&&(de.textContent=Ie),B=j(ze),Ee(ie.$$.fragment,ze),ze.forEach(b),Qe.forEach(b),m=j(Me),ee&&ee.l(Me),z=j(Me),te&&te.l(Me),Me.forEach(b),Ke.forEach(b),Je.forEach(b),je.forEach(b),this.h()},h(){y(n,"class","accordion-header"),y(c,"class","accordion-body"),y(d,"id","collapseCost"),y(d,"class","accordion-collapse collapse"),y(d,"data-bs-parent","#accordionExample"),y(t,"class","accordion-item"),y(o,"class","accordion-header"),y(u,"class","accordion-body"),y(_,"id","collapseTwo"),y(_,"class","accordion-collapse collapse"),y(_,"data-bs-parent","#accordionExample"),y(a,"class","accordion-item"),y(S,"class","accordion-header"),y(H,"class","col-6"),y(ve,"class","row"),y(se,"class","accordion-body"),y(me,"class","accordion-body"),y(oe,"id","collapseThree"),y(oe,"class","accordion-collapse collapse"),y(oe,"data-bs-parent","#accordionExample"),y(J,"class","accordion-item")},m(h,E){V(h,t,E),k(t,n),k(t,s),k(t,d),k(d,c);for(let ke=0;ke<I.length;ke+=1)I[ke]&&I[ke].m(c,null);V(h,i,E),V(h,a,E),k(a,o),k(a,l),k(a,_),k(_,u),k(u,g),k(u,L),N&&N.m(u,null),k(u,le),P&&P.m(u,null),k(u,he),F&&F.m(u,null),k(u,pe),R&&R.m(u,null),k(u,T),x&&x.m(u,null),V(h,ge,E),V(h,J,E),k(J,S),k(J,A),k(J,oe),k(oe,me),k(me,se),k(se,ve),k(ve,H),k(H,de),k(H,B),De(ie,H,null),k(se,m),ee&&ee.m(se,null),k(se,z),te&&te.m(se,null),re=!0},p(h,E){if(E[0]&20971520){fe=st(Object.keys(h[22]));let ae;for(ae=0;ae<fe.length;ae+=1){const Te=at(h,fe,ae);I[ae]?(I[ae].p(Te,E),v(I[ae],1)):(I[ae]=rt(Te),I[ae].c(),v(I[ae],1),I[ae].m(c,null))}for(we(),ae=fe.length;ae<I.length;ae+=1)Le(ae);ye()}h[11].length>0?N?(N.p(h,E),E[0]&2048&&v(N,1)):(N=ct(h),N.c(),v(N,1),N.m(u,le)):N&&(we(),D(N,1,1,()=>{N=null}),ye()),h[13].length>0?P?(P.p(h,E),E[0]&8192&&v(P,1)):(P=dt(h),P.c(),v(P,1),P.m(u,he)):P&&(we(),D(P,1,1,()=>{P=null}),ye()),h[15].length>0?F?(F.p(h,E),E[0]&32768&&v(F,1)):(F=ft(h),F.c(),v(F,1),F.m(u,pe)):F&&(we(),D(F,1,1,()=>{F=null}),ye()),h[18].length>0?R?(R.p(h,E),E[0]&262144&&v(R,1)):(R=_t(h),R.c(),v(R,1),R.m(u,T)):R&&(we(),D(R,1,1,()=>{R=null}),ye()),h[19].length>0?x?(x.p(h,E),E[0]&524288&&v(x,1)):(x=ut(h),x.c(),v(x,1),x.m(u,null)):x&&(we(),D(x,1,1,()=>{x=null}),ye());const ke={};!K&&E[0]&1048576&&(K=!0,ke.options=h[20],X(()=>K=!1)),!Se&&E[0]&2097152&&(Se=!0,ke.selected_option=h[21],X(()=>Se=!1)),ie.$set(ke),h[21]==h[20][1]?ee?(ee.p(h,E),E[0]&3145728&&v(ee,1)):(ee=ht(h),ee.c(),v(ee,1),ee.m(se,z)):ee&&(we(),D(ee,1,1,()=>{ee=null}),ye()),h[6]?te?(te.p(h,E),E[0]&64&&v(te,1)):(te=pt(h),te.c(),v(te,1),te.m(se,null)):te&&(we(),D(te,1,1,()=>{te=null}),ye())},i(h){if(!re){for(let E=0;E<fe.length;E+=1)v(I[E]);v(N),v(P),v(F),v(R),v(x),v(ie.$$.fragment,h),v(ee),v(te),re=!0}},o(h){I=I.filter(Boolean);for(let E=0;E<I.length;E+=1)D(I[E]);D(N),D(P),D(F),D(R),D(x),D(ie.$$.fragment,h),D(ee),D(te),re=!1},d(h){h&&(b(t),b(i),b(a),b(ge),b(J)),Tt(I,h),N&&N.d(),P&&P.d(),F&&F.d(),R&&R.d(),x&&x.d(),He(ie),ee&&ee.d(),te&&te.d()}}}function it(e){let t,n,r,s;function d(i){e[32](i,e[65])}let c={};return e[22][e[65]].subdivision!==void 0&&(c.value=e[22][e[65]].subdivision),n=new Et({props:c}),W.push(()=>Z(n,"value",d)),n.$on("change",e[24]),{c(){t=We(`Subdivision
											`),Ce(n.$$.fragment)},l(i){t=Xe(i,`Subdivision
											`),Ee(n.$$.fragment,i)},m(i,a){V(i,t,a),De(n,i,a),s=!0},p(i,a){e=i;const o={};!r&&a[0]&4194304&&(r=!0,o.value=e[22][e[65]].subdivision,X(()=>r=!1)),n.$set(o)},i(i){s||(v(n.$$.fragment,i),s=!0)},o(i){D(n.$$.fragment,i),s=!1},d(i){i&&b(t),He(n,i)}}}function rt(e){let t,n,r=e[22][e[65]].title+"",s,d,c,i,a,o,p,l;function _(q){e[31](q,e[65])}let u={};e[22][e[65]].show!==void 0&&(u.value=e[22][e[65]].show),i=new Et({props:u}),W.push(()=>Z(i,"value",_)),i.$on("change",e[24]);let g=e[22][e[65]].show&&e[65]!="carbon_emission"&&it(e);return{c(){t=w("div"),n=w("h4"),s=We(r),d=We(" :"),c=O(),Ce(i.$$.fragment),o=O(),g&&g.c(),p=O(),this.h()},l(q){t=C(q,"DIV",{class:!0});var L=U(t);n=C(L,"H4",{});var le=U(n);s=Xe(le,r),d=Xe(le," :"),le.forEach(b),c=j(L),Ee(i.$$.fragment,L),o=j(L),g&&g.l(L),p=j(L),L.forEach(b),this.h()},h(){y(t,"class","d-flex")},m(q,L){V(q,t,L),k(t,n),k(n,s),k(n,d),k(t,c),De(i,t,null),k(t,o),g&&g.m(t,null),k(t,p),l=!0},p(q,L){e=q,(!l||L[0]&4194304)&&r!==(r=e[22][e[65]].title+"")&&yt(s,r);const le={};!a&&L[0]&4194304&&(a=!0,le.value=e[22][e[65]].show,X(()=>a=!1)),i.$set(le),e[22][e[65]].show&&e[65]!="carbon_emission"?g?(g.p(e,L),L[0]&4194304&&v(g,1)):(g=it(e),g.c(),v(g,1),g.m(t,p)):g&&(we(),D(g,1,1,()=>{g=null}),ye())},i(q){l||(v(i.$$.fragment,q),v(g),l=!0)},o(q){D(i.$$.fragment,q),D(g),l=!1},d(q){q&&b(t),He(i),g&&g.d()}}}function ct(e){let t,n="Transport",r,s,d,c,i;function a(l){e[33](l)}function o(l){e[34](l)}let p={};return e[12]!==void 0&&(p.selected_elements=e[12]),e[11]!==void 0&&(p.elements=e[11]),s=new Oe({props:p}),W.push(()=>Z(s,"selected_elements",a)),W.push(()=>Z(s,"elements",o)),s.$on("selection-changed",e[35]),{c(){t=w("h4"),t.textContent=n,r=O(),Ce(s.$$.fragment)},l(l){t=C(l,"H4",{"data-svelte-h":!0}),_e(t)!=="svelte-1tmas69"&&(t.textContent=n),r=j(l),Ee(s.$$.fragment,l)},m(l,_){V(l,t,_),V(l,r,_),De(s,l,_),i=!0},p(l,_){const u={};!d&&_[0]&4096&&(d=!0,u.selected_elements=l[12],X(()=>d=!1)),!c&&_[0]&2048&&(c=!0,u.elements=l[11],X(()=>c=!1)),s.$set(u)},i(l){i||(v(s.$$.fragment,l),i=!0)},o(l){D(s.$$.fragment,l),i=!1},d(l){l&&(b(t),b(r)),He(s,l)}}}function dt(e){let t,n="Storage",r,s,d,c,i;function a(l){e[36](l)}function o(l){e[37](l)}let p={};return e[14]!==void 0&&(p.selected_elements=e[14]),e[13]!==void 0&&(p.elements=e[13]),s=new Oe({props:p}),W.push(()=>Z(s,"selected_elements",a)),W.push(()=>Z(s,"elements",o)),s.$on("selection-changed",e[38]),{c(){t=w("h4"),t.textContent=n,r=O(),Ce(s.$$.fragment)},l(l){t=C(l,"H4",{"data-svelte-h":!0}),_e(t)!=="svelte-hjv5od"&&(t.textContent=n),r=j(l),Ee(s.$$.fragment,l)},m(l,_){V(l,t,_),V(l,r,_),De(s,l,_),i=!0},p(l,_){const u={};!d&&_[0]&16384&&(d=!0,u.selected_elements=l[14],X(()=>d=!1)),!c&&_[0]&8192&&(c=!0,u.elements=l[13],X(()=>c=!1)),s.$set(u)},i(l){i||(v(s.$$.fragment,l),i=!0)},o(l){D(s.$$.fragment,l),i=!1},d(l){l&&(b(t),b(r)),He(s,l)}}}function ft(e){let t,n="Conversion",r,s,d,c,i;function a(l){e[39](l)}function o(l){e[40](l)}let p={};return e[16]!==void 0&&(p.selected_elements=e[16]),e[15]!==void 0&&(p.elements=e[15]),s=new Oe({props:p}),W.push(()=>Z(s,"selected_elements",a)),W.push(()=>Z(s,"elements",o)),s.$on("selection-changed",e[41]),{c(){t=w("h4"),t.textContent=n,r=O(),Ce(s.$$.fragment)},l(l){t=C(l,"H4",{"data-svelte-h":!0}),_e(t)!=="svelte-ad5jza"&&(t.textContent=n),r=j(l),Ee(s.$$.fragment,l)},m(l,_){V(l,t,_),V(l,r,_),De(s,l,_),i=!0},p(l,_){const u={};!d&&_[0]&65536&&(d=!0,u.selected_elements=l[16],X(()=>d=!1)),!c&&_[0]&32768&&(c=!0,u.elements=l[15],X(()=>c=!1)),s.$set(u)},i(l){i||(v(s.$$.fragment,l),i=!0)},o(l){D(s.$$.fragment,l),i=!1},d(l){l&&(b(t),b(r)),He(s,l)}}}function _t(e){let t,n="Cost of Carrier",r,s,d,c,i;function a(l){e[42](l)}function o(l){e[43](l)}let p={};return e[7]!==void 0&&(p.selected_elements=e[7]),e[18]!==void 0&&(p.elements=e[18]),s=new Oe({props:p}),W.push(()=>Z(s,"selected_elements",a)),W.push(()=>Z(s,"elements",o)),s.$on("selection-changed",e[44]),{c(){t=w("h3"),t.textContent=n,r=O(),Ce(s.$$.fragment)},l(l){t=C(l,"H3",{"data-svelte-h":!0}),_e(t)!=="svelte-bhb6z8"&&(t.textContent=n),r=j(l),Ee(s.$$.fragment,l)},m(l,_){V(l,t,_),V(l,r,_),De(s,l,_),i=!0},p(l,_){const u={};!d&&_[0]&128&&(d=!0,u.selected_elements=l[7],X(()=>d=!1)),!c&&_[0]&262144&&(c=!0,u.elements=l[18],X(()=>c=!1)),s.$set(u)},i(l){i||(v(s.$$.fragment,l),i=!0)},o(l){D(s.$$.fragment,l),i=!1},d(l){l&&(b(t),b(r)),He(s,l)}}}function ut(e){let t,n="Shed Demand",r,s,d,c,i;function a(l){e[45](l)}function o(l){e[46](l)}let p={};return e[8]!==void 0&&(p.selected_elements=e[8]),e[19]!==void 0&&(p.elements=e[19]),s=new Oe({props:p}),W.push(()=>Z(s,"selected_elements",a)),W.push(()=>Z(s,"elements",o)),s.$on("selection-changed",e[47]),{c(){t=w("h3"),t.textContent=n,r=O(),Ce(s.$$.fragment)},l(l){t=C(l,"H3",{"data-svelte-h":!0}),_e(t)!=="svelte-13kd4c5"&&(t.textContent=n),r=j(l),Ee(s.$$.fragment,l)},m(l,_){V(l,t,_),V(l,r,_),De(s,l,_),i=!0},p(l,_){const u={};!d&&_[0]&256&&(d=!0,u.selected_elements=l[8],X(()=>d=!1)),!c&&_[0]&524288&&(c=!0,u.elements=l[19],X(()=>c=!1)),s.$set(u)},i(l){i||(v(s.$$.fragment,l),i=!0)},o(l){D(s.$$.fragment,l),i=!1},d(l){l&&(b(t),b(r)),He(s,l)}}}function ht(e){let t,n="Location",r,s,d,c;function i(o){e[51](o)}let a={elements:e[3]};return e[4]!==void 0&&(a.selected_elements=e[4]),s=new Oe({props:a}),W.push(()=>Z(s,"selected_elements",i)),s.$on("selection-changed",e[52]),{c(){t=w("h3"),t.textContent=n,r=O(),Ce(s.$$.fragment)},l(o){t=C(o,"H3",{"data-svelte-h":!0}),_e(t)!=="svelte-15gguv3"&&(t.textContent=n),r=j(o),Ee(s.$$.fragment,o)},m(o,p){V(o,t,p),V(o,r,p),De(s,o,p),c=!0},p(o,p){const l={};p[0]&8&&(l.elements=o[3]),!d&&p[0]&16&&(d=!0,l.selected_elements=o[4],X(()=>d=!1)),s.$set(l)},i(o){c||(v(s.$$.fragment,o),c=!0)},o(o){D(s.$$.fragment,o),c=!1},d(o){o&&(b(t),b(r)),He(s,o)}}}function pt(e){let t,n="Year",r,s,d,c;function i(o){e[53](o)}let a={elements:e[2]};return e[6]!==void 0&&(a.selected_elements=e[6]),s=new Oe({props:a}),W.push(()=>Z(s,"selected_elements",i)),s.$on("selection-changed",e[54]),{c(){t=w("h3"),t.textContent=n,r=O(),Ce(s.$$.fragment)},l(o){t=C(o,"H3",{"data-svelte-h":!0}),_e(t)!=="svelte-r9e7qt"&&(t.textContent=n),r=j(o),Ee(s.$$.fragment,o)},m(o,p){V(o,t,p),V(o,r,p),De(s,o,p),c=!0},p(o,p){const l={};p[0]&4&&(l.elements=o[2]),!d&&p[0]&64&&(d=!0,l.selected_elements=o[6],X(()=>d=!1)),s.$set(l)},i(o){c||(v(s.$$.fragment,o),c=!0)},o(o){D(s.$$.fragment,o),c=!1},d(o){o&&(b(t),b(r)),He(s,o)}}}function jt(e){let t,n,r,s;const d=[At,qt],c=[];function i(a,o){return a[23].data.datasets.length==0||a[23].data.datasets[0].data.length==0?0:1}return t=i(e),n=c[t]=d[t](e),{c(){n.c(),r=nt()},l(a){n.l(a),r=nt()},m(a,o){c[t].m(a,o),V(a,r,o),s=!0},p(a,o){let p=t;t=i(a),t===p?c[t].p(a,o):(we(),D(c[p],1,1,()=>{c[p]=null}),ye(),n=c[t],n?n.p(a,o):(n=c[t]=d[t](a),n.c()),v(n,1),n.m(r.parentNode,r))},i(a){s||(v(n),s=!0)},o(a){D(n),s=!1},d(a){a&&b(r),c[t].d(a)}}}function zt(e){let t,n='<div class="spinner-border center" role="status"><span class="visually-hidden">Loading...</span></div>';return{c(){t=w("div"),t.innerHTML=n,this.h()},l(r){t=C(r,"DIV",{class:!0,"data-svelte-h":!0}),_e(t)!=="svelte-1a5ljpq"&&(t.innerHTML=n),this.h()},h(){y(t,"class","text-center")},m(r,s){V(r,t,s)},p:$e,i:$e,o:$e,d(r){r&&b(t)}}}function qt(e){let t,n,r,s;function d(a){e[55](a)}function c(a){e[56](a)}let i={};return e[23]!==void 0&&(i.config=e[23]),e[5].detail.system.reference_year!==void 0&&(i.year_offset=e[5].detail.system.reference_year),t=new Lt({props:i}),W.push(()=>Z(t,"config",d)),W.push(()=>Z(t,"year_offset",c)),{c(){Ce(t.$$.fragment)},l(a){Ee(t.$$.fragment,a)},m(a,o){De(t,a,o),s=!0},p(a,o){const p={};!n&&o[0]&8388608&&(n=!0,p.config=a[23],X(()=>n=!1)),!r&&o[0]&32&&(r=!0,p.year_offset=a[5].detail.system.reference_year,X(()=>r=!1)),t.$set(p)},i(a){s||(v(t.$$.fragment,a),s=!0)},o(a){D(t.$$.fragment,a),s=!1},d(a){He(t,a)}}}function At(e){let t,n="No data with this selection.";return{c(){t=w("div"),t.textContent=n,this.h()},l(r){t=C(r,"DIV",{class:!0,"data-svelte-h":!0}),_e(t)!=="svelte-1doxial"&&(t.textContent=n),this.h()},h(){y(t,"class","text-center")},m(r,s){V(r,t,s)},p:$e,i:$e,o:$e,d(r){r&&b(t)}}}function Bt(e){let t,n="Costs",r,s,d,c,i,a,o,p='<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">Solution Selection</button>',l,_,u,g,q,L,le,he,pe,T,ge,J,S,M,A,oe;function me(m){e[26](m)}function se(m){e[27](m)}function ve(m){e[28](m)}function H(m){e[29](m)}function de(m){e[30](m)}let Ie={enabled:!e[9]&&!e[10]};e[0]!==void 0&&(Ie.carriers=e[0]),e[1]!==void 0&&(Ie.nodes=e[1]),e[2]!==void 0&&(Ie.years=e[2]),e[5]!==void 0&&(Ie.selected_solution=e[5]),e[9]!==void 0&&(Ie.loading=e[9]),g=new St({props:Ie}),W.push(()=>Z(g,"carriers",me)),W.push(()=>Z(g,"nodes",se)),W.push(()=>Z(g,"years",ve)),W.push(()=>Z(g,"selected_solution",H)),W.push(()=>Z(g,"loading",de)),g.$on("solution_selected",e[25]);let B=!e[10]&&!e[9]&&e[17]&&e[5]!=null&&ot(e);const ie=[zt,jt],K=[];function Se(m,z){return m[9]||m[10]?0:m[5]!=null?1:-1}return~(M=Se(e))&&(A=K[M]=ie[M](e)),{c(){t=w("h2"),t.textContent=n,r=O(),s=w("div"),d=w("div"),c=w("div"),i=w("div"),a=w("div"),o=w("h2"),o.innerHTML=p,l=O(),_=w("div"),u=w("div"),Ce(g.$$.fragment),T=O(),B&&B.c(),ge=O(),J=w("div"),S=w("div"),A&&A.c(),this.h()},l(m){t=C(m,"H2",{"data-svelte-h":!0}),_e(t)!=="svelte-lt28jw"&&(t.textContent=n),r=j(m),s=C(m,"DIV",{class:!0});var z=U(s);d=C(z,"DIV",{class:!0,style:!0});var re=U(d);c=C(re,"DIV",{class:!0,style:!0});var fe=U(c);i=C(fe,"DIV",{class:!0,id:!0});var I=U(i);a=C(I,"DIV",{class:!0});var Le=U(a);o=C(Le,"H2",{class:!0,"data-svelte-h":!0}),_e(o)!=="svelte-64kjki"&&(o.innerHTML=p),l=j(Le),_=C(Le,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var N=U(_);u=C(N,"DIV",{class:!0});var P=U(u);Ee(g.$$.fragment,P),P.forEach(b),N.forEach(b),Le.forEach(b),T=j(I),B&&B.l(I),I.forEach(b),fe.forEach(b),re.forEach(b),z.forEach(b),ge=j(m),J=C(m,"DIV",{class:!0});var F=U(J);S=C(F,"DIV",{class:!0,style:!0});var R=U(S);A&&A.l(R),R.forEach(b),F.forEach(b),this.h()},h(){y(o,"class","accordion-header"),y(u,"class","accordion-body"),y(_,"id","collapseOne"),y(_,"class","accordion-collapse collapse show"),y(_,"data-bs-parent","#accordionExample"),y(a,"class","accordion-item solution-selection"),y(i,"class","accordion"),y(i,"id","accordionExample"),y(c,"class","filters"),Ne(c,"position","absolute"),Ne(c,"width","100%"),y(d,"class","col position-relative"),Ne(d,"z-index","1"),Ne(d,"position","relative"),y(s,"class","row"),y(S,"class","col"),Ne(S,"margin-top","400px"),y(J,"class","row")},m(m,z){V(m,t,z),V(m,r,z),V(m,s,z),k(s,d),k(d,c),k(c,i),k(i,a),k(a,o),k(a,l),k(a,_),k(_,u),De(g,u,null),k(i,T),B&&B.m(i,null),V(m,ge,z),V(m,J,z),k(J,S),~M&&K[M].m(S,null),oe=!0},p(m,z){const re={};z[0]&1536&&(re.enabled=!m[9]&&!m[10]),!q&&z[0]&1&&(q=!0,re.carriers=m[0],X(()=>q=!1)),!L&&z[0]&2&&(L=!0,re.nodes=m[1],X(()=>L=!1)),!le&&z[0]&4&&(le=!0,re.years=m[2],X(()=>le=!1)),!he&&z[0]&32&&(he=!0,re.selected_solution=m[5],X(()=>he=!1)),!pe&&z[0]&512&&(pe=!0,re.loading=m[9],X(()=>pe=!1)),g.$set(re),!m[10]&&!m[9]&&m[17]&&m[5]!=null?B?(B.p(m,z),z[0]&132640&&v(B,1)):(B=ot(m),B.c(),v(B,1),B.m(i,null)):B&&(we(),D(B,1,1,()=>{B=null}),ye());let fe=M;M=Se(m),M===fe?~M&&K[M].p(m,z):(A&&(we(),D(K[fe],1,1,()=>{K[fe]=null}),ye()),~M?(A=K[M],A?A.p(m,z):(A=K[M]=ie[M](m),A.c()),v(A,1),A.m(S,null)):A=null)},i(m){oe||(v(g.$$.fragment,m),v(B),v(A),oe=!0)},o(m){D(g.$$.fragment,m),D(B),D(A),oe=!1},d(m){m&&(b(t),b(r),b(s),b(ge),b(J)),He(g),B&&B.d(),~M&&K[M].d()}}}let Nt="not_normalized",G="Techology / Carrier";const Ye=" (Capex)",Ge=" (Opex)",mt="Capex",bt="Opex",gt="Carrier",vt="Shed Demand";function Pt(e,t,n){let r=[],s=[],d=[],c=[],i=[],a=null,o=[],p=[],l=[],_=!1,u=!1,g=[],q=[],L=[],le=[],he=[],pe=[],T,ge,J,S,M,A,oe=[],me=[],se=[G,"Location"],ve=se[1],H={capex:{title:"Capex",show:!0,subdivision:!1},opex:{title:"Opex",show:!0,subdivision:!1},carrier:{title:"Carrier",show:!0,subdivision:!1},shed_demand:{title:"Shed Demand",show:!0,subdivision:!1},carbon_emission:{title:"Carbon Emissions",show:!0,subdivision:!1}},de={type:"line",data:{datasets:[]},options:{responsive:!0,scales:{x:{stacked:!0,title:{display:!0,text:"Year"}},y:{stacked:!0,title:{display:!0,text:"Costs ["+ie()+"]"}}}}};async function Ie(){if(a!=null){n(10,u=!0),await et(),n(17,S=await Fe(a.solution_name,Re("capex_yearly"),a.scenario_name,a.detail.system.reference_year,a.detail.system.interval_between_years)),M=await Fe(a.solution_name,Re("opex_yearly"),a.scenario_name,a.detail.system.reference_year,a.detail.system.interval_between_years),ge=await Fe(a.solution_name,Re("cost_carbon_emissions_total"),a.scenario_name,a.detail.system.reference_year,a.detail.system.interval_between_years),J=await Fe(a.solution_name,Re("cost_carrier"),a.scenario_name,a.detail.system.reference_year,a.detail.system.interval_between_years),A=await Fe(a.solution_name,Re("cost_shed_demand"),a.scenario_name,a.detail.system.reference_year,a.detail.system.interval_between_years),qe(J.data,"node","location"),qe(A.data,"node","location"),qe(M.data,"technology",G),qe(S.data,"technology",G),qe(J.data,"carrier",G),qe(A.data,"carrier",G);for(let f in S.data.data)n(17,S.data.data[f][G]=S.data.data[f][G]+Ye,S);for(let f in M.data.data)M.data.data[f][G]=M.data.data[f][G]+Ge;n(3,c=Object.keys(a.detail.edges).concat(a.detail.system.set_nodes)),n(10,u=!1)}}function B(f){n(10,u=!0),T={data:[]};let ce=structuredClone(J.data);ce.data=ce.data.filter(ne=>p.includes(ne[G]));let ue=structuredClone(A.data);if(ue.data=ue.data.filter(ne=>l.includes(ne[G])),H.capex.show)if(H.capex.subdivision)T.data=T.data.concat(S.data.data);else{let ne={};ne[G]=f;let Y=Pe(S.data.data,{location:i},ne,[],!1);for(let Q in Y)Y[Q].data.location=Y[Q].label,Y[Q].data[G]=mt,T.data.push(Y[Q].data)}if(H.opex.show)if(H.opex.subdivision)T.data=T.data.concat(M.data.data);else{let ne={};ne[G]=f;let Y=Pe(M.data.data,{location:i},ne,[],!1);for(let Q in Y)Y[Q].data.location=Y[Q].label,Y[Q].data[G]=bt,T.data.push(Y[Q].data)}if(H.carrier.show)if(H.carrier.subdivision)T.data=T.data.concat(ce.data);else{let ne={};ne[G]=f;let Y=Pe(ce.data,{location:i},ne,[],!1);for(let Q in Y)Y[Q].data.location=Y[Q].label,Y[Q].data[G]=gt,T.data.push(Y[Q].data)}if(H.shed_demand.show)if(H.shed_demand.subdivision)T.data=T.data.concat(ue.data);else{let ne={};ne[G]=f;let Y=Pe(ue.data,{location:i},ne,[],!1);for(let Q in Y)Y[Q].data.location=Y[Q].label,Y[Q].data[G]=vt,T.data.push(Y[Q].data)}if(T.data.length==0){T=void 0,n(10,u=!1);return}let $=new Set;T.data=T.data.filter(ne=>ne!=null);for(const ne of T.data)$.add(ne.location);n(3,c=Array.from($)),n(10,u=!1)}function ie(){return S?S.unit:""}function K(){n(10,u=!0);let f={},ce={},ue=[];for(const Ve of pe)ue.push(Ve+Ye),ue.push(Ve+Ge);for(const Ve of le)ue.push(Ve+Ye),ue.push(Ve+Ge);for(const Ve of q)ue.push(Ve+Ye),ue.push(Ve+Ge);let $=[...ue,...p,...l];B($),H.capex.subdivision||$.push(mt),H.opex.subdivision||$.push(bt),H.carrier.subdivision||$.push(gt),H.shed_demand.subdivision||$.push(vt),ve==se[0]?(f.location=c,ce[G]=$):(f[G]=$,ce.location=i);let ne=d.filter(Ve=>!o.includes(Ve)),Y=Nt=="normalized",Q=[];T&&(Q=Pe(T.data,f,ce,ne,Y)),ge.data.data.length>0&&H.carbon_emission.show&&Q.push({label:"Total Carbon Costs",data:ge.data.data[0],type:"bar"}),et().then(()=>{n(23,de.data={datasets:Q},de),n(23,de.options.scales.y.title.text="Costs ["+ie()+"]",de),n(10,u=!1)})}async function Se(){if(a==null)return;await Ie(),await et(),n(10,u=!0);let f=new Set;for(const $ of S.data.data)f.add($[G].replace(Ye,""));for(const $ of M.data.data)f.add($[G].replace(Ge,""));n(11,g=a.detail.system.set_transport_technologies.filter($=>f.has($))),n(15,he=a.detail.system.set_conversion_technologies.filter($=>f.has($))),n(13,L=a.detail.system.set_storage_technologies.filter($=>f.has($))),n(12,q=g),n(16,pe=he),n(14,le=L);let ce=new Set;for(const $ of J.data.data)ce.add($[G]);n(0,r=a.detail.system.set_carriers),n(18,oe=a.detail.carriers_import.concat(a.detail.carriers_export).filter($=>ce.has($))),n(7,p=oe);let ue=new Set;for(const $ of A.data.data)ue.add($[G]);n(19,me=a.detail.carriers_demand.filter($=>ue.has($))),n(8,l=me),n(1,s=a.detail.system.set_nodes),n(6,o=d),n(4,i=c),K(),n(10,u=!1)}function m(f){r=f,n(0,r)}function z(f){s=f,n(1,s)}function re(f){d=f,n(2,d)}function fe(f){a=f,n(5,a)}function I(f){_=f,n(9,_)}function Le(f,ce){e.$$.not_equal(H[ce].show,f)&&(H[ce].show=f,n(22,H))}function N(f,ce){e.$$.not_equal(H[ce].subdivision,f)&&(H[ce].subdivision=f,n(22,H))}function P(f){q=f,n(12,q)}function F(f){g=f,n(11,g)}const R=()=>{K()};function x(f){le=f,n(14,le)}function Ze(f){L=f,n(13,L)}const xe=()=>{K()};function Ae(f){pe=f,n(16,pe)}function ee(f){he=f,n(15,he)}const te=()=>{K()};function h(f){p=f,n(7,p)}function E(f){oe=f,n(18,oe)}const ke=()=>{K()};function ae(f){l=f,n(8,l)}function Te(f){me=f,n(19,me)}const Ue=()=>{K()};function be(f){se=f,n(20,se)}function je(f){ve=f,n(21,ve)}const Je=f=>{K()};function Ke(f){i=f,n(4,i)}const Me=f=>{K()};function Qe(f){o=f,n(6,o)}const ze=f=>{K()};function Be(f){de=f,n(23,de)}function Dt(f){e.$$.not_equal(a.detail.system.reference_year,f)&&(a.detail.system.reference_year=f,n(5,a))}return[r,s,d,c,i,a,o,p,l,_,u,g,q,L,le,he,pe,S,oe,me,se,ve,H,de,K,Se,m,z,re,fe,I,Le,N,P,F,R,x,Ze,xe,Ae,ee,te,h,E,ke,ae,Te,Ue,be,je,Je,Ke,Me,Qe,ze,Be,Dt]}class Jt extends wt{constructor(t){super(),Ct(this,t,Pt,Bt,kt,{},null,[-1,-1,-1])}}export{Jt as component};
