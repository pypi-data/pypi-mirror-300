import{s as xe,r as R,e as H,a as F,c as T,m as Z,g as Y,b as J,f as v,o as D,v as me,i as A,h as E,w as U,t as et,x as _e,d as tt,A as Ie,j as nt,C as lt,F as ot,n as pe}from"../chunks/scheduler.Bjr9RZaN.js";import{S as st,i as it,b as G,c as le,d as oe,m as se,t as L,a as N,e as ie,f as ae,g as re}from"../chunks/index.NoFf4Nre.js";import{S as at,g as Ce,a as rt,f as Ve,B as ct}from"../chunks/utils.4gDQ54k9.js";import{R as De,A as we}from"../chunks/Radio.D-A72FRT.js";function He(l){let e,t,c='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">Variable Selection</button>',s,i,o,r,a="Subdivision",k,u,n,f,h,b=l[14]?"on":"off",C,K,Q,I,m,V,j,O,w=!l[14]&&Te(l),g=!l[20]&&(l[12]||l[13])&&Le(l);return{c(){e=H("div"),t=H("h2"),t.innerHTML=c,s=F(),i=H("div"),o=H("div"),r=H("h3"),r.textContent=a,k=F(),u=H("input"),f=F(),h=H("label"),C=et(b),K=H("br"),Q=F(),w&&w.c(),I=F(),g&&g.c(),m=_e(),this.h()},l(d){e=T(d,"DIV",{class:!0});var z=J(e);t=T(z,"H2",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-1b944yg"&&(t.innerHTML=c),s=Y(z),i=T(z,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var X=J(i);o=T(X,"DIV",{class:!0});var q=J(o);r=T(q,"H3",{"data-svelte-h":!0}),Z(r)!=="svelte-ym6pj1"&&(r.textContent=a),k=Y(q),u=T(q,"INPUT",{type:!0,class:!0,id:!0,autocomplete:!0}),f=Y(q),h=T(q,"LABEL",{class:!0,for:!0});var W=J(h);C=tt(W,b),W.forEach(v),K=T(q,"BR",{}),Q=Y(q),w&&w.l(q),q.forEach(v),X.forEach(v),z.forEach(v),I=Y(d),g&&g.l(d),m=_e(),this.h()},h(){D(t,"class","accordion-header"),D(u,"type","checkbox"),D(u,"class","btn-check"),D(u,"id","btn-check-outlined"),D(u,"autocomplete","off"),u.disabled=n=l[20]||l[19],D(h,"class","btn btn-outline-primary"),D(h,"for","btn-check-outlined"),D(o,"class","accordion-body"),D(i,"id","collapseTwo"),D(i,"class","accordion-collapse collapse"),D(i,"data-bs-parent","#accordionExample"),D(e,"class","accordion-item")},m(d,z){A(d,e,z),E(e,t),E(e,s),E(e,i),E(i,o),E(o,r),E(o,k),E(o,u),u.checked=l[14],E(o,f),E(o,h),E(h,C),E(o,K),E(o,Q),w&&w.m(o,null),A(d,I,z),g&&g.m(d,z),A(d,m,z),V=!0,j||(O=[Ie(u,"change",l[32]),Ie(u,"change",l[33])],j=!0)},p(d,z){(!V||z[0]&1572864&&n!==(n=d[20]||d[19]))&&(u.disabled=n),z[0]&16384&&(u.checked=d[14]),(!V||z[0]&16384)&&b!==(b=d[14]?"on":"off")&&nt(C,b),d[14]?w&&(re(),N(w,1,1,()=>{w=null}),ie()):w?(w.p(d,z),z[0]&16384&&L(w,1)):(w=Te(d),w.c(),L(w,1),w.m(o,null)),!d[20]&&(d[12]||d[13])?g?(g.p(d,z),z[0]&1060864&&L(g,1)):(g=Le(d),g.c(),L(g,1),g.m(m.parentNode,m)):g&&(re(),N(g,1,1,()=>{g=null}),ie())},i(d){V||(L(w),L(g),V=!0)},o(d){N(w),N(g),V=!1},d(d){d&&(v(e),v(I),v(m)),w&&w.d(),g&&g.d(d),j=!1,lt(O)}}}function Te(l){let e,t,c="Cumulation",s,i,o,r,a;function k(f){l[34](f)}function u(f){l[35](f)}let n={enabled:!l[20]&&!l[19]};return l[4]!==void 0&&(n.options=l[4]),l[12]!==void 0&&(n.selected_option=l[12]),i=new De({props:n}),R.push(()=>G(i,"options",k)),R.push(()=>G(i,"selected_option",u)),i.$on("selection-changed",l[24]),{c(){e=H("div"),t=H("h3"),t.textContent=c,s=F(),le(i.$$.fragment),this.h()},l(f){e=T(f,"DIV",{class:!0});var h=J(e);t=T(h,"H3",{"data-svelte-h":!0}),Z(t)!=="svelte-zhefv7"&&(t.textContent=c),s=Y(h),oe(i.$$.fragment,h),h.forEach(v),this.h()},h(){D(e,"class","row")},m(f,h){A(f,e,h),E(e,t),E(e,s),se(i,e,null),a=!0},p(f,h){const b={};h[0]&1572864&&(b.enabled=!f[20]&&!f[19]),!o&&h[0]&16&&(o=!0,b.options=f[4],U(()=>o=!1)),!r&&h[0]&4096&&(r=!0,b.selected_option=f[12],U(()=>r=!1)),i.$set(b)},i(f){a||(L(i.$$.fragment,f),a=!0)},o(f){N(i.$$.fragment,f),a=!1},d(f){f&&v(e),ae(i)}}}function Le(l){let e,t,c='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">Data Selection</button>',s,i,o,r,a,k="Year",u,n,f,h,b,C=l[14]&&Se(l);function K(m){l[51](m)}function Q(m){l[52](m)}let I={};return l[6]!==void 0&&(I.selected_elements=l[6]),l[2]!==void 0&&(I.elements=l[2]),n=new we({props:I}),R.push(()=>G(n,"selected_elements",K)),R.push(()=>G(n,"elements",Q)),n.$on("selection-changed",l[53]),{c(){e=H("div"),t=H("h2"),t.innerHTML=c,s=F(),i=H("div"),o=H("div"),C&&C.c(),r=F(),a=H("h3"),a.textContent=k,u=F(),le(n.$$.fragment),this.h()},l(m){e=T(m,"DIV",{class:!0});var V=J(e);t=T(V,"H2",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-6gj1vj"&&(t.innerHTML=c),s=Y(V),i=T(V,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var j=J(i);o=T(j,"DIV",{class:!0});var O=J(o);C&&C.l(O),r=Y(O),a=T(O,"H3",{"data-svelte-h":!0}),Z(a)!=="svelte-r9e7qt"&&(a.textContent=k),u=Y(O),oe(n.$$.fragment,O),O.forEach(v),j.forEach(v),V.forEach(v),this.h()},h(){D(t,"class","accordion-header"),D(o,"class","accordion-body"),D(i,"id","collapseThree"),D(i,"class","accordion-collapse collapse"),D(i,"data-bs-parent","#accordionExample"),D(e,"class","accordion-item")},m(m,V){A(m,e,V),E(e,t),E(e,s),E(e,i),E(i,o),C&&C.m(o,null),E(o,r),E(o,a),E(o,u),se(n,o,null),b=!0},p(m,V){m[14]?C?(C.p(m,V),V[0]&16384&&L(C,1)):(C=Se(m),C.c(),L(C,1),C.m(o,r)):C&&(re(),N(C,1,1,()=>{C=null}),ie());const j={};!f&&V[0]&64&&(f=!0,j.selected_elements=m[6],U(()=>f=!1)),!h&&V[0]&4&&(h=!0,j.elements=m[2],U(()=>h=!1)),n.$set(j)},i(m){b||(L(C),L(n.$$.fragment,m),b=!0)},o(m){N(C),N(n.$$.fragment,m),b=!1},d(m){m&&v(e),C&&C.d(),ae(n)}}}function Se(l){let e,t,c,s="Aggregation",i,o,r,a,k,u,n,f="Normalisation",h,b,C,K,Q,I,m,V,j;function O(y){l[36](y)}function w(y){l[37](y)}let g={};l[9]!==void 0&&(g.options=l[9]),l[17]!==void 0&&(g.selected_option=l[17]),o=new De({props:g}),R.push(()=>G(o,"options",O)),R.push(()=>G(o,"selected_option",w)),o.$on("selection-changed",l[38]);function d(y){l[39](y)}function z(y){l[40](y)}let X={};l[7]!==void 0&&(X.options=l[7]),l[8]!==void 0&&(X.selected_option=l[8]),b=new De({props:X}),R.push(()=>G(b,"options",d)),R.push(()=>G(b,"selected_option",z)),b.$on("selection-changed",l[41]);const q=[_t,ft],W=[];function ce(y,M){return y[17]!="location"?0:1}return I=ce(l),m=W[I]=q[I](l),{c(){e=H("div"),t=H("div"),c=H("h3"),c.textContent=s,i=F(),le(o.$$.fragment),k=F(),u=H("div"),n=H("h3"),n.textContent=f,h=F(),le(b.$$.fragment),Q=F(),m.c(),V=_e(),this.h()},l(y){e=T(y,"DIV",{class:!0});var M=J(e);t=T(M,"DIV",{class:!0});var S=J(t);c=T(S,"H3",{"data-svelte-h":!0}),Z(c)!=="svelte-126hufg"&&(c.textContent=s),i=Y(S),oe(o.$$.fragment,S),S.forEach(v),k=Y(M),u=T(M,"DIV",{class:!0});var $=J(u);n=T($,"H3",{"data-svelte-h":!0}),Z(n)!=="svelte-1273uzu"&&(n.textContent=f),h=Y($),oe(b.$$.fragment,$),$.forEach(v),M.forEach(v),Q=Y(y),m.l(y),V=_e(),this.h()},h(){D(t,"class","col-6"),D(u,"class","col-6"),D(e,"class","row")},m(y,M){A(y,e,M),E(e,t),E(t,c),E(t,i),se(o,t,null),E(e,k),E(e,u),E(u,n),E(u,h),se(b,u,null),A(y,Q,M),W[I].m(y,M),A(y,V,M),j=!0},p(y,M){const S={};!r&&M[0]&512&&(r=!0,S.options=y[9],U(()=>r=!1)),!a&&M[0]&131072&&(a=!0,S.selected_option=y[17],U(()=>a=!1)),o.$set(S);const $={};!C&&M[0]&128&&(C=!0,$.options=y[7],U(()=>C=!1)),!K&&M[0]&256&&(K=!0,$.selected_option=y[8],U(()=>K=!1)),b.$set($);let B=I;I=ce(y),I===B?W[I].p(y,M):(re(),N(W[B],1,1,()=>{W[B]=null}),ie(),m=W[I],m?m.p(y,M):(m=W[I]=q[I](y),m.c()),L(m,1),m.m(V.parentNode,V))},i(y){j||(L(o.$$.fragment,y),L(b.$$.fragment,y),L(m),j=!0)},o(y){N(o.$$.fragment,y),N(b.$$.fragment,y),N(m),j=!1},d(y){y&&(v(e),v(Q),v(V)),ae(o),ae(b),W[I].d(y)}}}function ft(l){let e,t="Location",c,s,i,o,r;function a(n){l[48](n)}function k(n){l[49](n)}let u={};return l[10]!==void 0&&(u.selected_elements=l[10]),l[3]!==void 0&&(u.elements=l[3]),s=new we({props:u}),R.push(()=>G(s,"selected_elements",a)),R.push(()=>G(s,"elements",k)),s.$on("selection-changed",l[50]),{c(){e=H("h3"),e.textContent=t,c=F(),le(s.$$.fragment)},l(n){e=T(n,"H3",{"data-svelte-h":!0}),Z(e)!=="svelte-15gguv3"&&(e.textContent=t),c=Y(n),oe(s.$$.fragment,n)},m(n,f){A(n,e,f),A(n,c,f),se(s,n,f),r=!0},p(n,f){const h={};!i&&f[0]&1024&&(i=!0,h.selected_elements=n[10],U(()=>i=!1)),!o&&f[0]&8&&(o=!0,h.elements=n[3],U(()=>o=!1)),s.$set(h)},i(n){r||(L(s.$$.fragment,n),r=!0)},o(n){N(s.$$.fragment,n),r=!1},d(n){n&&(v(e),v(c)),ae(s,n)}}}function _t(l){let e,t,c,s=l[18].length>0&&je(l),i=l[0].length>0&&ze(l);return{c(){s&&s.c(),e=F(),i&&i.c(),t=_e()},l(o){s&&s.l(o),e=Y(o),i&&i.l(o),t=_e()},m(o,r){s&&s.m(o,r),A(o,e,r),i&&i.m(o,r),A(o,t,r),c=!0},p(o,r){o[18].length>0?s?(s.p(o,r),r[0]&262144&&L(s,1)):(s=je(o),s.c(),L(s,1),s.m(e.parentNode,e)):s&&(re(),N(s,1,1,()=>{s=null}),ie()),o[0].length>0?i?(i.p(o,r),r[0]&1&&L(i,1)):(i=ze(o),i.c(),L(i,1),i.m(t.parentNode,t)):i&&(re(),N(i,1,1,()=>{i=null}),ie())},i(o){c||(L(s),L(i),c=!0)},o(o){N(s),N(i),c=!1},d(o){o&&(v(e),v(t)),s&&s.d(o),i&&i.d(o)}}}function je(l){let e,t="Technology",c,s,i,o,r;function a(n){l[42](n)}function k(n){l[43](n)}let u={};return l[16]!==void 0&&(u.selected_elements=l[16]),l[18]!==void 0&&(u.elements=l[18]),s=new we({props:u}),R.push(()=>G(s,"selected_elements",a)),R.push(()=>G(s,"elements",k)),s.$on("selection-changed",l[44]),{c(){e=H("h3"),e.textContent=t,c=F(),le(s.$$.fragment)},l(n){e=T(n,"H3",{"data-svelte-h":!0}),Z(e)!=="svelte-q7cxxi"&&(e.textContent=t),c=Y(n),oe(s.$$.fragment,n)},m(n,f){A(n,e,f),A(n,c,f),se(s,n,f),r=!0},p(n,f){const h={};!i&&f[0]&65536&&(i=!0,h.selected_elements=n[16],U(()=>i=!1)),!o&&f[0]&262144&&(o=!0,h.elements=n[18],U(()=>o=!1)),s.$set(h)},i(n){r||(L(s.$$.fragment,n),r=!0)},o(n){N(s.$$.fragment,n),r=!1},d(n){n&&(v(e),v(c)),ae(s,n)}}}function ze(l){let e,t="Carrier",c,s,i,o,r;function a(n){l[45](n)}function k(n){l[46](n)}let u={};return l[15]!==void 0&&(u.selected_elements=l[15]),l[0]!==void 0&&(u.elements=l[0]),s=new we({props:u}),R.push(()=>G(s,"selected_elements",a)),R.push(()=>G(s,"elements",k)),s.$on("selection-changed",l[47]),{c(){e=H("h3"),e.textContent=t,c=F(),le(s.$$.fragment)},l(n){e=T(n,"H3",{"data-svelte-h":!0}),Z(e)!=="svelte-xc22hm"&&(e.textContent=t),c=Y(n),oe(s.$$.fragment,n)},m(n,f){A(n,e,f),A(n,c,f),se(s,n,f),r=!0},p(n,f){const h={};!i&&f[0]&32768&&(i=!0,h.selected_elements=n[15],U(()=>i=!1)),!o&&f[0]&1&&(o=!0,h.elements=n[0],U(()=>o=!1)),s.$set(h)},i(n){r||(L(s.$$.fragment,n),r=!0)},o(n){N(s.$$.fragment,n),r=!1},d(n){n&&(v(e),v(c)),ae(s,n)}}}function ut(l){let e,t,c,s;const i=[ht,pt],o=[];function r(a,k){return a[11].length==0||a[11][0].data.length==0?0:1}return e=r(l),t=o[e]=i[e](l),{c(){t.c(),c=_e()},l(a){t.l(a),c=_e()},m(a,k){o[e].m(a,k),A(a,c,k),s=!0},p(a,k){let u=e;e=r(a),e===u?o[e].p(a,k):(re(),N(o[u],1,1,()=>{o[u]=null}),ie(),t=o[e],t?t.p(a,k):(t=o[e]=i[e](a),t.c()),L(t,1),t.m(c.parentNode,c))},i(a){s||(L(t),s=!0)},o(a){N(t),s=!1},d(a){a&&v(c),o[e].d(a)}}}function dt(l){let e,t='<div class="spinner-border center" role="status"><span class="visually-hidden">Loading...</span></div>';return{c(){e=H("div"),e.innerHTML=t,this.h()},l(c){e=T(c,"DIV",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1a5ljpq"&&(e.innerHTML=t),this.h()},h(){D(e,"class","text-center")},m(c,s){A(c,e,s)},p:pe,i:pe,o:pe,d(c){c&&v(e)}}}function pt(l){let e,t,c,s;function i(a){l[54](a)}function o(a){l[55](a)}let r={};return l[21]!==void 0&&(r.config=l[21]),l[5].detail.system.reference_year!==void 0&&(r.year_offset=l[5].detail.system.reference_year),e=new ct({props:r}),R.push(()=>G(e,"config",i)),R.push(()=>G(e,"year_offset",o)),{c(){le(e.$$.fragment)},l(a){oe(e.$$.fragment,a)},m(a,k){se(e,a,k),s=!0},p(a,k){const u={};!t&&k[0]&2097152&&(t=!0,u.config=a[21],U(()=>t=!1)),!c&&k[0]&32&&(c=!0,u.year_offset=a[5].detail.system.reference_year,U(()=>c=!1)),e.$set(u)},i(a){s||(L(e.$$.fragment,a),s=!0)},o(a){N(e.$$.fragment,a),s=!1},d(a){ae(e,a)}}}function ht(l){let e,t="No data with this selection.";return{c(){e=H("div"),e.textContent=t,this.h()},l(c){e=T(c,"DIV",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1doxial"&&(e.textContent=t),this.h()},h(){D(e,"class","text-center")},m(c,s){A(c,e,s)},p:pe,i:pe,o:pe,d(c){c&&v(e)}}}function mt(l){let e,t="Emissions",c,s,i,o,r,a,k,u='<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">Solution Selection</button>',n,f,h,b,C,K,Q,I,m,V,j,O,w,g,d,z;function X(p){l[27](p)}function q(p){l[28](p)}function W(p){l[29](p)}function ce(p){l[30](p)}function y(p){l[31](p)}let M={enabled:!l[19]&&!l[20]};l[0]!==void 0&&(M.carriers=l[0]),l[1]!==void 0&&(M.nodes=l[1]),l[2]!==void 0&&(M.years=l[2]),l[5]!==void 0&&(M.selected_solution=l[5]),l[19]!==void 0&&(M.loading=l[19]),b=new at({props:M}),R.push(()=>G(b,"carriers",X)),R.push(()=>G(b,"nodes",q)),R.push(()=>G(b,"years",W)),R.push(()=>G(b,"selected_solution",ce)),R.push(()=>G(b,"loading",y)),b.$on("solution_selected",l[26]);let S=!l[19]&&l[5]&&He(l);const $=[dt,ut],B=[];function be(p,P){return p[19]||p[20]?0:p[11]!=null&&p[5]!=null?1:-1}return~(g=be(l))&&(d=B[g]=$[g](l)),{c(){e=H("h2"),e.textContent=t,c=F(),s=H("div"),i=H("div"),o=H("div"),r=H("div"),a=H("div"),k=H("h2"),k.innerHTML=u,n=F(),f=H("div"),h=H("div"),le(b.$$.fragment),V=F(),S&&S.c(),j=F(),O=H("div"),w=H("div"),d&&d.c(),this.h()},l(p){e=T(p,"H2",{"data-svelte-h":!0}),Z(e)!=="svelte-1fjdwte"&&(e.textContent=t),c=Y(p),s=T(p,"DIV",{class:!0});var P=J(s);i=T(P,"DIV",{class:!0,style:!0});var x=J(i);o=T(x,"DIV",{class:!0,style:!0});var fe=J(o);r=T(fe,"DIV",{class:!0,id:!0});var ue=J(r);a=T(ue,"DIV",{class:!0});var de=J(a);k=T(de,"H2",{class:!0,"data-svelte-h":!0}),Z(k)!=="svelte-64kjki"&&(k.innerHTML=u),n=Y(de),f=T(de,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var ge=J(f);h=T(ge,"DIV",{class:!0});var ve=J(h);oe(b.$$.fragment,ve),ve.forEach(v),ge.forEach(v),de.forEach(v),V=Y(ue),S&&S.l(ue),ue.forEach(v),fe.forEach(v),x.forEach(v),P.forEach(v),j=Y(p),O=T(p,"DIV",{class:!0});var ke=J(O);w=T(ke,"DIV",{class:!0,style:!0});var ye=J(w);d&&d.l(ye),ye.forEach(v),ke.forEach(v),this.h()},h(){D(k,"class","accordion-header"),D(h,"class","accordion-body"),D(f,"id","collapseOne"),D(f,"class","accordion-collapse collapse show"),D(f,"data-bs-parent","#accordionExample"),D(a,"class","accordion-item solution-selection"),D(r,"class","accordion"),D(r,"id","accordionExample"),D(o,"class","filters"),me(o,"position","absolute"),me(o,"width","100%"),D(i,"class","col position-relative"),me(i,"z-index","1"),me(i,"position","relative"),D(s,"class","row"),D(w,"class","col"),me(w,"margin-top","400px"),D(O,"class","row")},m(p,P){A(p,e,P),A(p,c,P),A(p,s,P),E(s,i),E(i,o),E(o,r),E(r,a),E(a,k),E(a,n),E(a,f),E(f,h),se(b,h,null),E(r,V),S&&S.m(r,null),A(p,j,P),A(p,O,P),E(O,w),~g&&B[g].m(w,null),z=!0},p(p,P){const x={};P[0]&1572864&&(x.enabled=!p[19]&&!p[20]),!C&&P[0]&1&&(C=!0,x.carriers=p[0],U(()=>C=!1)),!K&&P[0]&2&&(K=!0,x.nodes=p[1],U(()=>K=!1)),!Q&&P[0]&4&&(Q=!0,x.years=p[2],U(()=>Q=!1)),!I&&P[0]&32&&(I=!0,x.selected_solution=p[5],U(()=>I=!1)),!m&&P[0]&524288&&(m=!0,x.loading=p[19],U(()=>m=!1)),b.$set(x),!p[19]&&p[5]?S?(S.p(p,P),P[0]&524320&&L(S,1)):(S=He(p),S.c(),L(S,1),S.m(r,null)):S&&(re(),N(S,1,1,()=>{S=null}),ie());let fe=g;g=be(p),g===fe?~g&&B[g].p(p,P):(d&&(re(),N(B[fe],1,1,()=>{B[fe]=null}),ie()),~g?(d=B[g],d?d.p(p,P):(d=B[g]=$[g](p),d.c()),L(d,1),d.m(w,null)):d=null)},i(p){z||(L(b.$$.fragment,p),L(S),L(d),z=!0)},o(p){N(b.$$.fragment,p),N(S),N(d),z=!1},d(p){p&&(v(e),v(c),v(s),v(j),v(O)),ae(b),S&&S.d(),~g&&B[g].d()}}}function bt(l,e,t){let c,s,i=[],o=[],r=[],a=[],k=["Annual","Cumulative"],u=["technology","carrier"],n=null,f=[],h=["not_normalized","normalized"],b="not_normalized",C=[],K=[],Q=null,I=null,m=null,V=null,j=!1,O=[],w=[],g="technology",d=[],z=!1,X=!1,q={type:"bar",data:{datasets:[]},options:{responsive:!0,scales:{x:{stacked:!0,title:{display:!0,text:"Year"}},y:{stacked:!0,title:{display:!0,text:"Emissions ["+W()+"]"}}}}};function W(){return Q===null?"":Q}function ce(){t(12,m=null),t(13,V=null),t(11,I=null),t(14,j=!1),t(15,O=[]),t(16,w=[])}function y(){return j?V==u[0]?"carbon_emissions_technology":"carbon_emissions_carrier":m==k[0]?"carbon_emissions_annual":"carbon_emissions_cumulative"}async function M(){t(20,X=!0);let _=await Ce(n.solution_name,"carbon_emissions_technology",n.scenario_name,n.detail.system.reference_year,n.detail.system.interval_between_years),ee=await Ce(n.solution_name,"carbon_emissions_carrier",n.scenario_name,n.detail.system.reference_year,n.detail.system.interval_between_years),he=new Set,te=new Set,Ee=new Set;for(let ne of _.data.data)te.add(ne.technology),Ee.add(ne.location);for(let ne of ee.data.data)he.add(ne.carrier),Ee.add(ne.node),Object.hasOwn(ne,"node")&&Object.defineProperty(ne,"location",Object.getOwnPropertyDescriptor(ne,"node")),delete ne.node;t(18,d=[...te]),t(0,i=[...he]),t(3,a=[...Ee]),c=rt("technology_carrier",[["carrier",ee.data],["technology",_.data]]),Q=ee.unit,t(20,X=!1),$()}async function S(){t(20,X=!0),await ot();let _=y();_!==null&&(_=="carbon_emissions_annual"?s=(await Ce(n.solution_name,"carbon_emissions_annual_limit",n.scenario_name,n.detail.system.reference_year,n.detail.system.interval_between_years)).data:s=null,Ce(n.solution_name,_,n.scenario_name,n.detail.system.reference_year,n.detail.system.interval_between_years).then(ee=>{c=ee.data,Q=ee.unit,t(20,X=!1)}))}function $(){t(9,C=["location"]),V&&t(9,C=["location",V]),t(15,O=i),t(16,w=d),t(10,K=a),t(17,g="location"),t(20,X=!1),B()}function B(){if(!c)return;let _={},ee={};j&&(g!="location"?(_.location=a,ee.technology_carrier=w.concat(O)):(_.technology_carrier=d.concat(i),ee.location=K));let he=r.filter(te=>!f.includes(te));if(t(11,I=Ve(c.data,_,ee,he,b=="normalized")),I.length!=0){if(I.length==1&&!j&&t(11,I[0].label=y(),I),s){let te=Ve(s.data,_,ee,he,b=="normalized");te.length>0&&(te[0].label="Annual Emissions Limit",te[0].type="line",t(11,I=I.concat(te)))}t(21,q.data={datasets:I},q),t(21,q.options.scales.y.title.text="Emissions ["+W()+"]",q)}}function be(){ce(),t(6,f=r)}function p(_){i=_,t(0,i)}function P(_){o=_,t(1,o)}function x(_){r=_,t(2,r)}function fe(_){n=_,t(5,n)}function ue(_){z=_,t(19,z)}function de(){j=this.checked,t(14,j)}const ge=()=>{j?(t(13,V="technology_carrier"),M()):ce()};function ve(_){k=_,t(4,k)}function ke(_){m=_,t(12,m)}function ye(_){C=_,t(9,C)}function Me(_){g=_,t(17,g)}const Ne=_=>{B()};function Oe(_){h=_,t(7,h)}function Ae(_){b=_,t(8,b)}const qe=_=>{B()};function Pe(_){w=_,t(16,w)}function Be(_){d=_,t(18,d)}const Re=()=>{B()};function Fe(_){O=_,t(15,O)}function Ye(_){i=_,t(0,i)}const Ue=_=>{B()};function Ge(_){K=_,t(10,K)}function Je(_){a=_,t(3,a)}const Ke=_=>{B()};function Qe(_){f=_,t(6,f)}function We(_){r=_,t(2,r)}const Xe=_=>{B()};function Ze(_){q=_,t(21,q)}function $e(_){l.$$.not_equal(n.detail.system.reference_year,_)&&(n.detail.system.reference_year=_,t(5,n))}return[i,o,r,a,k,n,f,h,b,C,K,I,m,V,j,O,w,g,d,z,X,q,ce,M,S,B,be,p,P,x,fe,ue,de,ge,ve,ke,ye,Me,Ne,Oe,Ae,qe,Pe,Be,Re,Fe,Ye,Ue,Ge,Je,Ke,Qe,We,Xe,Ze,$e]}class Ct extends st{constructor(e){super(),it(this,e,bt,mt,xe,{},null,[-1,-1,-1])}}export{Ct as component};
