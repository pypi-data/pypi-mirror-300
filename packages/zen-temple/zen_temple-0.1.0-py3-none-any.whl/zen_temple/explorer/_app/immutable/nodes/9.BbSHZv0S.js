import{s as at,r as Y,e as I,a as A,c as V,m as ee,g as B,b as M,f as m,o as L,v as be,i as R,h as w,w as F,y as Ae,z as we,A as De,B as Be,C as Re,t as Ye,d as Fe,D as Ie,j as Ge,E as ye,n as Z}from"../chunks/scheduler.Bjr9RZaN.js";import{S as ct,i as _t,b as G,c as ae,d as ce,m as _e,t as z,a as P,e as de,f as fe,g as pe}from"../chunks/index.NoFf4Nre.js";import{e as Ve}from"../chunks/each.D6YF6ztN.js";import{S as ft,g as ut,f as dt,B as pt}from"../chunks/utils.4gDQ54k9.js";import{R as Te,A as He}from"../chunks/Radio.D-A72FRT.js";function Le(t,e,l){const r=t.slice();return r[63]=e[l],r}function Se(t,e,l){const r=t.slice();return r[66]=e[l][0],r[67]=e[l][1],r}function Me(t){let e,l,r='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">Variable Selection</button>',a,f,n,s,d,v,D,o,c,i,_=Ve(Object.entries(t[5])),C=[];for(let h=0;h<_.length;h+=1)C[h]=Oe(Se(t,_,h));let b=t[5]&&t[9]&&t[5][t[9]]!=null&&ze(t),k=t[9]!=null&&je(t);return{c(){e=I("div"),l=I("h2"),l.innerHTML=r,a=A(),f=I("div"),n=I("div"),s=I("select");for(let h=0;h<C.length;h+=1)C[h].c();v=A(),b&&b.c(),D=A(),k&&k.c(),this.h()},l(h){e=V(h,"DIV",{class:!0});var H=M(e);l=V(H,"H2",{class:!0,"data-svelte-h":!0}),ee(l)!=="svelte-1b944yg"&&(l.innerHTML=r),a=B(H),f=V(H,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var T=M(f);n=V(T,"DIV",{class:!0});var q=M(n);s=V(q,"SELECT",{});var U=M(s);for(let O=0;O<C.length;O+=1)C[O].l(U);U.forEach(m),v=B(q),b&&b.l(q),D=B(q),k&&k.l(q),q.forEach(m),T.forEach(m),H.forEach(m),this.h()},h(){L(l,"class","accordion-header"),s.disabled=d=t[18]||t[19],t[9]===void 0&&Ae(()=>t[33].call(s)),L(n,"class","accordion-body"),L(f,"id","collapseTwo"),L(f,"class","accordion-collapse collapse"),L(f,"data-bs-parent","#accordionExample"),L(e,"class","accordion-item")},m(h,H){R(h,e,H),w(e,l),w(e,a),w(e,f),w(f,n),w(n,s);for(let T=0;T<C.length;T+=1)C[T]&&C[T].m(s,null);we(s,t[9],!0),w(n,v),b&&b.m(n,null),w(n,D),k&&k.m(n,null),o=!0,c||(i=[De(s,"change",t[33]),De(s,"change",t[34])],c=!0)},p(h,H){if(H[0]&32){_=Ve(Object.entries(h[5]));let T;for(T=0;T<_.length;T+=1){const q=Se(h,_,T);C[T]?C[T].p(q,H):(C[T]=Oe(q),C[T].c(),C[T].m(s,null))}for(;T<C.length;T+=1)C[T].d(1);C.length=_.length}(!o||H[0]&786432&&d!==(d=h[18]||h[19]))&&(s.disabled=d),H[0]&544&&we(s,h[9]),h[5]&&h[9]&&h[5][h[9]]!=null?b?(b.p(h,H),H[0]&544&&z(b,1)):(b=ze(h),b.c(),z(b,1),b.m(n,D)):b&&(pe(),P(b,1,1,()=>{b=null}),de()),h[9]!=null?k?k.p(h,H):(k=je(h),k.c(),k.m(n,null)):k&&(k.d(1),k=null)},i(h){o||(z(b),o=!0)},o(h){P(b),o=!1},d(h){h&&m(e),Be(C,h),b&&b.d(),k&&k.d(),c=!1,Re(i)}}}function Oe(t){let e,l=t[66]+"",r,a,f;return{c(){e=I("option"),r=Ye(l),a=A(),this.h()},l(n){e=V(n,"OPTION",{});var s=M(e);r=Fe(s,l),a=B(s),s.forEach(m),this.h()},h(){e.__value=f=t[66],Ie(e,e.__value)},m(n,s){R(n,e,s),w(e,r),w(e,a)},p(n,s){s[0]&32&&l!==(l=n[66]+"")&&Ge(r,l),s[0]&32&&f!==(f=n[66])&&(e.__value=f,Ie(e,e.__value))},d(n){n&&m(e)}}}function ze(t){let e,l,r,a;function f(d){t[35](d)}function n(d){t[36](d)}let s={enabled:!t[18]&&!t[19]};return t[5][t[9]]!==void 0&&(s.options=t[5][t[9]]),t[14]!==void 0&&(s.selected_option=t[14]),e=new Te({props:s}),Y.push(()=>G(e,"options",f)),Y.push(()=>G(e,"selected_option",n)),e.$on("selection-changed",t[37]),{c(){ae(e.$$.fragment)},l(d){ce(e.$$.fragment,d)},m(d,v){_e(e,d,v),a=!0},p(d,v){const D={};v[0]&786432&&(D.enabled=!d[18]&&!d[19]),!l&&v[0]&544&&(l=!0,D.options=d[5][d[9]],F(()=>l=!1)),!r&&v[0]&16384&&(r=!0,D.selected_option=d[14],F(()=>r=!1)),e.$set(D)},i(d){a||(z(e.$$.fragment,d),a=!0)},o(d){P(e.$$.fragment,d),a=!1},d(d){fe(e,d)}}}function je(t){let e,l,r,a="Carrier",f,n,s,d,v,D=Ve(t[0]),o=[];for(let c=0;c<D.length;c+=1)o[c]=qe(Le(t,D,c));return{c(){e=I("div"),l=I("div"),r=I("h3"),r.textContent=a,f=A(),n=I("select");for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=V(c,"DIV",{class:!0});var i=M(e);l=V(i,"DIV",{class:!0});var _=M(l);r=V(_,"H3",{"data-svelte-h":!0}),ee(r)!=="svelte-xc22hm"&&(r.textContent=a),f=B(_),n=V(_,"SELECT",{});var C=M(n);for(let b=0;b<o.length;b+=1)o[b].l(C);C.forEach(m),_.forEach(m),i.forEach(m),this.h()},h(){n.disabled=s=t[18]||t[19],t[10]===void 0&&Ae(()=>t[38].call(n)),L(l,"class","col"),L(e,"class","row")},m(c,i){R(c,e,i),w(e,l),w(l,r),w(l,f),w(l,n);for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(n,null);we(n,t[10],!0),d||(v=[De(n,"change",t[38]),De(n,"change",t[39])],d=!0)},p(c,i){if(i[0]&1){D=Ve(c[0]);let _;for(_=0;_<D.length;_+=1){const C=Le(c,D,_);o[_]?o[_].p(C,i):(o[_]=qe(C),o[_].c(),o[_].m(n,null))}for(;_<o.length;_+=1)o[_].d(1);o.length=D.length}i[0]&786432&&s!==(s=c[18]||c[19])&&(n.disabled=s),i[0]&1025&&we(n,c[10])},d(c){c&&m(e),Be(o,c),d=!1,Re(v)}}}function qe(t){let e,l=t[63]+"",r,a,f;return{c(){e=I("option"),r=Ye(l),a=A(),this.h()},l(n){e=V(n,"OPTION",{});var s=M(e);r=Fe(s,l),a=B(s),s.forEach(m),this.h()},h(){e.__value=f=t[63],Ie(e,e.__value)},m(n,s){R(n,e,s),w(e,r),w(e,a)},p(n,s){s[0]&1&&l!==(l=n[63]+"")&&Ge(r,l),s[0]&1&&f!==(f=n[63])&&(e.__value=f,Ie(e,e.__value))},d(n){n&&m(e)}}}function Ne(t){let e,l,r='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">Data Selection</button>',a,f,n,s,d,v,D,o="Normalisation",c,i,_,C,b,k,h,H,T,q="Year",U,O,X,N,J,E=t[9]!="import_export"&&Pe(t);function le(p){t[43](p)}function he(p){t[44](p)}let oe={enabled:!t[18]&&!t[19]};t[16]!==void 0&&(oe.options=t[16]),t[17]!==void 0&&(oe.selected_option=t[17]),i=new Te({props:oe}),Y.push(()=>G(i,"options",le)),Y.push(()=>G(i,"selected_option",he)),i.$on("selection-changed",t[45]);const se=[gt,ht],$=[];function ne(p,j){return p[20]=="technology"?0:1}k=ne(t),h=$[k]=se[k](t);function ge(p){t[52](p)}function te(p){t[53](p)}let y={enabled:!t[18]&&!t[19]};return t[15]!==void 0&&(y.selected_elements=t[15]),t[4]!==void 0&&(y.elements=t[4]),O=new He({props:y}),Y.push(()=>G(O,"selected_elements",ge)),Y.push(()=>G(O,"elements",te)),O.$on("selection-changed",t[54]),{c(){e=I("div"),l=I("h2"),l.innerHTML=r,a=A(),f=I("div"),n=I("div"),s=I("div"),E&&E.c(),d=A(),v=I("div"),D=I("h3"),D.textContent=o,c=A(),ae(i.$$.fragment),b=A(),h.c(),H=A(),T=I("h3"),T.textContent=q,U=A(),ae(O.$$.fragment),this.h()},l(p){e=V(p,"DIV",{class:!0});var j=M(e);l=V(j,"H2",{class:!0,"data-svelte-h":!0}),ee(l)!=="svelte-hz94lo"&&(l.innerHTML=r),a=B(j),f=V(j,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var K=M(f);n=V(K,"DIV",{class:!0});var Q=M(n);s=V(Q,"DIV",{class:!0});var u=M(s);E&&E.l(u),d=B(u),v=V(u,"DIV",{class:!0});var S=M(v);D=V(S,"H3",{"data-svelte-h":!0}),ee(D)!=="svelte-1273uzu"&&(D.textContent=o),c=B(S),ce(i.$$.fragment,S),S.forEach(m),u.forEach(m),b=B(Q),h.l(Q),H=B(Q),T=V(Q,"H3",{"data-svelte-h":!0}),ee(T)!=="svelte-r9e7qt"&&(T.textContent=q),U=B(Q),ce(O.$$.fragment,Q),Q.forEach(m),K.forEach(m),j.forEach(m),this.h()},h(){L(l,"class","accordion-header"),L(v,"class","col-6"),L(s,"class","row"),L(n,"class","accordion-body"),L(f,"id","collapseThree"),L(f,"class","accordion-collapse collapse"),L(f,"data-bs-parent","#accordionExample"),L(e,"class","accordion-item")},m(p,j){R(p,e,j),w(e,l),w(e,a),w(e,f),w(f,n),w(n,s),E&&E.m(s,null),w(s,d),w(s,v),w(v,D),w(v,c),_e(i,v,null),w(n,b),$[k].m(n,null),w(n,H),w(n,T),w(n,U),_e(O,n,null),J=!0},p(p,j){p[9]!="import_export"?E?(E.p(p,j),j[0]&512&&z(E,1)):(E=Pe(p),E.c(),z(E,1),E.m(s,d)):E&&(pe(),P(E,1,1,()=>{E=null}),de());const K={};j[0]&786432&&(K.enabled=!p[18]&&!p[19]),!_&&j[0]&65536&&(_=!0,K.options=p[16],F(()=>_=!1)),!C&&j[0]&131072&&(C=!0,K.selected_option=p[17],F(()=>C=!1)),i.$set(K);let Q=k;k=ne(p),k===Q?$[k].p(p,j):(pe(),P($[Q],1,1,()=>{$[Q]=null}),de(),h=$[k],h?h.p(p,j):(h=$[k]=se[k](p),h.c()),z(h,1),h.m(n,H));const u={};j[0]&786432&&(u.enabled=!p[18]&&!p[19]),!X&&j[0]&32768&&(X=!0,u.selected_elements=p[15],F(()=>X=!1)),!N&&j[0]&16&&(N=!0,u.elements=p[4],F(()=>N=!1)),O.$set(u)},i(p){J||(z(E),z(i.$$.fragment,p),z(h),z(O.$$.fragment,p),J=!0)},o(p){P(E),P(i.$$.fragment,p),P(h),P(O.$$.fragment,p),J=!1},d(p){p&&m(e),E&&E.d(),fe(i),$[k].d(),fe(O)}}}function Pe(t){let e,l,r="Aggregation",a,f,n,s,d;function v(c){t[40](c)}function D(c){t[41](c)}let o={enabled:!t[18]&&!t[19]};return t[6]!==void 0&&(o.options=t[6]),t[20]!==void 0&&(o.selected_option=t[20]),f=new Te({props:o}),Y.push(()=>G(f,"options",v)),Y.push(()=>G(f,"selected_option",D)),f.$on("selection-changed",t[42]),{c(){e=I("div"),l=I("h3"),l.textContent=r,a=A(),ae(f.$$.fragment),this.h()},l(c){e=V(c,"DIV",{class:!0});var i=M(e);l=V(i,"H3",{"data-svelte-h":!0}),ee(l)!=="svelte-126hufg"&&(l.textContent=r),a=B(i),ce(f.$$.fragment,i),i.forEach(m),this.h()},h(){L(e,"class","col-6")},m(c,i){R(c,e,i),w(e,l),w(e,a),_e(f,e,null),d=!0},p(c,i){const _={};i[0]&786432&&(_.enabled=!c[18]&&!c[19]),!n&&i[0]&64&&(n=!0,_.options=c[6],F(()=>n=!1)),!s&&i[0]&1048576&&(s=!0,_.selected_option=c[20],F(()=>s=!1)),f.$set(_)},i(c){d||(z(f.$$.fragment,c),d=!0)},o(c){P(f.$$.fragment,c),d=!1},d(c){c&&m(e),fe(f)}}}function ht(t){let e,l="Node",r,a,f,n,s;function d(o){t[49](o)}function v(o){t[50](o)}let D={enabled:!t[18]&&!t[19]};return t[13]!==void 0&&(D.selected_elements=t[13]),t[3]!==void 0&&(D.elements=t[3]),a=new He({props:D}),Y.push(()=>G(a,"selected_elements",d)),Y.push(()=>G(a,"elements",v)),a.$on("selection-changed",t[51]),{c(){e=I("h3"),e.textContent=l,r=A(),ae(a.$$.fragment)},l(o){e=V(o,"H3",{"data-svelte-h":!0}),ee(e)!=="svelte-ocjo5w"&&(e.textContent=l),r=B(o),ce(a.$$.fragment,o)},m(o,c){R(o,e,c),R(o,r,c),_e(a,o,c),s=!0},p(o,c){const i={};c[0]&786432&&(i.enabled=!o[18]&&!o[19]),!f&&c[0]&8192&&(f=!0,i.selected_elements=o[13],F(()=>f=!1)),!n&&c[0]&8&&(n=!0,i.elements=o[3],F(()=>n=!1)),a.$set(i)},i(o){s||(z(a.$$.fragment,o),s=!0)},o(o){P(a.$$.fragment,o),s=!1},d(o){o&&(m(e),m(r)),fe(a,o)}}}function gt(t){let e,l="Technology",r,a,f,n,s;function d(o){t[46](o)}function v(o){t[47](o)}let D={enabled:!t[18]&&!t[19]};return t[12]!==void 0&&(D.selected_elements=t[12]),t[11]!==void 0&&(D.elements=t[11]),a=new He({props:D}),Y.push(()=>G(a,"selected_elements",d)),Y.push(()=>G(a,"elements",v)),a.$on("selection-changed",t[48]),{c(){e=I("h3"),e.textContent=l,r=A(),ae(a.$$.fragment)},l(o){e=V(o,"H3",{"data-svelte-h":!0}),ee(e)!=="svelte-q7cxxi"&&(e.textContent=l),r=B(o),ce(a.$$.fragment,o)},m(o,c){R(o,e,c),R(o,r,c),_e(a,o,c),s=!0},p(o,c){const i={};c[0]&786432&&(i.enabled=!o[18]&&!o[19]),!f&&c[0]&4096&&(f=!0,i.selected_elements=o[12],F(()=>f=!1)),!n&&c[0]&2048&&(n=!0,i.elements=o[11],F(()=>n=!1)),a.$set(i)},i(o){s||(z(a.$$.fragment,o),s=!0)},o(o){P(a.$$.fragment,o),s=!1},d(o){o&&(m(e),m(r)),fe(a,o)}}}function bt(t){let e,l,r;function a(n){t[55](n)}let f={};return t[21]!==void 0&&(f.config=t[21]),e=new pt({props:f}),Y.push(()=>G(e,"config",a)),{c(){ae(e.$$.fragment)},l(n){ce(e.$$.fragment,n)},m(n,s){_e(e,n,s),r=!0},p(n,s){const d={};!l&&s[0]&2097152&&(l=!0,d.config=n[21],F(()=>l=!1)),e.$set(d)},i(n){r||(z(e.$$.fragment,n),r=!0)},o(n){P(e.$$.fragment,n),r=!1},d(n){fe(e,n)}}}function mt(t){let e,l="No data with this selection.";return{c(){e=I("div"),e.textContent=l,this.h()},l(r){e=V(r,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1doxial"&&(e.textContent=l),this.h()},h(){L(e,"class","text-center")},m(r,a){R(r,e,a)},p:Z,i:Z,o:Z,d(r){r&&m(e)}}}function vt(t){let e,l="No technologies with this selection.";return{c(){e=I("div"),e.textContent=l,this.h()},l(r){e=V(r,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1ontq7"&&(e.textContent=l),this.h()},h(){L(e,"class","text-center")},m(r,a){R(r,e,a)},p:Z,i:Z,o:Z,d(r){r&&m(e)}}}function kt(t){let e;return{c(){e=I("div")},l(l){e=V(l,"DIV",{}),M(e).forEach(m)},m(l,r){R(l,e,r)},p:Z,i:Z,o:Z,d(l){l&&m(e)}}}function Ct(t){let e;return{c(){e=I("div")},l(l){e=V(l,"DIV",{}),M(e).forEach(m)},m(l,r){R(l,e,r)},p:Z,i:Z,o:Z,d(l){l&&m(e)}}}function Et(t){let e,l='<div class="spinner-border center" role="status"><span class="visually-hidden">Loading...</span></div>';return{c(){e=I("div"),e.innerHTML=l,this.h()},l(r){e=V(r,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1a5ljpq"&&(e.innerHTML=l),this.h()},h(){L(e,"class","text-center")},m(r,a){R(r,e,a)},p:Z,i:Z,o:Z,d(r){r&&m(e)}}}function wt(t){let e,l='<div class="col"><h2>Production</h2></div>',r,a,f,n,s,d,v,D='<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">Solution Selection</button>',o,c,i,_,C,b,k,h,H,T,q,U,O,X,N,J,E,le;function he(u){t[27](u)}function oe(u){t[28](u)}function se(u){t[29](u)}function $(u){t[30](u)}function ne(u){t[31](u)}function ge(u){t[32](u)}let te={enabled:!t[18]&&!t[19]};t[0]!==void 0&&(te.carriers=t[0]),t[1]!==void 0&&(te.nodes=t[1]),t[4]!==void 0&&(te.years=t[4]),t[8]!==void 0&&(te.selected_solution=t[8]),t[2]!==void 0&&(te.edges=t[2]),t[18]!==void 0&&(te.loading=t[18]),_=new ft({props:te}),Y.push(()=>G(_,"carriers",he)),Y.push(()=>G(_,"nodes",oe)),Y.push(()=>G(_,"years",se)),Y.push(()=>G(_,"selected_solution",$)),Y.push(()=>G(_,"edges",ne)),Y.push(()=>G(_,"loading",ge)),_.$on("solution_selected",t[23]);let y=!t[18]&&t[8]&&Me(t),p=!t[19]&&t[10]&&(t[11].length>0||t[9]=="import_export")&&Ne(t);const j=[Et,Ct,kt,vt,mt,bt],K=[];function Q(u,S){return u[18]||u[19]?0:u[8]==null?1:u[7]==null?2:u[11].length==0&&u[9]!="import_export"?3:u[7].length==0?4:5}return J=Q(t),E=K[J]=j[J](t),{c(){e=I("div"),e.innerHTML=l,r=A(),a=I("div"),f=I("div"),n=I("div"),s=I("div"),d=I("div"),v=I("h2"),v.innerHTML=D,o=A(),c=I("div"),i=I("div"),ae(_.$$.fragment),q=A(),y&&y.c(),U=A(),p&&p.c(),O=A(),X=I("div"),N=I("div"),E.c(),this.h()},l(u){e=V(u,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1ow2g6f"&&(e.innerHTML=l),r=B(u),a=V(u,"DIV",{class:!0});var S=M(a);f=V(S,"DIV",{class:!0,style:!0});var x=M(f);n=V(x,"DIV",{class:!0,style:!0});var ie=M(n);s=V(ie,"DIV",{class:!0,id:!0});var re=M(s);d=V(re,"DIV",{class:!0});var ue=M(d);v=V(ue,"H2",{class:!0,"data-svelte-h":!0}),ee(v)!=="svelte-64kjki"&&(v.innerHTML=D),o=B(ue),c=V(ue,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var me=M(c);i=V(me,"DIV",{class:!0});var ve=M(i);ce(_.$$.fragment,ve),ve.forEach(m),me.forEach(m),ue.forEach(m),q=B(re),y&&y.l(re),U=B(re),p&&p.l(re),re.forEach(m),ie.forEach(m),x.forEach(m),S.forEach(m),O=B(u),X=V(u,"DIV",{class:!0});var ke=M(X);N=V(ke,"DIV",{class:!0,style:!0});var Ce=M(N);E.l(Ce),Ce.forEach(m),ke.forEach(m),this.h()},h(){L(e,"class","row"),L(v,"class","accordion-header"),L(i,"class","accordion-body"),L(c,"id","collapseOne"),L(c,"class","accordion-collapse collapse show"),L(c,"data-bs-parent","#accordionExample"),L(d,"class","accordion-item solution-selection"),L(s,"class","accordion"),L(s,"id","accordionExample"),L(n,"class","filters"),be(n,"position","absolute"),be(n,"width","100%"),L(f,"class","col position-relative"),be(f,"z-index","1"),be(f,"position","relative"),L(a,"class","row"),L(N,"class","col"),be(N,"margin-top","400px"),L(X,"class","row")},m(u,S){R(u,e,S),R(u,r,S),R(u,a,S),w(a,f),w(f,n),w(n,s),w(s,d),w(d,v),w(d,o),w(d,c),w(c,i),_e(_,i,null),w(s,q),y&&y.m(s,null),w(s,U),p&&p.m(s,null),R(u,O,S),R(u,X,S),w(X,N),K[J].m(N,null),le=!0},p(u,S){const x={};S[0]&786432&&(x.enabled=!u[18]&&!u[19]),!C&&S[0]&1&&(C=!0,x.carriers=u[0],F(()=>C=!1)),!b&&S[0]&2&&(b=!0,x.nodes=u[1],F(()=>b=!1)),!k&&S[0]&16&&(k=!0,x.years=u[4],F(()=>k=!1)),!h&&S[0]&256&&(h=!0,x.selected_solution=u[8],F(()=>h=!1)),!H&&S[0]&4&&(H=!0,x.edges=u[2],F(()=>H=!1)),!T&&S[0]&262144&&(T=!0,x.loading=u[18],F(()=>T=!1)),_.$set(x),!u[18]&&u[8]?y?(y.p(u,S),S[0]&262400&&z(y,1)):(y=Me(u),y.c(),z(y,1),y.m(s,U)):y&&(pe(),P(y,1,1,()=>{y=null}),de()),!u[19]&&u[10]&&(u[11].length>0||u[9]=="import_export")?p?(p.p(u,S),S[0]&527872&&z(p,1)):(p=Ne(u),p.c(),z(p,1),p.m(s,null)):p&&(pe(),P(p,1,1,()=>{p=null}),de());let ie=J;J=Q(u),J===ie?K[J].p(u,S):(pe(),P(K[ie],1,1,()=>{K[ie]=null}),de(),E=K[J],E?E.p(u,S):(E=K[J]=j[J](u),E.c()),z(E,1),E.m(N,null))},i(u){le||(z(_.$$.fragment,u),z(y),z(p),z(E),le=!0)},o(u){P(_.$$.fragment,u),P(y),P(p),P(E),le=!1},d(u){u&&(m(e),m(r),m(a),m(O),m(X)),fe(_),y&&y.d(),p&&p.d(),K[J].d()}}}function Dt(t,e,l){let r,a=[],f=[],n=[],s=[],d=[],v={conversion:["input","output"],storage:["charge","discharge"],transport:null,import_export:["import","export"]},D=["technology","node"],o=null,c=null,i=null,_=null,C=null,b=[],k=[],h=[],H=null,T=[],q=["not_normalized","normalized"],U="not_normalized",O=!1,X=!1,N="node",E={type:"bar",data:{datasets:[]},options:{responsive:!0,scales:{x:{stacked:!0,title:{display:!0,text:"Year"}},y:{stacked:!0,title:{display:!0,text:_+" ["+oe()+"]"}}}}};function le(){l(15,T=d),l(13,h=f),l(12,k=b)}function he(){switch(_){case"conversion":return"flow_conversion_"+H;case"storage":return"flow_storage_"+H;case"transport":return"flow_transport";case"import_export":return"flow_"+H;default:return null}}function oe(){return c===null?"":c}async function se(){l(19,X=!0);let g=he();g!==null&&await ut(i.solution_name,g,i.scenario_name,i.detail.system.reference_year,i.detail.system.interval_between_years).then(W=>{r=W.data,c=W.unit,l(19,X=!1)})}function $(){if(l(7,o=null),l(10,C=""),i==null){l(0,a=[]);return}switch(_){case"import_export":H=="import"?l(0,a=i.detail.carriers_import):l(0,a=i.detail.carriers_export);break;case"conversion":let g=i.detail.carriers_output;H=="input"&&(g=i.detail.carriers_input),l(0,a=[]);for(const W in g)l(0,a=[...new Set([...a,...g[W]])]);break;default:l(0,a=i.detail.system.set_carriers)}a.length==1&&l(10,C=a[0]),le()}function ne(){if(l(7,o=[]),_!=null&&C!=null){switch(l(11,b=(i==null?void 0:i.detail.system.set_technologies)??[]),_){case"conversion":l(11,b=[]);let g=i.detail.carriers_input;H=="output"&&(g=i.detail.carriers_output);for(const W in g)g[W].includes(C)&&b.push(W);break;case"storage":l(11,b=(i==null?void 0:i.detail.system.set_storage_technologies.filter(W=>(i==null?void 0:i.detail.reference_carrier[W])==C))??[]);break;case"transport":l(11,b=(i==null?void 0:i.detail.system.set_transport_technologies.filter(W=>(i==null?void 0:i.detail.reference_carrier[W])==C))??[]);break;case"import_export":l(11,b=[]);break}b.length==1&&l(12,k=[b[0]]),le()}}function ge(){l(3,s=f),_=="transport"&&l(3,s=n)}function te(){l(7,o=[]),_!=null&&(v[_]!=null&&l(14,H=v[_][0]),_=="import_export"&&l(20,N="technology"),se().then(()=>{$(),ne(),ge(),y()}))}function y(){if(_=="import_export"&&l(20,N="node"),N=="technology"?l(13,h=f):l(12,k=b),h.length==0||T.length==0||k.length==0&&_!="import_export"||!r){l(7,o=[]);return}let g={},W={},Ee="node";_=="transport"&&(Ee="edge"),_=="import_export"?(g[Ee]=h,W.carrier=[C]):N=="technology"?(g[Ee]=h,W.technology=k):(g.technology=k,W[Ee]=h);let it=d.filter(rt=>!T.includes(rt));l(7,o=dt(r.data,g,W,it,U=="normalized")),l(21,E.data={datasets:o},E),l(21,E.options.scales.y.title.text=_+" ["+oe()+"]",E)}function p(g){a=g,l(0,a)}function j(g){f=g,l(1,f)}function K(g){d=g,l(4,d)}function Q(g){i=g,l(8,i)}function u(g){n=g,l(2,n)}function S(g){O=g,l(18,O)}function x(){_=ye(this),l(9,_),l(5,v)}const ie=()=>{te()};function re(g){t.$$.not_equal(v[_],g)&&(v[_]=g,l(5,v))}function ue(g){H=g,l(14,H)}const me=g=>{se(),$(),ne(),y()};function ve(){C=ye(this),l(10,C),l(0,a)}const ke=()=>{ne(),y()};function Ce(g){D=g,l(6,D)}function Je(g){N=g,l(20,N)}const Ke=g=>{y()};function Qe(g){q=g,l(16,q)}function Ue(g){U=g,l(17,U)}const We=g=>{y()};function Xe(g){k=g,l(12,k)}function Ze(g){b=g,l(11,b)}const $e=()=>{y()};function xe(g){h=g,l(13,h)}function et(g){s=g,l(3,s)}const tt=g=>{y()};function lt(g){T=g,l(15,T)}function nt(g){d=g,l(4,d)}const ot=g=>{y()};function st(g){E=g,l(21,E)}return[a,f,n,s,d,v,D,o,i,_,C,b,k,h,H,T,q,U,O,X,N,E,se,$,ne,te,y,p,j,K,Q,u,S,x,ie,re,ue,me,ve,ke,Ce,Je,Ke,Qe,Ue,We,Xe,Ze,$e,xe,et,tt,lt,nt,ot,st]}class Lt extends ct{constructor(e){super(),_t(this,e,Dt,wt,at,{},null,[-1,-1,-1])}}export{Lt as component};
