(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6050],{47201:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/datastore-connection/new",function(){return n(73002)}])},81563:function(e,t,n){"use strict";var s=n(24246),l=n(13054),r=n(27378);t.Z=e=>{var t;let{disabled:n=!1,enableSorting:i=!0,hasClear:a=!0,label:o,list:d,menuButtonProps:c,onChange:u,selectedValue:x}=e,[p,h]=(0,r.useState)(!1),m=()=>{h(!1)},f=null===(t=[...d].find(e=>{let[,t]=e;return t.value===x}))||void 0===t?void 0:t[0];return(0,s.jsxs)(l.v2r,{isLazy:!0,onClose:m,onOpen:()=>{h(!0)},strategy:"fixed",children:[(0,s.jsx)(l.j2t,{"aria-label":null!=f?f:o,as:l.zxk,color:f?"complimentary.500":void 0,disabled:n,fontWeight:"normal",rightIcon:(0,s.jsx)(l.mCO,{}),size:"sm",variant:"outline",_active:{bg:"none"},_hover:{bg:"none"},...c,"data-testid":"select-dropdown-btn",children:(0,s.jsx)(l.xvT,{noOfLines:1,wordBreak:"break-all",children:null!=f?f:o})}),p?(0,s.jsxs)(l.qyq,{lineHeight:"1rem",p:"0","data-testid":"select-dropdown-list",children:[a&&(0,s.jsx)(l.kCb,{borderBottom:"1px",borderColor:"gray.200",cursor:"auto",p:"8px",children:(0,s.jsx)(l.zxk,{onClick:()=>{u(void 0),m()},size:"xs",variant:"outline",children:"Clear"})}),(i?[...d].sort():[...d]).map(e=>{let[t,n]=e;return(0,s.jsx)(l.ua7,{"aria-label":n.toolTip,hasArrow:!0,label:n.toolTip,placement:"auto-start",openDelay:500,shouldWrapChildren:!0,children:(0,s.jsx)(l.sNh,{color:x===n.value?"complimentary.500":void 0,isDisabled:n.isDisabled,onClick:()=>u(n.value),paddingTop:"10px",paddingRight:"8.5px",paddingBottom:"10px",paddingLeft:"8.5px",_focus:{bg:"gray.100"},children:(0,s.jsx)(l.xvT,{fontSize:"0.75rem",children:t})})},t)})]}):null]})}},73002:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var s=n(24246),l=n(69728),r=n(48382),i=n(13054),a=n(86677),o=n(27378),d=n(45007),c=n(44296),u=n(73485),x=n(11032),p=n(94167),h=n(38615),m=n(50204),f=n(19686),j=n(81563),b=n(35894),v=e=>{let{width:t}=e,n=(0,d.I0)(),r=(0,o.useRef)(!1),a=(0,c.C)(l.pw);return(0,o.useEffect)(()=>(r.current=!0,()=>{n((0,l.zq)(b.gA)),r.current=!1}),[n]),(0,s.jsx)(i.xuv,{children:(0,s.jsx)(j.Z,{enableSorting:!1,hasClear:!1,label:"Show all connectors",list:b.yI,menuButtonProps:{width:t},onChange:e=>{n((0,l.zq)(e||b.gA))},selectedValue:a.system_type||b.gA})})},g=n(79894),y=n.n(g),C=e=>{let{items:t}=e;return(0,s.jsx)(i.MIq,{columns:4,spacingX:"16px",spacingY:"16px",children:t.map(e=>(0,s.jsx)(y(),{href:{pathname:window.location.pathname,query:{step:2,connectorType:JSON.stringify(e)}},children:(0,s.jsx)(i.xuv,{boxShadow:"base",borderRadius:"5px",maxWidth:"331px",overflow:"hidden",_hover:{boxShadow:"lg",cursor:"pointer"},"data-testid":"".concat(e.identifier,"-item"),children:(0,s.jsxs)(i.kCb,{alignItems:"center",justifyContent:"start",pl:"24px",pr:"24px",color:"gray.700",fontSize:"14px",fontStyle:"normal",fontWeight:"600",lineHeight:"20px",h:"80px",children:[(0,s.jsx)(r.Z,{data:e}),(0,s.jsx)(i.xvT,{ml:"12px",children:e.human_readable})]})})},e.identifier))})},S=()=>{let e=(0,d.I0)(),t=(0,o.useRef)(!1),{step:n}=(0,c.C)(l.ZZ),r=(0,c.C)(l.pw),{data:a,isFetching:u,isLoading:x,isSuccess:j}=(0,l.$I)(r),[b,g]=(0,o.useState)(!1),y=(0,o.useCallback)(t=>{(0===t.target.value.length||t.target.value.length>1)&&e((0,l.qP)(t.target.value))},[e]),S=(0,o.useMemo)(()=>(0,p.Ds)(y,250),[y]),T=(0,o.useMemo)(()=>(null==a?void 0:a.items)&&[...a.items].sort((e,t)=>e.human_readable>t.human_readable?1:-1),[a]);return(0,o.useEffect)(()=>(t.current=!0,()=>{e((0,l.qP)("")),t.current=!1}),[e]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.kCb,{minWidth:"fit-content",children:(0,s.jsx)(i.xuv,{color:"gray.700",fontSize:"14px",maxHeight:"80px",maxWidth:"474px",mb:"24px",children:n.description})}),(0,s.jsxs)(i.kCb,{alignItems:"center",gap:"4",mb:"24px",minWidth:"fit-content",children:[(0,s.jsx)(v,{}),(0,s.jsxs)(i.BZy,{size:"sm",children:[(0,s.jsx)(i.Z8_,{pointerEvents:"none",children:(0,s.jsx)(i.PTu,{color:"gray.300",h:"17px",w:"17px"})}),(0,s.jsx)(i.IIB,{autoComplete:"off",autoFocus:!0,borderRadius:"md",name:"search",onChange:S,placeholder:"Search integrations",size:"sm",type:"search"})]}),(0,s.jsx)(h.ZP,{scopes:[f.Sh.CONNECTOR_TEMPLATE_REGISTER],children:(0,s.jsx)(i.zxk,{colorScheme:"primary",type:"submit",minWidth:"auto","data-testid":"upload-btn",size:"sm",onClick:()=>{g(!0)},children:"Upload connector"})})]}),(0,s.jsx)(m.Z,{isOpen:b,onClose:()=>g(!1)}),(u||x)&&(0,s.jsx)(i.M5Y,{children:(0,s.jsx)(i.$jN,{})}),j&&T?(0,s.jsx)(C,{items:T}):null]})},T=n(36848),k=n(59201),I=n(4894),_=n(89468),w=()=>{let e=(0,d.I0)(),t=(0,o.useRef)(!1),[n,r]=(0,o.useState)(!1),{connection:a,connectionOption:u}=(0,c.C)(l.ZZ),x=b.IM.find(e=>e.type===(null==u?void 0:u.type)),[p,h]=(0,o.useState)(null==x?void 0:x.options[0]),m=()=>{r(!0)},j=(0,o.useMemo)(()=>()=>{let e=[];return(null==x?void 0:x.options)&&x.options.forEach(t=>{let n;switch(t){case b.H5.CONNECTOR_PARAMETERS:n={label:t,content:(0,s.jsx)(k.s,{onConnectionCreated:m})};break;case b.H5.DATASET_CONFIGURATION:n=(null==a?void 0:a.key)?{label:t,content:(0,s.jsx)(I.Z,{})}:void 0;break;case b.H5.DSR_CUSTOMIZATION:n=(null==a?void 0:a.key)?{label:t,content:(0,s.jsx)(_.Z,{})}:void 0}n&&e.push(n)}),e},[null==a?void 0:a.key,null==x?void 0:x.options]),v=(0,o.useCallback)(t=>{switch(t){case b.H5.DATASET_CONFIGURATION:case b.H5.DSR_CUSTOMIZATION:e((0,l.nj)(b.Ss[3]));break;case b.H5.CONNECTOR_PARAMETERS:default:e((0,l.nj)(b.Ss[2]))}h(t)},[e]);return(0,o.useEffect)(()=>(t.current=!0,()=>{t.current=!1,e((0,l.mc)())}),[e]),(0,o.useEffect)(()=>{(null==a?void 0:a.key)&&(v((null==u?void 0:u.type)!==f.Zi.MANUAL?b.H5.DATASET_CONFIGURATION:b.H5.DSR_CUSTOMIZATION),n&&r(!1))},[n,null==a?void 0:a.key,null==u?void 0:u.type,null==x?void 0:x.options,v]),(0,s.jsx)(i.gCW,{alignItems:"stretch",gap:"18px",children:(0,s.jsx)(T.Z,{data:j(),flexGrow:1,index:null==x?void 0:x.options.findIndex(e=>e===p),isLazy:!0})})},E=n(99377),N=()=>{let e=(0,d.I0)(),t=(0,a.useRouter)(),{connectorType:n,step:p}=t.query,{connection:h,connectionOption:m,step:f}=(0,c.C)(l.ZZ);(0,o.useEffect)(()=>{if(n&&e((0,l.yA)(JSON.parse(n))),t.query.step){let t=b.Ss.find(e=>e.stepId===Number(p));e((0,l.nj)(t||b.Ss[1]))}return!t.query.id&&(null==h?void 0:h.key)&&(0,E.S)(h.key,f.href),()=>{}},[null==h?void 0:h.key,n,p,e,t.query.id,t.query.step,f.href]);let j=(0,o.useCallback)(e=>{let t="";switch(e.stepId){case 2:case 3:t=e.label.replace("{identifier}",m.human_readable);break;default:t=e.label}return t},[m]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Z,{backPath:x.JR}),(0,s.jsx)(i.X6q,{fontSize:"2xl",fontWeight:"semibold",maxHeight:"40px",mb:"4px",whiteSpace:"nowrap",children:(0,s.jsxs)(i.xuv,{alignItems:"center",display:"flex",children:[m&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.Z,{data:m}),(0,s.jsx)(i.xvT,{ml:"8px",children:j(f)})]}),!m&&(0,s.jsx)(i.xvT,{children:j(f)})]})}),(()=>{switch(f.stepId){case 1:default:return(0,s.jsx)(S,{});case 2:case 3:return(0,s.jsx)(w,{})}})()]})},O=n(73025),A=()=>(0,s.jsx)(O.Z,{children:(0,s.jsx)(N,{})})}},function(e){e.O(0,[3005,4833,1735,3273,2888,9774,179],function(){return e(e.s=47201)}),_N_E=e.O()}]);