(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9196],{95372:function(e){e.exports=function(e,a,s,t){for(var r=e.length,i=s+(t?1:-1);t?i--:++i<r;)if(a(e[i],i,e))return i;return -1}},74833:function(e,a,s){var t=s(56127),r=/^\s+/;e.exports=function(e){return e?e.slice(0,t(e)+1).replace(r,""):e}},56632:function(e,a,s){var t=s(89278),r=s(80068),i=s(50098);e.exports=function(e){return function(a,s,l){var n=Object(a);if(!r(a)){var o=t(s,3);a=i(a),s=function(e){return o(n[e],e,n)}}var c=e(a,s,l);return c>-1?n[o?a[c]:c]:void 0}}},56127:function(e){var a=/\s/;e.exports=function(e){for(var s=e.length;s--&&a.test(e.charAt(s)););return s}},64925:function(e,a,s){var t=s(56632)(s(66259));e.exports=t},66259:function(e,a,s){var t=s(95372),r=s(89278),i=s(47991),l=Math.max;e.exports=function(e,a,s){var n=null==e?0:e.length;if(!n)return -1;var o=null==s?0:i(s);return o<0&&(o=l(n+o,0)),t(e,r(a,3),o)}},94919:function(e,a,s){var t=s(91936),r=1/0;e.exports=function(e){return e?(e=t(e))===r||e===-r?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}},47991:function(e,a,s){var t=s(94919);e.exports=function(e){var a=t(e),s=a%1;return a==a?s?a-s:a:0}},91936:function(e,a,s){var t=s(74833),r=s(11611),i=s(55193),l=0/0,n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return l;if(r(e)){var a="function"==typeof e.valueOf?e.valueOf():e;e=r(a)?a+"":a}if("string"!=typeof e)return 0===e?e:+e;e=t(e);var s=o.test(e);return s||c.test(e)?d(e.slice(2),s?2:8):n.test(e)?l:+e}},86548:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reporting/datamap",function(){return s(33999)}])},81836:function(e,a,s){"use strict";var t=s(24246),r=s(27378),i=s(13054),l=s(79894),n=s.n(l);a.Z=e=>{let{breadcrumbs:a,fontSize:s="2xl",fontWeight:l="semibold",separator:o="->",lastItemStyles:c={color:"black"},normalItemStyles:d={color:"gray.500"},...u}=e;return(0,t.jsx)(i.aGc,{separator:o,fontSize:s,fontWeight:l,"data-testid":"breadcrumbs",...u,children:a.map((e,s)=>{let l=s+1===a.length;return(0,r.createElement)(i.gN6,{...d,...l?c:{},key:e.title,children:[(null==e?void 0:e.icon)&&(0,t.jsx)(i.xuv,{mr:2,children:e.icon}),e.link?(0,t.jsx)(i.Atw,{as:n(),href:e.link,isCurrentPage:l,children:e.title}):(0,t.jsx)(i.Atw,{_hover:{textDecoration:"none",cursor:"default"},isCurrentPage:l,children:e.title})]})})})}},72809:function(e,a,s){"use strict";var t=s(24246),r=s(13054),i=s(27378);let l=e=>{let a=e.split("."),s=[];return a.forEach(e=>{let a=s.length>0?s[s.length-1]:null;a?s.push("".concat(a,".").concat(e)):s.push(e)}),s},n=(e,a)=>{let s=l(a).filter(e=>e!==a);return e.filter(e=>s.includes(e)).length>0},o=(e,a)=>!!(e===a||e.startsWith("".concat(a,"."))),c=(e,a,s)=>{let t=null!=s?s:[];return e.forEach(e=>{e.children&&c(e.children,a,t),o(e.value,a)&&t.push(e)}),t},d=e=>{let{node:a,isChecked:s,onChecked:i,isExpanded:l,onExpanded:n,isIndeterminate:o,isDisabled:c,children:d}=e,{value:u,label:_}=a,x=!!a.children&&a.children.length>0;return(0,t.jsxs)(r.xuv,{children:[(0,t.jsxs)(r.xuv,{display:"flex",justifyContent:"space-between",_hover:{backgroundColor:"gray.100",cursor:"pointer"},onClick:()=>n(a),minHeight:8,children:[(0,t.jsx)(r.XZJ,{colorScheme:"complimentary",value:u,isChecked:!o&&s,isIndeterminate:o,isDisabled:c,onChange:()=>i(a),mx:2,"data-testid":"checkbox-".concat(_),children:_}),x?(0,t.jsx)(r.hU,{"data-testid":"expand-".concat(_),"aria-label":l?"collapse":"expand",icon:(0,t.jsx)(r.v4q,{boxSize:5}),variant:"ghost",onClick:()=>n(a),size:"sm",style:{transform:l?"rotate(180deg)":""}}):null]}),d&&(0,t.jsx)(r.xuv,{ml:5,children:d})]})};a.ZP=e=>{let{nodes:a,selected:s,onSelected:u,..._}=e,[x,p]=(0,i.useState)([]),[g,m]=(0,i.useState)([]);(0,i.useEffect)(()=>{let e=Array.from(new Set([...s.map(e=>l(e)).reduce((e,a)=>e.concat(a),[]),...s.map(e=>c(a,e)).reduce((e,a)=>e.concat(a),[]).map(e=>e.value)]));m(e),p(e)},[s,a]);let f=e=>{let t=[],r=[];x.indexOf(e.value)>=0?(t=x.filter(a=>!o(a,e.value)),r=s.filter(a=>!o(a,e.value))):(t=[...x,...c(a,e.value).map(e=>e.value)],r=[...s,e.value]),p(t),u(r)},h=e=>{g.indexOf(e.value)>=0?m(g.filter(a=>!o(a,e.value))):m([...g,e.value])},v=e=>{if(e.children){let r=x.indexOf(e.value)>=0,l=g.indexOf(e.value)>=0,o=c(a,e.value),u=r&&e.children.length>0&&x.filter(a=>a.startsWith("".concat(e.value,"."))).length+1!==o.length,_=n(s,e.value);return(0,t.jsx)(d,{node:e,isChecked:r,onChecked:f,isExpanded:l,onExpanded:h,isDisabled:_,isIndeterminate:u,children:l?e.children.map(e=>(0,t.jsx)(i.Fragment,{children:v(e)},e.value)):void 0})}return null};return(0,t.jsx)(r.xuv,{..._,children:a.map(e=>(0,t.jsx)(r.xuv,{children:v(e)},e.value))})}},65464:function(e,a,s){"use strict";var t=s(24246),r=s(13054),i=s(88038),l=s.n(i);s(27378),a.Z=e=>{let{children:a,title:s,mainProps:i}=e;return(0,t.jsxs)(r.kCb,{"data-testid":s,direction:"column",height:"calc(100vh - 48px)",width:"calc(100vw - 200px)",children:[(0,t.jsxs)(l(),{children:[(0,t.jsxs)("title",{children:["Fides Admin UI - ",s]}),(0,t.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,t.jsx)(r.kCb,{pt:6,as:"main",overflow:"auto",direction:"column",flex:1,minWidth:0,...i,children:a})]})}},37541:function(e,a,s){"use strict";var t=s(24246),r=s(13054),i=s(19785),l=s.n(i),n=s(27378),o=s(81836);a.Z=e=>{let{breadcrumbs:a,isSticky:s=!0,children:i,rightContent:c,...d}=e;return(0,t.jsxs)(r.xuv,{bgColor:"white",paddingY:5,...s?{position:"sticky",top:0,left:0,zIndex:10}:{},...d,children:[(0,t.jsxs)(r.kCb,{alignItems:"flex-start",children:[(0,t.jsxs)(r.xuv,{flex:1,children:[l()(a)&&(0,t.jsx)(r.xuv,{marginBottom:i?4:0,children:(0,t.jsx)(o.Z,{breadcrumbs:a})}),(0,n.isValidElement)(a)&&a]}),c&&(0,t.jsx)(r.xuv,{children:c})]}),i]})}},19310:function(e,a,s){"use strict";var t=s(24246),r=s(64925),i=s.n(r),l=s(44296),n=s(91650),o=s(79851),c=s(47411);let d=()=>{let{isLoading:e}=(0,o.fd)(),a=(0,l.C)(o.U3),{isLoading:s}=(0,c.MO)(),t=(0,l.C)(c.qb),{isLoading:r}=(0,n.te)();return{dataUses:a,dataSubjects:(0,l.C)(n.ZL),dataCategories:t,isLoading:e||s||r}};a.Z=()=>{let{dataUses:e,dataCategories:a,dataSubjects:s,isLoading:r}=d(),l=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.split(".").slice(0,a).join(".")},n=function(e,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=a(e);if(!r)return e;let i=a(l(e,s));return r.parent_key&&(null==i?void 0:i.name)!==r.name?(0,t.jsxs)("span",{children:[(0,t.jsxs)("strong",{children:[null==i?void 0:i.name,":"]})," ",r.name]},e):(0,t.jsx)("strong",{children:r.name},e)},o=a=>i()(e,{fides_key:a}),c=e=>i()(a,{fides_key:e}),u=e=>i()(s,{fides_key:e});return{getDataUses:()=>e,getDataUseByKey:o,getDataUseDisplayName:e=>n(e,o,1),getDataCategories:()=>a,getDataCategoryByKey:c,getDataCategoryDisplayName:e=>n(e,c,2),getDataSubjects:()=>s,getDataSubjectByKey:u,getDataSubjectDisplayName:e=>{let a=u(e);return a?a.name:e},getPrimaryKey:l,isLoading:r}}},62091:function(e,a,s){"use strict";s.d(a,{C:function(){return t},P:function(){return r}});let t=(e,a)=>{let s;if(null==a&&e.every(e=>void 0===e.parent_key))s=e;else{let t=null!=a?a:null;s=e.filter(e=>e.parent_key===t)}return s.map(a=>{var s,r;let i=a.fides_key;return{value:a.fides_key,label:""===a.name||null==a.name?a.fides_key:a.name,description:a.description,children:t(e,i),is_default:null!==(s=a.is_default)&&void 0!==s&&s,active:null!==(r=a.active)&&void 0!==r&&r}})},r=e=>{let a=e.split(".");return 1===a.length?"":a.slice(0,a.length-1).join(".")}},33999:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return F}});var t,r,i=s(24246),l=s(27378),n=s(65464),o=s(37541),c=s(92222),d=s(59003),u=s(52850),_=s(13054),x=s(98784),p=s.n(x),g=s(44296),m=s(56721),f=s(19310),h=s(62528),v=s(98320),j=s(94167),S=s(31404),y=s(12003),T=s(54321),E=e=>{let{children:a,heading:s,onCancel:t,onConfirm:r,isLoading:l,cancelButtonText:n,cancelButtonThemingProps:o,continueButtonText:c,continueButtonThemingProps:d,"data-testid":u="standard-dialog",...x}=e,{onClose:p}=x;return(0,i.jsxs)(_.u_l,{closeOnOverlayClick:l,...x,children:[(0,i.jsx)(_.ZAr,{}),(0,i.jsxs)(_.hzk,{"data-testid":u,children:[s&&(0,i.jsx)(_.xBx,{children:s}),(0,i.jsx)(_.olH,{isDisabled:l}),a&&(0,i.jsx)(_.fef,{children:a}),(0,i.jsxs)(_.mzw,{gap:3,width:"100%",sx:{"& button":{width:"100%"}},children:[(0,i.jsx)(_.zxk,{variant:"outline",onClick:()=>{t&&t(),p()},"data-testid":"".concat(u?"".concat(u,"-"):"","cancel-btn"),isDisabled:l,...o,children:n||"Cancel"}),(0,i.jsx)(_.zxk,{colorScheme:"primary",onClick:r,"data-testid":"".concat(u?"".concat(u,"-"):"","continue-btn"),isLoading:l,...o,children:c||"Continue"})]})]})]})},A=e=>{let[a,s]=(0,l.useState)(S.T2.csv),{onConfirm:t}=e;return(0,i.jsx)(E,{heading:"Export report",continueButtonText:"Download",size:"xl",...e,onConfirm:()=>t(a),"data-testid":"export-modal",children:(0,i.jsxs)(_.kCb,{direction:"column",gap:3,pb:3,children:[(0,i.jsx)(_.xvT,{textAlign:"left",children:"Export your data map report using the options below. Depending on the number of rows, the file may take a few minutes to process."}),(0,i.jsxs)(_.NIc,{children:[(0,i.jsx)(_.lXp,{children:"Choose Format"}),(0,i.jsxs)(_.PhF,{value:a,onChange:e=>s(e.target.value),"data-testid":"export-format-select",children:[(0,i.jsx)("option",{value:S.T2.csv,children:"CSV"}),(0,i.jsx)("option",{value:S.T2.xlsx,children:"XLSX"})]})]})]})})},R=s(72809),b=s(91650),C=s(79851),D=s(62091),I=s(35249);let k=e=>{let{label:a,children:s,...t}=e;return(0,i.jsxs)(_.Qdk,{...t,children:[(0,i.jsx)(_.X6q,{children:(0,i.jsxs)(_.KFZ,{height:"100%","data-testid":"filter-modal-accordion-button",textAlign:"left",fontWeight:600,children:[(0,i.jsx)(_.xuv,{flex:1,children:a}),(0,i.jsx)(_.XEm,{boxSize:7})]})}),(0,i.jsx)(_.Hk3,{children:s})]})},O=e=>{let{onClose:a,onFilterChange:s,...t}=e;(0,C.fd)(),(0,b.te)(),(0,I.MO)();let r=(0,g.C)(C.U3),n=(0,g.C)(b.ZL),o=(0,g.C)(I.qb),[c,d]=(0,l.useState)([]),[u,x]=(0,l.useState)([]),[p,m]=(0,l.useState)([]),f=(0,l.useMemo)(()=>(0,D.C)(r),[r]),h=(0,l.useMemo)(()=>(0,D.C)(n),[n]),v=(0,l.useMemo)(()=>(0,D.C)(o),[o]);return(0,i.jsx)(E,{heading:"Filter Datamap Report",...t,onCancel:()=>{d([]),x([]),m([]),s({dataUses:[],dataSubjects:[],dataCategories:[]}),a()},onConfirm:()=>{s({dataUses:c,dataSubjects:u,dataCategories:p}),a()},onClose:a,cancelButtonText:"Reset filters",continueButtonText:"Done","data-testid":"datamap-report-filter-modal",children:(0,i.jsxs)(_.UQy,{allowToggle:!0,children:[(0,i.jsx)(k,{label:"Data uses",children:(0,i.jsx)(R.ZP,{nodes:f,selected:c,onSelected:d,"data-testid":"filter-modal-checkbox-tree-uses"})}),(0,i.jsx)(k,{label:"Data categories",children:(0,i.jsx)(R.ZP,{nodes:v,selected:p,onSelected:m,"data-testid":"filter-modal-checkbox-tree-categories"})}),(0,i.jsx)(k,{label:"Data subjects",children:(0,i.jsx)(R.ZP,{nodes:h,selected:u,onSelected:x,"data-testid":"filter-modal-checkbox-tree-subjects"})})]})})};var P=s(96878),L=s(19686);let M=(0,c.Cl)(),N={items:[],total:0,page:1,size:25,pages:1};(t=r||(r={})).SYSTEM_NAME="system_name",t.DATA_USE="data_use",t.DATA_CATEGORY="data_categories",t.DATA_SUBJECT="data_subjects",t.LEGAL_NAME="legal_name",t.DPO="dpo",t.LEGAL_BASIS_FOR_PROCESSING="legal_basis_for_processing",t.ADMINISTRATING_DEPARTMENT="administrating_department",t.COOKIE_MAX_AGE_SECONDS="cookie_max_age_seconds",t.PRIVACY_POLICY="privacy_policy",t.LEGAL_ADDRESS="legal_address",t.COOKIE_REFRESH="cookie_refresh",t.DATA_SECURITY_PRACTICES="data_security_practices",t.DATA_SHARED_WITH_THIRD_PARTIES="DATA_SHARED_WITH_THIRD_PARTIES",t.DATA_STEWARDS="data_stewards",t.DECLARATION_NAME="declaration_name",t.DESCRIPTION="description",t.DOES_INTERNATIONAL_TRANSFERS="does_international_transfers",t.DPA_LOCATION="dpa_location",t.DESTINATIONS="egress",t.EXEMPT_FROM_PRIVACY_REGULATIONS="exempt_from_privacy_regulations",t.FEATURES="features",t.FIDES_KEY="fides_key",t.FLEXIBLE_LEGAL_BASIS_FOR_PROCESSING="flexible_legal_basis_for_processing",t.IMPACT_ASSESSMENT_LOCATION="impact_assessment_location",t.SOURCES="ingress",t.JOINT_CONTROLLER_INFO="joint_controller_info",t.LEGAL_BASIS_FOR_PROFILING="legal_basis_for_profiling",t.LEGAL_BASIS_FOR_TRANSFERS="legal_basis_for_transfers",t.LEGITIMATE_INTEREST_DISCLOSURE_URL="legitimate_interest_disclosure_url",t.LINK_TO_PROCESSOR_CONTRACT="link_to_processor_contract",t.PROCESSES_PERSONAL_DATA="processes_personal_data",t.REASON_FOR_EXEMPTION="reason_for_exemption",t.REQUIRES_DATA_PROTECTION_ASSESSMENTS="requires_data_protection_assessments",t.RESPONSIBILITY="responsibility",t.RETENTION_PERIOD="retention_period",t.SHARED_CATEGORIES="shared_categories",t.SPECIAL_CATEGORY_LEGAL_BASIS="special_category_legal_basis",t.SYSTEM_DEPENDENCIES="system_dependencies",t.THIRD_COUNTRY_SAFEGUARDS="third_country_safeguards",t.THIRD_PARTIES="third_parties",t.COOKIES="cookies",t.USES_COOKIES="uses_cookies",t.USES_NON_COOKIE_ACCESS="uses_non_cookie_access",t.USES_PROFILING="uses_profiling",t.SYSTEM_UNDECLARED_DATA_CATEGORIES="system_undeclared_data_categories",t.DATA_USE_UNDECLARED_DATA_CATEGORIES="data_use_undeclared_data_categories";let G=e=>{let a=[];switch(e){case L.fI.SYSTEM_DATA_USE:a=["system_name"];break;case L.fI.DATA_USE_SYSTEM:a=["data_use"];break;default:a=["system_name"]}return a},w=e=>{let a=[];return L.fI.SYSTEM_DATA_USE===e&&(a=["system_name","data_use","data_categories","data_subjects"]),L.fI.DATA_USE_SYSTEM===e&&(a=["data_use","system_name","data_categories","data_subjects"]),a},U=e=>{let a=[];return L.fI.SYSTEM_DATA_USE===e&&(a=["system_name","data_use"]),L.fI.DATA_USE_SYSTEM===e&&(a=["data_use","system_name"]),a},V=()=>{let[e,a]=(0,m._)("datamap-report-table-state",void 0),s=(0,l.useMemo)(()=>e,[]),{isLoading:t}=(0,P.x8)(),{PAGE_SIZES:n,pageSize:o,setPageSize:E,onPreviousPageClick:R,isPreviousPageDisabled:b,onNextPageClick:C,isNextPageDisabled:D,startRange:I,endRange:k,pageIndex:V,setTotalPages:F,resetPageIndexToDefault:H}=(0,u.oi)(),{isOpen:Z,onClose:Y,onOpen:W}=(0,_.qY0)(),{getDataUseDisplayName:z,getDataCategoryDisplayName:q,getDataSubjectDisplayName:B,isLoading:X}=(0,f.Z)(),[K,J]=(0,l.useState)(),[Q,$]=(0,l.useState)(),[ee,ea]=(0,l.useState)(),[es,et]=(0,l.useState)(),[er,ei]=(0,l.useState)(!1),[el,en]=(0,l.useState)(""),eo=(0,l.useCallback)(e=>{H(),en(e)},[H,en]),[ec,ed]=(0,m._)(S.Pn.GROUP_BY,L.fI.SYSTEM_DATA_USE),[eu,e_]=(0,m._)(S.Pn.COLUMN_ORDER,w(ec)),[ex,ep]=(0,m._)(S.Pn.TABLE_GROUPING,G(ec)),eg=e=>{ed(e),ei(!0),H()},{data:em,isLoading:ef,isFetching:eh}=(0,y.tH)({pageIndex:V,pageSize:o,groupBy:ec,search:el,dataUses:K,dataSubjects:ee,dataCategories:Q}),[ev,{isLoading:ej,isSuccess:eS}]=(0,y.Eo)(),{data:ey,totalRows:eT}=(0,l.useMemo)(()=>{let e=em||N,a=e.items;return er&&ei(!1),F(e.pages),{totalRows:e.total,data:a}},[em]);(0,l.useEffect)(()=>{let e=G(ec);em&&ep(e)},[em]),(0,P.GH)();let eE=(0,g.C)(P.fN),eA=(0,l.useMemo)(()=>{var e;let a=(null==em?void 0:null===(e=em.items)||void 0===e?void 0:e.length)?Object.keys(em.items[0]):[],s=Object.values(r);return a.filter(e=>!s.includes(e)).filter(e=>e.startsWith("privacy_declaration_")||e.startsWith("system_")).map(e=>{let a=eE.find(a=>e.includes(p().snakeCase(a.name))),s=e.replace(/^(system_|privacy_declaration_)/,""),t=p().upperFirst(s.replaceAll("_"," "));return M.accessor(a=>a[e],{id:e,cell:e=>Array.isArray(e.getValue())?(0,i.jsx)(u.WP,{value:e.getValue(),ignoreZero:!0,...e}):(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:t,...e}),meta:{displayText:t,showHeaderMenu:(null==a?void 0:a.field_type)==="string[]"}})})},[em,eE]),eR=(0,l.useMemo)(()=>[M.accessor(e=>e.system_name,{enableGrouping:!0,id:"system_name",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"System",...e}),meta:{displayText:"System",onCellClick:e=>{et(e.fides_key)}}}),M.accessor(e=>e.data_uses,{id:"data_use",cell:e=>{let a=e.getValue();return(0,i.jsx)(u.WP,{suffix:"data uses",ignoreZero:!0,value:(0,x.isArray)(a)?(0,x.map)(a,z):z(a||""),badgeProps:{variant:"outline"},...e})},header:e=>(0,i.jsx)(u.Rr,{value:"Data use",...e}),meta:{displayText:"Data use",width:"auto"}}),M.accessor(e=>e.data_categories,{id:"data_categories",cell:e=>{let a=e.getValue();if(!a||0===a.length)return null;let s=(0,x.isArray)(a)?a.map(e=>({label:q(e),key:e})):[{label:q(a),key:a}];return(0,i.jsx)(v.mb,{values:s,cellProps:e,variant:"outline"})},header:e=>(0,i.jsx)(u.Rr,{value:"Data categories",...e}),meta:{displayText:"Data categories",showHeaderMenu:!0,showHeaderMenuWrapOption:!0,width:"auto"}}),M.accessor(e=>e.data_subjects,{id:"data_subjects",cell:e=>{let a=e.getValue();return(0,i.jsx)(u.WP,{suffix:"data subjects",ignoreZero:!0,value:(0,x.isArray)(a)?(0,x.map)(a,B):B(a||""),...e})},header:e=>(0,i.jsx)(u.Rr,{value:"Data subject",...e}),meta:{displayText:"Data subject",showHeaderMenu:!0}}),M.accessor(e=>e.legal_name,{id:"legal_name",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Legal name",...e}),meta:{displayText:"Legal name"}}),M.accessor(e=>e.dpo,{id:"dpo",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Data privacy officer",...e}),meta:{displayText:"Data privacy officer"}}),M.accessor(e=>e.legal_basis_for_processing,{id:"legal_basis_for_processing",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Legal basis for processing",...e}),meta:{displayText:"Legal basis for processing"}}),M.accessor(e=>e.administrating_department,{id:"administrating_department",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Administrating department",...e}),meta:{displayText:"Administrating department"}}),M.accessor(e=>e.cookie_max_age_seconds,{id:"cookie_max_age_seconds",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Cookie max age seconds",...e}),meta:{displayText:"Cookie max age seconds"}}),M.accessor(e=>e.privacy_policy,{id:"privacy_policy",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Privacy policy",...e}),meta:{displayText:"Privacy policy"}}),M.accessor(e=>e.legal_address,{id:"legal_address",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Legal address",...e}),meta:{displayText:"Legal address"}}),M.accessor(e=>e.cookie_refresh,{id:"cookie_refresh",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Cookie refresh",table:e.table,header:e.header,column:e.column}),meta:{displayText:"Cookie refresh"}}),M.accessor(e=>e.data_security_practices,{id:"data_security_practices",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Data security practices",...e}),meta:{displayText:"Data security practices"}}),M.accessor(e=>e.data_shared_with_third_parties,{id:"DATA_SHARED_WITH_THIRD_PARTIES",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Data shared with third parties",...e}),meta:{displayText:"Data shared with third parties"}}),M.accessor(e=>e.data_stewards,{id:"data_stewards",cell:e=>(0,i.jsx)(u.WP,{suffix:"data stewards",ignoreZero:!0,value:e.getValue(),...e}),header:e=>(0,i.jsx)(u.Rr,{value:"Data stewards",...e}),meta:{displayText:"Data stewards",showHeaderMenu:!0}}),M.accessor(e=>e.declaration_name,{id:"declaration_name",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Declaration name",...e}),meta:{displayText:"Declaration name"}}),M.accessor(e=>e.does_international_transfers,{id:"does_international_transfers",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Does international transfers",...e}),meta:{displayText:"Does international transfers"}}),M.accessor(e=>e.dpa_location,{id:"dpa_location",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"DPA Location",...e}),meta:{displayText:"DPA Location"}}),M.accessor(e=>e.egress,{id:"egress",cell:e=>(0,i.jsx)(u.WP,{suffix:"destinations",ignoreZero:!0,value:e.getValue(),...e}),header:e=>(0,i.jsx)(u.Rr,{value:"Destinations",...e}),meta:{displayText:"Destinations",showHeaderMenu:!0}}),M.accessor(e=>e.exempt_from_privacy_regulations,{id:"exempt_from_privacy_regulations",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Exempt from privacy regulations",...e}),meta:{displayText:"Exempt from privacy regulations"}}),M.accessor(e=>e.features,{id:"features",cell:e=>(0,i.jsx)(u.WP,{suffix:"features",ignoreZero:!0,value:e.getValue(),...e}),header:e=>(0,i.jsx)(u.Rr,{value:"Features",...e}),meta:{displayText:"Features",showHeaderMenu:!0}}),M.accessor(e=>e.fides_key,{id:"fides_key",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Fides key",...e}),meta:{displayText:"Fides key"}}),M.accessor(e=>e.flexible_legal_basis_for_processing,{id:"flexible_legal_basis_for_processing",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Flexible legal basis for processing",...e}),meta:{displayText:"Flexible legal basis for processing"}}),M.accessor(e=>e.impact_assessment_location,{id:"impact_assessment_location",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Impact assessment location",...e}),meta:{displayText:"Impact assessment location"}}),M.accessor(e=>e.ingress,{id:"ingress",cell:e=>(0,i.jsx)(u.WP,{suffix:"sources",ignoreZero:!0,value:e.getValue(),...e}),header:e=>(0,i.jsx)(u.Rr,{value:"Sources",...e}),meta:{displayText:"Sources",showHeaderMenu:!0}}),M.accessor(e=>e.joint_controller_info,{id:"joint_controller_info",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Joint controller info",...e}),meta:{displayText:"Joint controller info"}}),M.accessor(e=>e.legal_basis_for_profiling,{id:"legal_basis_for_profiling",cell:e=>(0,i.jsx)(u.WP,{suffix:"profiles",ignoreZero:!0,value:e.getValue(),...e}),header:e=>(0,i.jsx)(u.Rr,{value:"Legal basis for profiling",...e}),meta:{displayText:"Legal basis for profiling",showHeaderMenu:!0}}),M.accessor(e=>e.legal_basis_for_transfers,{id:"legal_basis_for_transfers",cell:e=>(0,i.jsx)(u.WP,{suffix:"transfers",ignoreZero:!0,value:e.getValue(),...e}),header:e=>(0,i.jsx)(u.Rr,{value:"Legal basis for transfers",...e}),meta:{displayText:"Legal basis for transfers",showHeaderMenu:!0}}),M.accessor(e=>e.legitimate_interest_disclosure_url,{id:"legitimate_interest_disclosure_url",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Legitimate interest disclosure url",...e}),meta:{displayText:"Legitimate interest disclosure url"}}),M.accessor(e=>e.link_to_processor_contract,{id:"link_to_processor_contract",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Link to processor contract",...e}),meta:{displayText:"Link to processor contract"}}),M.accessor(e=>e.processes_personal_data,{id:"processes_personal_data",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Processes personal data",...e}),meta:{displayText:"Processes personal data"}}),M.accessor(e=>e.reason_for_exemption,{id:"reason_for_exemption",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Reason for exemption",...e}),meta:{displayText:"Reason for exemption"}}),M.accessor(e=>e.requires_data_protection_assessments,{id:"requires_data_protection_assessments",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Requires data protection assessments",...e}),meta:{displayText:"Requires data protection assessments"}}),M.accessor(e=>e.responsibility,{id:"responsibility",cell:e=>(0,i.jsx)(u.WP,{suffix:"responsibilities",ignoreZero:!0,value:e.getValue(),...e}),header:e=>(0,i.jsx)(u.Rr,{value:"Responsibility",...e}),meta:{displayText:"Responsibility",showHeaderMenu:!0}}),M.accessor(e=>e.retention_period,{id:"retention_period",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Retention period",...e}),meta:{displayText:"Retention period"}}),M.accessor(e=>e.shared_categories,{id:"shared_categories",cell:e=>(0,i.jsx)(u.WP,{suffix:"shared categories",ignoreZero:!0,value:e.getValue(),...e}),header:e=>(0,i.jsx)(u.Rr,{value:"Shared categories",...e}),meta:{displayText:"Shared categories",showHeaderMenu:!0}}),M.accessor(e=>e.special_category_legal_basis,{id:"special_category_legal_basis",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Special category legal basis",...e}),meta:{displayText:"Special category legal basis"}}),M.accessor(e=>e.system_dependencies,{id:"system_dependencies",cell:e=>(0,i.jsx)(u.WP,{suffix:"dependencies",ignoreZero:!0,value:e.getValue(),...e}),header:e=>(0,i.jsx)(u.Rr,{value:"System dependencies",...e}),meta:{displayText:"System dependencies",showHeaderMenu:!0}}),M.accessor(e=>e.third_country_safeguards,{id:"third_country_safeguards",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Third country safeguards",...e}),meta:{displayText:"Third country safeguards"}}),M.accessor(e=>e.third_parties,{id:"third_parties",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Third parties",...e}),meta:{displayText:"Third parties"}}),M.accessor(e=>e.system_undeclared_data_categories,{id:"system_undeclared_data_categories",cell:e=>{let a=e.getValue();return(0,i.jsx)(u.WP,{ignoreZero:!0,suffix:"system undeclared data categories",value:(0,x.isArray)(a)?(0,x.map)(a,q):q(a||""),...e})},header:e=>(0,i.jsx)(u.Rr,{value:"System undeclared data categories",...e}),meta:{displayText:"System undeclared data categories",showHeaderMenu:!0}}),M.accessor(e=>e.data_use_undeclared_data_categories,{id:"data_use_undeclared_data_categories",cell:e=>{let a=e.getValue();return(0,i.jsx)(u.WP,{ignoreZero:!0,suffix:"data use undeclared data categories",value:(0,x.isArray)(a)?(0,x.map)(a,q):q(a||""),...e})},header:e=>(0,i.jsx)(u.Rr,{value:"Data use undeclared data categories",...e}),meta:{displayText:"Data use undeclared data categories",showHeaderMenu:!0}}),M.accessor(e=>e.cookies,{id:"cookies",cell:e=>(0,i.jsx)(u.WP,{ignoreZero:!0,suffix:"cookies",value:e.getValue(),...e}),header:e=>(0,i.jsx)(u.Rr,{value:"Cookies",...e}),meta:{displayText:"Cookies",showHeaderMenu:!0}}),M.accessor(e=>e.uses_cookies,{id:"uses_cookies",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Uses cookies",...e}),meta:{displayText:"Uses cookies"}}),M.accessor(e=>e.uses_non_cookie_access,{id:"uses_non_cookie_access",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Uses non cookie access",...e}),meta:{displayText:"Uses non cookie access"}}),M.accessor(e=>e.uses_profiling,{id:"uses_profiling",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(u.Rr,{value:"Uses profiling",...e}),meta:{displayText:"Uses profiling"}}),...eA],[eA,z,B,q]),{isOpen:eb,onOpen:eC,onClose:eD}=(0,_.qY0)(),{isOpen:eI,onOpen:ek,onClose:eO}=(0,_.qY0)(),eP=(0,d.b7)({getCoreRowModel:(0,c.sC)(),getGroupedRowModel:(0,c.qe)(),getExpandedRowModel:(0,c.rV)(),columns:eR,manualPagination:!0,data:ey,initialState:{columnVisibility:{system_undeclared_data_categories:!1,data_use_undeclared_data_categories:!1},...s},state:{expanded:!0,grouping:ex,columnOrder:eu},columnResizeMode:"onChange",enableColumnResizing:!0,onStateChange:e=>{a(e instanceof Function?e(eP.getState()):e)}}),eL=()=>{switch(ec){case L.fI.SYSTEM_DATA_USE:return"system";case L.fI.DATA_USE_SYSTEM:return"data use";default:return"system"}};return ef||t||X?(0,i.jsx)(u.I4,{rowHeight:36,numRows:15}):(0,i.jsxs)(_.kCb,{flex:1,direction:"column",overflow:"auto",children:[(0,i.jsx)(O,{isOpen:Z,onClose:Y,onFilterChange:e=>{J((0,j.du)(e.dataUses,"data_uses")),$((0,j.du)(e.dataCategories,"data_categories")),ea((0,j.du)(e.dataSubjects,"data_subjects"))}}),(0,i.jsx)(u.F1,{isOpen:eb,onClose:eD,headerText:"Data map settings",prefixColumns:U(ec),tableInstance:eP,onColumnOrderChange:e=>{e_(e)}}),(0,i.jsx)(A,{isOpen:eI,onClose:eO,onConfirm:e=>{ev({pageIndex:V,pageSize:o,groupBy:ec,search:el,dataUses:K,dataSubjects:ee,dataCategories:Q,format:e}).then(()=>{eS&&eO()})},isLoading:ej}),(0,i.jsxs)(u.Q$,{children:[(0,i.jsx)(u.HO,{globalFilter:el,setGlobalFilter:eo,placeholder:"System name, Fides key, or ID"}),(0,i.jsxs)(_.kCb,{alignItems:"center",gap:2,children:[(0,i.jsxs)(_.v2r,{children:[(0,i.jsxs)(_.j2t,{as:_.zxk,size:"xs",variant:"outline",rightIcon:(0,i.jsx)(_.v4q,{}),spinnerPlacement:"end",isLoading:er,loadingText:"Group by ".concat(eL()),"data-testid":"group-by-menu",children:["Group by ",eL()]}),(0,i.jsxs)(_.qyq,{zIndex:11,"data-testid":"group-by-menu-list",children:[(0,i.jsx)(_.iiZ,{onClick:()=>{eg(L.fI.SYSTEM_DATA_USE)},isChecked:L.fI.SYSTEM_DATA_USE===ec,value:L.fI.SYSTEM_DATA_USE,"data-testid":"group-by-system-data-use",children:"System"}),(0,i.jsx)(_.iiZ,{onClick:()=>{eg(L.fI.DATA_USE_SYSTEM)},isChecked:L.fI.DATA_USE_SYSTEM===ec,value:L.fI.DATA_USE_SYSTEM,"data-testid":"group-by-data-use-system",children:"Data use"})]})]}),(0,i.jsx)(_.zxk,{"data-testid":"edit-columns-btn",size:"xs",variant:"outline",onClick:eC,children:"Edit columns"}),(0,i.jsx)(_.zxk,{"data-testid":"filter-multiple-systems-btn",size:"xs",variant:"outline",onClick:W,children:"Filter"}),(0,i.jsx)(_.hU,{"aria-label":"Export report","data-testid":"export-btn",size:"xs",variant:"outline",onClick:ek,icon:(0,i.jsx)(h.nM,{})})]})]}),(0,i.jsx)(u.ZK,{tableInstance:eP,columnExpandStorageKey:S.Pn.COLUMN_EXPANSION_STATE,columnWrapStorageKey:S.Pn.WRAPPING_COLUMNS}),(0,i.jsx)(u.s8,{totalRows:eT||0,pageSizes:n,setPageSize:E,onPreviousPageClick:R,isPreviousPageDisabled:b||eh,onNextPageClick:C,isNextPageDisabled:D||eh,startRange:I,endRange:k}),(0,i.jsx)(T.Z,{selectedSystemId:es,resetSelectedSystemId:()=>et(void 0)})]})};var F=()=>(0,i.jsxs)(n.Z,{title:"Datamap Report",mainProps:{padding:"0 40px 24px"},children:[(0,i.jsx)(o.Z,{"data-testid":"datamap-report-heading",breadcrumbs:[{title:"Data map report"}]}),(0,i.jsx)(V,{})]})}},function(e){e.O(0,[8033,6451,4554,2866,9278,2850,8454,2017,4321,2888,9774,179],function(){return e(e.s=86548)}),_N_E=e.O()}]);