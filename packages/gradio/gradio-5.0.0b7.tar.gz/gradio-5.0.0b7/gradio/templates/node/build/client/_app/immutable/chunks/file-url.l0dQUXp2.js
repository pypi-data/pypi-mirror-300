import{a2 as l}from"./scheduler.xQsDa6L3.js";const a="WORKER_PROXY_CONTEXT_KEY";function u(){return l(a)}const f="lite.local";function c(t){return t.host===window.location.host||t.host==="localhost:7860"||t.host==="127.0.0.1:7860"||t.host===f}function h(t,n){const e=n.toLowerCase();for(const[r,o]of Object.entries(t))if(r.toLowerCase()===e)return o}function w(t){const n=typeof window<"u";if(t==null||!n)return!1;const e=new URL(t,window.location.href);return!(!c(e)||e.protocol!=="http:"&&e.protocol!=="https:")}let s;async function b(t){const n=typeof window<"u";if(t==null||!n||!w(t))return t;if(s==null)try{s=u()}catch{return t}if(s==null)return t;const r=new URL(t,window.location.href).pathname;return s.httpRequest({method:"GET",path:r,headers:{},query_string:""}).then(o=>{if(o.status!==200)throw new Error(`Failed to get file ${r} from the Wasm worker.`);const i=new Blob([o.body],{type:h(o.headers,"content-type")});return URL.createObjectURL(i)})}export{h as a,u as g,b as r,w as s};
