import{s as Ke,a as te,e as J,g as ne,c as W,b as I,f as y,p as m,q as X,i as K,F as _e,G as gt,R as Ge,y as Vl,Z as cl,a1 as Pl,M as sl,r as he,t as Ie,d as Oe,j as Pe,n as Ze,X as bt,z as Me,Y as mt,l as il,H as dl,E as $,h as H,I as gl,al as Cl,u as al,m as rl,o as ol,J as ql,W as Re,am as Fl,L as Le,v as Se,w as Ne,N as wt,B as kt}from"./scheduler.xQsDa6L3.js";import{S as Xe,i as Qe,g as Ee,b as Z,e as Ae,t as F,c as ge,a as be,m as me,d as we,f as ze}from"./index.lnKugwF0.js";import{f as ye,r as Ue,v as je,l as vt,a as Ul,B as pt,d as yt,b as Et,e as At}from"./2.BTUnExtG.js";import{d as pe}from"./index.CnqicUFC.js";import{U as Tt}from"./Upload.BQOjjkZ0.js";/* empty css                                                   */import"./Index.svelte_svelte_type_style_lang.DUqmoBr9.js";import{M as Dt}from"./Example.svelte_svelte_type_style_lang.CJeFoBzu.js";import{d as Bt}from"./dsv.DB8NKgIY.js";import{default as mn}from"./Example.BeAZwqkU.js";function bl(n){let e,l,t;return{c(){e=J("input"),this.h()},l(s){e=W(s,"INPUT",{role:!0,tabindex:!0,class:!0}),this.h()},h(){m(e,"role","textbox"),m(e,"tabindex","-1"),m(e,"class","svelte-z9gpua"),X(e,"header",n[5])},m(s,o){K(s,e,o),n[19](e),cl(e,n[11]),l||(t=[_e(e,"input",n[20]),_e(e,"blur",n[13]),Pl(n[12].call(null,e)),_e(e,"keydown",n[18])],l=!0)},p(s,o){o&2048&&e.value!==s[11]&&cl(e,s[11]),o&32&&X(e,"header",s[5])},d(s){s&&y(e),n[19](null),l=!1,Ge(t)}}}function Rt(n){let e=(n[9]?n[0]:n[3]||n[0])+"",l;return{c(){l=Ie(e)},l(t){l=Oe(t,e)},m(t,s){K(t,l,s)},p(t,s){s&521&&e!==(e=(t[9]?t[0]:t[3]||t[0])+"")&&Pe(l,e)},i:Ze,o:Ze,d(t){t&&y(l)}}}function Lt(n){let e,l;return e=new Dt({props:{message:n[0].toLocaleString(),latex_delimiters:n[7],line_breaks:n[8],chatbot:!1,root:n[10]}}),{c(){ge(e.$$.fragment)},l(t){be(e.$$.fragment,t)},m(t,s){me(e,t,s),l=!0},p(t,s){const o={};s&1&&(o.message=t[0].toLocaleString()),s&128&&(o.latex_delimiters=t[7]),s&256&&(o.line_breaks=t[8]),s&1024&&(o.root=t[10]),e.$set(o)},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){Z(e.$$.fragment,t),l=!1},d(t){we(e,t)}}}function zt(n){let e,l;return{c(){e=new bt(!1),l=Me(),this.h()},l(t){e=mt(t,!1),l=Me(),this.h()},h(){e.a=l},m(t,s){e.m(n[0],t,s),K(t,l,s)},p(t,s){s&1&&e.p(t[0])},i:Ze,o:Ze,d(t){t&&(y(l),e.d())}}}function Mt(n){let e,l,t,s,o,f,i,a=n[2]&&bl(n);const _=[zt,Lt,Rt],u=[];function d(b,w){return b[6]==="html"?0:b[6]==="markdown"?1:2}return t=d(n),s=u[t]=_[t](n),{c(){a&&a.c(),e=te(),l=J("span"),s.c(),this.h()},l(b){a&&a.l(b),e=ne(b),l=W(b,"SPAN",{tabindex:!0,role:!0,style:!0,class:!0});var w=I(l);s.l(w),w.forEach(y),this.h()},h(){m(l,"tabindex","-1"),m(l,"role","button"),m(l,"style",n[4]),m(l,"class","svelte-z9gpua"),X(l,"edit",n[2])},m(b,w){a&&a.m(b,w),K(b,e,w),K(b,l,w),u[t].m(l,null),o=!0,f||(i=[_e(l,"dblclick",n[16]),_e(l,"focus",gt(n[17]))],f=!0)},p(b,[w]){b[2]?a?a.p(b,w):(a=bl(b),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null);let T=t;t=d(b),t===T?u[t].p(b,w):(Ee(),Z(u[T],1,1,()=>{u[T]=null}),Ae(),s=u[t],s?s.p(b,w):(s=u[t]=_[t](b),s.c()),F(s,1),s.m(l,null)),(!o||w&16)&&m(l,"style",b[4]),(!o||w&4)&&X(l,"edit",b[2])},i(b){o||(F(s),o=!0)},o(b){Z(s),o=!1},d(b){b&&(y(e),y(l)),a&&a.d(b),u[t].d(),f=!1,Ge(i)}}}function St(n,e,l){let t,{edit:s}=e,{value:o=""}=e,{display_value:f=null}=e,{styling:i=""}=e,{header:a=!1}=e,{datatype:_="str"}=e,{latex_delimiters:u}=e,{clear_on_focus:d=!1}=e,{select_on_focus:b=!1}=e,{line_breaks:w=!0}=e,{editable:T=!0}=e,{root:R}=e;const M=Vl();let{el:O}=e;function V(E){return d&&l(11,t=""),b&&E.select(),E.focus(),{}}function D({currentTarget:E}){l(0,o=E.value),M("blur")}function B(E){sl.call(this,n,E)}function S(E){sl.call(this,n,E)}function h(E){sl.call(this,n,E)}function p(E){he[E?"unshift":"push"](()=>{O=E,l(1,O)})}function L(){t=this.value,l(11,t),l(0,o)}return n.$$set=E=>{"edit"in E&&l(2,s=E.edit),"value"in E&&l(0,o=E.value),"display_value"in E&&l(3,f=E.display_value),"styling"in E&&l(4,i=E.styling),"header"in E&&l(5,a=E.header),"datatype"in E&&l(6,_=E.datatype),"latex_delimiters"in E&&l(7,u=E.latex_delimiters),"clear_on_focus"in E&&l(14,d=E.clear_on_focus),"select_on_focus"in E&&l(15,b=E.select_on_focus),"line_breaks"in E&&l(8,w=E.line_breaks),"editable"in E&&l(9,T=E.editable),"root"in E&&l(10,R=E.root),"el"in E&&l(1,O=E.el)},n.$$.update=()=>{n.$$.dirty&1&&l(11,t=o)},[o,O,s,f,i,a,_,u,w,T,R,t,V,D,d,b,B,S,h,p,L]}class xe extends Xe{constructor(e){super(),Qe(this,e,St,Mt,Ke,{edit:2,value:0,display_value:3,styling:4,header:5,datatype:6,latex_delimiters:7,clear_on_focus:14,select_on_focus:15,line_breaks:8,editable:9,root:10,el:1})}}const Nt=n=>({}),ml=n=>({});function wl(n,e,l){const t=n.slice();return t[36]=e[l],t}const Ht=n=>({item:n[0]&2,index:n[0]&2}),kl=n=>({item:n[36].data,index:n[36].index}),It=n=>({}),vl=n=>({});function pl(n){let e=[],l=new Map,t,s,o=ye(n[1]);const f=i=>i[36].data[0].id;for(let i=0;i<o.length;i+=1){let a=wl(n,o,i),_=f(a);l.set(_,e[i]=yl(_,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=Me()},l(i){for(let a=0;a<e.length;a+=1)e[a].l(i);t=Me()},m(i,a){for(let _=0;_<e.length;_+=1)e[_]&&e[_].m(i,a);K(i,t,a),s=!0},p(i,a){a[0]&1048578&&(o=ye(i[1]),Ee(),e=Ue(e,a,f,1,i,o,l,t.parentNode,je,yl,t,wl),Ae())},i(i){if(!s){for(let a=0;a<o.length;a+=1)F(e[a]);s=!0}},o(i){for(let a=0;a<e.length;a+=1)Z(e[a]);s=!1},d(i){i&&y(t);for(let a=0;a<e.length;a+=1)e[a].d(i)}}}function Ot(n){let e;return{c(){e=Ie(`Missing Table Row
					`)},l(l){e=Oe(l,`Missing Table Row
					`)},m(l,t){K(l,e,t)},d(l){l&&y(e)}}}function yl(n,e){let l,t;const s=e[21].tbody,o=il(s,e,e[20],kl),f=o||Ot();return{key:n,first:null,c(){l=Me(),f&&f.c(),this.h()},l(i){l=Me(),f&&f.l(i),this.h()},h(){this.first=l},m(i,a){K(i,l,a),f&&f.m(i,a),t=!0},p(i,a){e=i,o&&o.p&&(!t||a[0]&1048578)&&al(o,s,e,e[20],t?ol(s,e[20],a,Ht):rl(e[20]),kl)},i(i){t||(F(f,i),t=!0)},o(i){Z(f,i),t=!1},d(i){i&&y(l),f&&f.d(i)}}}function Vt(n){let e,l,t,s,o,f,i,a,_,u,d,b,w;const T=n[21].thead,R=il(T,n,n[20],vl);let M=n[1].length&&n[1][0].data.length&&pl(n);const O=n[21].tfoot,V=il(O,n,n[20],ml);return{c(){e=J("svelte-virtual-table-viewport"),l=J("table"),t=J("thead"),R&&R.c(),o=te(),f=J("tbody"),M&&M.c(),i=te(),a=J("tfoot"),V&&V.c(),this.h()},l(D){e=W(D,"SVELTE-VIRTUAL-TABLE-VIEWPORT",{});var B=I(e);l=W(B,"TABLE",{class:!0,style:!0});var S=I(l);t=W(S,"THEAD",{class:!0});var h=I(t);R&&R.l(h),h.forEach(y),o=ne(S),f=W(S,"TBODY",{class:!0});var p=I(f);M&&M.l(p),p.forEach(y),i=ne(S),a=W(S,"TFOOT",{class:!0});var L=I(a);V&&V.l(L),L.forEach(y),S.forEach(y),B.forEach(y),this.h()},h(){m(t,"class","thead svelte-1xyl3gk"),dl(()=>n[22].call(t)),m(f,"class","tbody svelte-1xyl3gk"),m(a,"class","tfoot svelte-1xyl3gk"),dl(()=>n[24].call(a)),m(l,"class","table svelte-1xyl3gk"),$(l,"height",Pt),$(l,"--bw-svt-p-top",n[7]+"px"),$(l,"--bw-svt-p-bottom",n[3]+"px"),$(l,"--bw-svt-head-height",n[5]+"px"),$(l,"--bw-svt-foot-height",n[6]+"px"),$(l,"--bw-svt-avg-row-height",n[0]+"px")},m(D,B){K(D,e,B),H(e,l),H(l,t),R&&R.m(t,null),s=gl(t,n[22].bind(t)),H(l,o),H(l,f),M&&M.m(f,null),n[23](f),H(l,i),H(l,a),V&&V.m(a,null),_=gl(a,n[24].bind(a)),n[25](l),u=Cl.observe(l,n[26].bind(l)),d=!0,b||(w=_e(l,"scroll",n[9]),b=!0)},p(D,B){R&&R.p&&(!d||B[0]&1048576)&&al(R,T,D,D[20],d?ol(T,D[20],B,It):rl(D[20]),vl),D[1].length&&D[1][0].data.length?M?(M.p(D,B),B[0]&2&&F(M,1)):(M=pl(D),M.c(),F(M,1),M.m(f,null)):M&&(Ee(),Z(M,1,1,()=>{M=null}),Ae()),V&&V.p&&(!d||B[0]&1048576)&&al(V,O,D,D[20],d?ol(O,D[20],B,Nt):rl(D[20]),ml),(!d||B[0]&128)&&$(l,"--bw-svt-p-top",D[7]+"px"),(!d||B[0]&8)&&$(l,"--bw-svt-p-bottom",D[3]+"px"),(!d||B[0]&32)&&$(l,"--bw-svt-head-height",D[5]+"px"),(!d||B[0]&64)&&$(l,"--bw-svt-foot-height",D[6]+"px"),(!d||B[0]&1)&&$(l,"--bw-svt-avg-row-height",D[0]+"px")},i(D){d||(F(R,D),F(M),F(V,D),d=!0)},o(D){Z(R,D),Z(M),Z(V,D),d=!1},d(D){D&&y(e),R&&R.d(D),s(),M&&M.d(),n[23](null),V&&V.d(D),_(),n[25](null),u(),b=!1,w()}}}let Pt="100%";function Ct(n,e){if(!n)return 0;const l=getComputedStyle(n);return parseInt(l.getPropertyValue(e))}function qt(n,e,l){let t,{$$slots:s={},$$scope:o}=e,{items:f=[]}=e,{max_height:i}=e,{actual_height:a}=e,{table_scrollbar_width:_}=e,{start:u=0}=e,{end:d=20}=e,{selected:b}=e,w=30,T=0,R,M=0,O=0,V=[],D,B,S=0,h,p=200,L=[],E;const se=typeof window<"u",U=se?window.requestAnimationFrame:A=>A();let ee=0;async function x(A){if(p===0)return;const{scrollTop:g}=h;l(13,_=h.offsetWidth-h.clientWidth),ee=S-(g-M);let q=u;for(;ee<i&&q<A.length;){let C=B[q-u];C||(l(11,d=q+1),await Re(),C=B[q-u]);let le=C==null?void 0:C.getBoundingClientRect().height;le||(le=w);const Ve=V[q]=le;ee+=Ve,q+=1}l(11,d=q);const re=A.length-d,ie=h.offsetHeight-h.clientHeight;ie>0&&(ee+=ie);let oe=V.filter(C=>typeof C=="number");l(0,w=oe.reduce((C,le)=>C+le,0)/oe.length),l(3,T=re*w),V.length=A.length,await Re(),i?ee<i?l(12,a=ee+2):l(12,a=i):l(12,a=ee+1),await Re()}async function de(A){U(async()=>{if(typeof A!="number")return;const g=typeof A!="number"?!1:Q(A);g!==!0&&(g==="back"&&await v(A,{behavior:"instant"}),g==="forwards"&&await v(A,{behavior:"instant"},!0))})}function Q(A){const g=B&&B[A-u];if(!g&&A<u)return"back";if(!g&&A>=d-1)return"forwards";const{top:q}=h.getBoundingClientRect(),{top:re,bottom:ie}=g.getBoundingClientRect();return re-q<37?"back":ie-q>p?"forwards":!0}async function k(A){const g=h.scrollTop;B=R.children;const q=t.length<u,re=Ct(B[1],"border-top-width"),ie=0;q&&await v(t.length-1,{behavior:"auto"});let oe=0;for(let Y=0;Y<B.length;Y+=1)V[u+Y]=B[Y].getBoundingClientRect().height;let C=0,le=M+re/2,Ve=[];for(;C<t.length;){const Y=V[C]||w;if(Ve[C]=Y,le+Y+ie>g){oe=C,l(7,S=le-(M+re/2));break}le+=Y,C+=1}for(oe=Math.max(0,oe);C<t.length;){const Y=V[C]||w;if(le+=Y,C+=1,le>g+p)break}l(10,u=oe),l(11,d=C);const ve=t.length-d;d===0&&l(11,d=10),l(0,w=(le-M)/d);let Je=ve*w;for(;C<t.length;)C+=1,V[C]=w;l(3,T=Je),isFinite(T)||l(3,T=2e5)}async function v(A,g,q=!1){await Re();const re=w;let ie=A*re;q&&(ie=ie-p+re+M);const oe=h.offsetHeight-h.clientHeight;oe>0&&(ie+=oe);const C={top:ie,behavior:"smooth",...g};h.scrollTo(C)}ql(()=>{B=R.children,l(18,D=!0),x(f)});function j(){M=this.offsetHeight,l(5,M)}function z(A){he[A?"unshift":"push"](()=>{R=A,l(4,R)})}function ae(){O=this.offsetHeight,l(6,O)}function ke(A){he[A?"unshift":"push"](()=>{h=A,l(8,h)})}function Te(){var A;E=(A=Fl.entries.get(this))==null?void 0:A.contentRect,l(2,E)}return n.$$set=A=>{"items"in A&&l(14,f=A.items),"max_height"in A&&l(15,i=A.max_height),"actual_height"in A&&l(12,a=A.actual_height),"table_scrollbar_width"in A&&l(13,_=A.table_scrollbar_width),"start"in A&&l(10,u=A.start),"end"in A&&l(11,d=A.end),"selected"in A&&l(16,b=A.selected),"$$scope"in A&&l(20,o=A.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&4&&(p=(E==null?void 0:E.height)||200),n.$$.dirty[0]&16384&&l(19,t=f),n.$$.dirty[0]&786432&&D&&U(()=>x(t)),n.$$.dirty[0]&65536&&de(b),n.$$.dirty[0]&560129&&l(1,L=se?t.slice(u,d).map((A,g)=>({index:g+u,data:A})):t.slice(0,i/t.length*w+1).map((A,g)=>({index:g+u,data:A}))),n.$$.dirty[0]&3&&l(12,a=L.length*w+10)},[w,L,E,T,R,M,O,S,h,k,u,d,a,_,f,i,b,v,D,t,o,s,j,z,ae,ke,Te]}class Ft extends Xe{constructor(e){super(),Qe(this,e,qt,Vt,Ke,{items:14,max_height:15,actual_height:12,table_scrollbar_width:13,start:10,end:11,selected:16,scroll_to_index:17},null,[-1,-1])}get scroll_to_index(){return this.$$.ctx[17]}}function El(n,e,l){const t=n.slice();return t[89]=e[l].value,t[90]=e[l].id,t[93]=e,t[94]=l,t}function Al(n,e,l){const t=n.slice();return t[89]=e[l].value,t[90]=e[l].id,t[91]=e,t[92]=l,t}function Tl(n,e,l){const t=n.slice();return t[89]=e[l].value,t[90]=e[l].id,t[95]=e,t[92]=l,t}function Dl(n,e,l){const t=n.slice();return t[89]=e[l].value,t[90]=e[l].id,t[94]=l,t}function Bl(n){let e,l;return{c(){e=J("p"),l=Ie(n[1]),this.h()},l(t){e=W(t,"P",{class:!0});var s=I(e);l=Oe(s,n[1]),s.forEach(y),this.h()},h(){m(e,"class","svelte-12bw0e2")},m(t,s){K(t,e,s),H(e,l)},p(t,s){s[0]&2&&Pe(l,t[1])},d(t){t&&y(e)}}}function Rl(n){let e,l;return{c(){e=J("caption"),l=Ie(n[1]),this.h()},l(t){e=W(t,"CAPTION",{class:!0});var s=I(e);l=Oe(s,n[1]),s.forEach(y),this.h()},h(){m(e,"class","sr-only")},m(t,s){K(t,e,s),H(e,l)},p(t,s){s[0]&2&&Pe(l,t[1])},d(t){t&&y(e)}}}function Ll(n,e){let l,t,s,o,f,i,a,_,u,d,b;return s=new xe({props:{value:e[89],latex_delimiters:e[5],line_breaks:e[11],header:!0,edit:!1,el:null,root:e[8]}}),{key:n,first:null,c(){l=J("th"),t=J("div"),ge(s.$$.fragment),o=te(),f=J("div"),i=Se("svg"),a=Se("path"),u=te(),this.h()},l(w){l=W(w,"TH",{"aria-sort":!0,class:!0});var T=I(l);t=W(T,"DIV",{class:!0});var R=I(t);be(s.$$.fragment,R),o=ne(R),f=W(R,"DIV",{class:!0});var M=I(f);i=Ne(M,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var O=I(i);a=Ne(O,"path",{d:!0}),I(a).forEach(y),O.forEach(y),M.forEach(y),R.forEach(y),u=ne(T),T.forEach(y),this.h()},h(){m(a,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),m(i,"width","1em"),m(i,"height","1em"),m(i,"viewBox","0 0 9 7"),m(i,"fill","none"),m(i,"xmlns","http://www.w3.org/2000/svg"),m(i,"class","svelte-12bw0e2"),m(f,"class",_="sort-button "+e[19]+" svelte-12bw0e2"),X(f,"sorted",e[20]===e[94]),X(f,"des",e[20]===e[94]&&e[19]==="des"),m(t,"class","cell-wrap svelte-12bw0e2"),m(l,"aria-sort",d=e[37](e[89],e[20],e[19])),m(l,"class","svelte-12bw0e2"),X(l,"editing",e[28]===e[94]),$(l,"width",e[12].length?e[12][e[94]]:void 0),this.first=l},m(w,T){K(w,l,T),H(l,t),me(s,t,null),H(t,o),H(t,f),H(f,i),H(i,a),H(l,u),b=!0},p(w,T){e=w;const R={};T[0]&67108864&&(R.value=e[89]),T[0]&32&&(R.latex_delimiters=e[5]),T[0]&2048&&(R.line_breaks=e[11]),T[0]&256&&(R.root=e[8]),s.$set(R),(!b||T[0]&524288&&_!==(_="sort-button "+e[19]+" svelte-12bw0e2"))&&m(f,"class",_),(!b||T[0]&68681728)&&X(f,"sorted",e[20]===e[94]),(!b||T[0]&68681728)&&X(f,"des",e[20]===e[94]&&e[19]==="des"),(!b||T[0]&68681728&&d!==(d=e[37](e[89],e[20],e[19])))&&m(l,"aria-sort",d),(!b||T[0]&335544320)&&X(l,"editing",e[28]===e[94]),T[0]&67112960&&$(l,"width",e[12].length?e[12][e[94]]:void 0)},i(w){b||(F(s.$$.fragment,w),b=!0)},o(w){Z(s.$$.fragment,w),b=!1},d(w){w&&y(l),we(s)}}}function zl(n,e){let l,t,s,o,f=e[92],i;s=new xe({props:{value:e[89],latex_delimiters:e[5],line_breaks:e[11],datatype:Array.isArray(e[0])?e[0][e[92]]:e[0],edit:!1,el:null,root:e[8]}});const a=()=>e[54](l,f),_=()=>e[54](null,f);return{key:n,first:null,c(){l=J("td"),t=J("div"),ge(s.$$.fragment),o=te(),this.h()},l(u){l=W(u,"TD",{tabindex:!0,class:!0});var d=I(l);t=W(d,"DIV",{class:!0});var b=I(t);be(s.$$.fragment,b),b.forEach(y),o=ne(d),d.forEach(y),this.h()},h(){m(t,"class","cell-wrap svelte-12bw0e2"),m(l,"tabindex","-1"),m(l,"class","svelte-12bw0e2"),this.first=l},m(u,d){K(u,l,d),H(l,t),me(s,t,null),H(l,o),a(),i=!0},p(u,d){e=u;const b={};d[1]&32&&(b.value=e[89]),d[0]&32&&(b.latex_delimiters=e[5]),d[0]&2048&&(b.line_breaks=e[11]),d[0]&1|d[1]&32&&(b.datatype=Array.isArray(e[0])?e[0][e[92]]:e[0]),d[0]&256&&(b.root=e[8]),s.$set(b),f!==e[92]&&(_(),f=e[92],a())},i(u){i||(F(s.$$.fragment,u),i=!0)},o(u){Z(s.$$.fragment,u),i=!1},d(u){u&&y(l),we(s),_()}}}function Ml(n){let e,l;return{c(){e=J("caption"),l=Ie(n[1]),this.h()},l(t){e=W(t,"CAPTION",{class:!0});var s=I(e);l=Oe(s,n[1]),s.forEach(y),this.h()},h(){m(e,"class","sr-only")},m(t,s){K(t,e,s),H(e,l)},p(t,s){s[0]&2&&Pe(l,t[1])},d(t){t&&y(e)}}}function Ut(n){let e,l=n[1]&&n[1].length!==0&&Ml(n);return{c(){l&&l.c(),e=Me()},l(t){l&&l.l(t),e=Me()},m(t,s){l&&l.m(t,s),K(t,e,s)},p(t,s){t[1]&&t[1].length!==0?l?l.p(t,s):(l=Ml(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){t&&y(e),l&&l.d(t)}}}function Sl(n,e){let l,t,s,o,f,i,a,_,u,d,b,w,T,R,M;function O(h){e[63](h,e[94])}function V(h){e[64](h,e[90])}function D(){return e[65](e[94])}let B={latex_delimiters:e[5],line_breaks:e[11],edit:e[28]===e[94],select_on_focus:e[29],header:!0,root:e[8]};e[26][e[94]].value!==void 0&&(B.value=e[26][e[94]].value),e[25][e[90]].input!==void 0&&(B.el=e[25][e[90]].input),s=new xe({props:B}),he.push(()=>ze(s,"value",O)),he.push(()=>ze(s,"el",V)),s.$on("keydown",e[43]),s.$on("dblclick",D);function S(){return e[66](e[94])}return{key:n,first:null,c(){l=J("th"),t=J("div"),ge(s.$$.fragment),i=te(),a=J("div"),_=Se("svg"),u=Se("path"),b=te(),this.h()},l(h){l=W(h,"TH",{"aria-sort":!0,style:!0,class:!0});var p=I(l);t=W(p,"DIV",{class:!0});var L=I(t);be(s.$$.fragment,L),i=ne(L),a=W(L,"DIV",{class:!0});var E=I(a);_=Ne(E,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var se=I(_);u=Ne(se,"path",{d:!0}),I(u).forEach(y),se.forEach(y),E.forEach(y),L.forEach(y),b=ne(p),p.forEach(y),this.h()},h(){m(u,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),m(_,"width","1em"),m(_,"height","1em"),m(_,"viewBox","0 0 9 7"),m(_,"fill","none"),m(_,"xmlns","http://www.w3.org/2000/svg"),m(_,"class","svelte-12bw0e2"),m(a,"class",d="sort-button "+e[19]+" svelte-12bw0e2"),X(a,"sorted",e[20]===e[94]),X(a,"des",e[20]===e[94]&&e[19]==="des"),m(t,"class","cell-wrap svelte-12bw0e2"),m(l,"aria-sort",w=e[37](e[89],e[20],e[19])),$(l,"width","var(--cell-width-"+e[94]+")"),m(l,"class","svelte-12bw0e2"),X(l,"focus",e[28]===e[94]||e[21]===e[94]),this.first=l},m(h,p){K(h,l,p),H(l,t),me(s,t,null),H(t,i),H(t,a),H(a,_),H(_,u),H(l,b),T=!0,R||(M=_e(a,"click",S),R=!0)},p(h,p){e=h;const L={};p[0]&32&&(L.latex_delimiters=e[5]),p[0]&2048&&(L.line_breaks=e[11]),p[0]&335544320&&(L.edit=e[28]===e[94]),p[0]&536870912&&(L.select_on_focus=e[29]),p[0]&256&&(L.root=e[8]),!o&&p[0]&67108864&&(o=!0,L.value=e[26][e[94]].value,Le(()=>o=!1)),!f&&p[0]&100663296&&(f=!0,L.el=e[25][e[90]].input,Le(()=>f=!1)),s.$set(L),(!T||p[0]&524288&&d!==(d="sort-button "+e[19]+" svelte-12bw0e2"))&&m(a,"class",d),(!T||p[0]&68681728)&&X(a,"sorted",e[20]===e[94]),(!T||p[0]&68681728)&&X(a,"des",e[20]===e[94]&&e[19]==="des"),(!T||p[0]&68681728&&w!==(w=e[37](e[89],e[20],e[19])))&&m(l,"aria-sort",w),(!T||p[0]&67108864)&&$(l,"width","var(--cell-width-"+e[94]+")"),(!T||p[0]&337641472)&&X(l,"focus",e[28]===e[94]||e[21]===e[94])},i(h){T||(F(s.$$.fragment,h),T=!0)},o(h){Z(s.$$.fragment,h),T=!1},d(h){h&&y(l),we(s),R=!1,M()}}}function jt(n){let e,l=[],t=new Map,s,o=ye(n[26]);const f=i=>i[90];for(let i=0;i<o.length;i+=1){let a=El(n,o,i),_=f(a);t.set(_,l[i]=Sl(_,a))}return{c(){e=J("tr");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){e=W(i,"TR",{slot:!0,class:!0});var a=I(e);for(let _=0;_<l.length;_+=1)l[_].l(a);a.forEach(y),this.h()},h(){m(e,"slot","thead"),m(e,"class","svelte-12bw0e2")},m(i,a){K(i,e,a);for(let _=0;_<l.length;_+=1)l[_]&&l[_].m(e,null);s=!0},p(i,a){a[0]&909642016|a[1]&7232&&(o=ye(i[26]),Ee(),l=Ue(l,a,f,1,i,o,t,e,je,Sl,null,El),Ae())},i(i){if(!s){for(let a=0;a<o.length;a+=1)F(l[a]);s=!0}},o(i){for(let a=0;a<l.length;a+=1)Z(l[a]);s=!1},d(i){i&&y(e);for(let a=0;a<l.length;a+=1)l[a].d()}}}function Nl(n,e){var D,B;let l,t,s,o,f,i,a,_=`var(--cell-width-${e[92]})`,u,d,b;function w(S){e[57](S,e[87],e[92])}function T(S){e[58](S,e[90])}let R={display_value:(B=(D=e[15])==null?void 0:D[e[87]])==null?void 0:B[e[92]],latex_delimiters:e[5],line_breaks:e[11],editable:e[6],edit:pe(e[24],[e[87],e[92]]),datatype:Array.isArray(e[0])?e[0][e[92]]:e[0],clear_on_focus:e[27],root:e[8]};e[18][e[87]][e[92]].value!==void 0&&(R.value=e[18][e[87]][e[92]].value),e[25][e[90]].input!==void 0&&(R.el=e[25][e[90]].input),s=new xe({props:R}),he.push(()=>ze(s,"value",w)),he.push(()=>ze(s,"el",T)),s.$on("blur",e[59]);function M(){return e[60](e[87],e[92])}function O(){return e[61](e[87],e[92])}function V(){return e[62](e[87],e[92])}return{key:n,first:null,c(){l=J("td"),t=J("div"),ge(s.$$.fragment),i=te(),this.h()},l(S){l=W(S,"TD",{tabindex:!0,style:!0,class:!0});var h=I(l);t=W(h,"DIV",{class:!0});var p=I(t);be(s.$$.fragment,p),p.forEach(y),i=ne(h),h.forEach(y),this.h()},h(){var S,h;m(t,"class","cell-wrap svelte-12bw0e2"),m(l,"tabindex","0"),m(l,"style",a=((h=(S=e[16])==null?void 0:S[e[87]])==null?void 0:h[e[92]])||""),m(l,"class","svelte-12bw0e2"),X(l,"focus",pe(e[17],[e[87],e[92]])),$(l,"width",_),this.first=l},m(S,h){K(S,l,h),H(l,t),me(s,t,null),H(l,i),u=!0,d||(b=[_e(l,"touchstart",M,{passive:!0}),_e(l,"click",O),_e(l,"dblclick",V)],d=!0)},p(S,h){var E,se,U,ee;e=S;const p={};h[0]&32768|h[2]&100663296&&(p.display_value=(se=(E=e[15])==null?void 0:E[e[87]])==null?void 0:se[e[92]]),h[0]&32&&(p.latex_delimiters=e[5]),h[0]&2048&&(p.line_breaks=e[11]),h[0]&64&&(p.editable=e[6]),h[0]&16777216|h[2]&100663296&&(p.edit=pe(e[24],[e[87],e[92]])),h[0]&1|h[2]&67108864&&(p.datatype=Array.isArray(e[0])?e[0][e[92]]:e[0]),h[0]&134217728&&(p.clear_on_focus=e[27]),h[0]&256&&(p.root=e[8]),!o&&h[0]&262144|h[2]&100663296&&(o=!0,p.value=e[18][e[87]][e[92]].value,Le(()=>o=!1)),!f&&h[0]&33554432|h[2]&67108864&&(f=!0,p.el=e[25][e[90]].input,Le(()=>f=!1)),s.$set(p),(!u||h[0]&65536|h[2]&100663296&&a!==(a=((ee=(U=e[16])==null?void 0:U[e[87]])==null?void 0:ee[e[92]])||""))&&m(l,"style",a),(!u||h[0]&131072|h[2]&100663296)&&X(l,"focus",pe(e[17],[e[87],e[92]]));const L=h[0]&65536|h[2]&100663296;(h[0]&65536|h[2]&100663296&&_!==(_=`var(--cell-width-${e[92]})`)||L)&&$(l,"width",_)},i(S){u||(F(s.$$.fragment,S),u=!0)},o(S){Z(s.$$.fragment,S),u=!1},d(S){S&&y(l),we(s),d=!1,Ge(b)}}}function Jt(n){let e,l=[],t=new Map,s,o=ye(n[88]);const f=i=>i[90];for(let i=0;i<o.length;i+=1){let a=Al(n,o,i),_=f(a);t.set(_,l[i]=Nl(_,a))}return{c(){e=J("tr");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){e=W(i,"TR",{slot:!0,class:!0});var a=I(e);for(let _=0;_<l.length;_+=1)l[_].l(a);a.forEach(y),this.h()},h(){m(e,"slot","tbody"),m(e,"class","svelte-12bw0e2"),X(e,"row_odd",n[87]%2===0)},m(i,a){K(i,e,a);for(let _=0;_<l.length;_+=1)l[_]&&l[_].m(e,null);s=!0},p(i,a){a[0]&185043297|a[1]&641|a[2]&100663296&&(o=ye(i[88]),Ee(),l=Ue(l,a,f,1,i,o,t,e,je,Nl,null,Al),Ae()),(!s||a[2]&33554432)&&X(e,"row_odd",i[87]%2===0)},i(i){if(!s){for(let a=0;a<o.length;a+=1)F(l[a]);s=!0}},o(i){for(let a=0;a<l.length;a+=1)Z(l[a]);s=!1},d(i){i&&y(e);for(let a=0;a<l.length;a+=1)l[a].d()}}}function Wt(n){let e,l,t,s,o;function f(u){n[67](u)}function i(u){n[68](u)}function a(u){n[69](u)}let _={max_height:n[10],selected:n[35],$$slots:{tbody:[Jt,({index:u,item:d})=>({87:u,88:d}),({index:u,item:d})=>[0,0,(u?33554432:0)|(d?67108864:0)]],thead:[jt],default:[Ut]},$$scope:{ctx:n}};return n[18]!==void 0&&(_.items=n[18]),n[33]!==void 0&&(_.actual_height=n[33]),n[34]!==void 0&&(_.table_scrollbar_width=n[34]),e=new Ft({props:_}),he.push(()=>ze(e,"items",f)),he.push(()=>ze(e,"actual_height",i)),he.push(()=>ze(e,"table_scrollbar_width",a)),{c(){ge(e.$$.fragment)},l(u){be(e.$$.fragment,u)},m(u,d){me(e,u,d),o=!0},p(u,d){const b={};d[0]&1024&&(b.max_height=u[10]),d[1]&16&&(b.selected=u[35]),d[0]&1061128547|d[1]&1|d[2]&100663296|d[3]&16&&(b.$$scope={dirty:d,ctx:u}),!l&&d[0]&262144&&(l=!0,b.items=u[18],Le(()=>l=!1)),!t&&d[1]&4&&(t=!0,b.actual_height=u[33],Le(()=>t=!1)),!s&&d[1]&8&&(s=!0,b.table_scrollbar_width=u[34],Le(()=>s=!1)),e.$set(b)},i(u){o||(F(e.$$.fragment,u),o=!0)},o(u){Z(e.$$.fragment,u),o=!1},d(u){we(e,u)}}}function Hl(n){let e,l,t,s=n[4][1]==="dynamic"&&Il(n),o=n[3][1]==="dynamic"&&Ol(n);return{c(){e=J("div"),s&&s.c(),l=te(),o&&o.c(),this.h()},l(f){e=W(f,"DIV",{class:!0});var i=I(e);s&&s.l(i),l=ne(i),o&&o.l(i),i.forEach(y),this.h()},h(){m(e,"class","controls-wrap svelte-12bw0e2")},m(f,i){K(f,e,i),s&&s.m(e,null),H(e,l),o&&o.m(e,null),t=!0},p(f,i){f[4][1]==="dynamic"?s?(s.p(f,i),i[0]&16&&F(s,1)):(s=Il(f),s.c(),F(s,1),s.m(e,l)):s&&(Ee(),Z(s,1,1,()=>{s=null}),Ae()),f[3][1]==="dynamic"?o?(o.p(f,i),i[0]&8&&F(o,1)):(o=Ol(f),o.c(),F(o,1),o.m(e,null)):o&&(Ee(),Z(o,1,1,()=>{o=null}),Ae())},i(f){t||(F(s),F(o),t=!0)},o(f){Z(s),Z(o),t=!1},d(f){f&&y(e),s&&s.d(),o&&o.d()}}}function Il(n){let e,l,t;return l=new Ul({props:{variant:"secondary",size:"sm",$$slots:{default:[Yt]},$$scope:{ctx:n}}}),l.$on("click",n[74]),{c(){e=J("span"),ge(l.$$.fragment),this.h()},l(s){e=W(s,"SPAN",{class:!0});var o=I(e);be(l.$$.fragment,o),o.forEach(y),this.h()},h(){m(e,"class","button-wrap svelte-12bw0e2")},m(s,o){K(s,e,o),me(l,e,null),t=!0},p(s,o){const f={};o[0]&512|o[3]&16&&(f.$$scope={dirty:o,ctx:s}),l.$set(f)},i(s){t||(F(l.$$.fragment,s),t=!0)},o(s){Z(l.$$.fragment,s),t=!1},d(s){s&&y(e),we(l)}}}function Yt(n){let e,l,t,s=n[9]("dataframe.new_row")+"",o;return{c(){e=Se("svg"),l=Se("path"),t=te(),o=Ie(s),this.h()},l(f){e=Ne(f,"svg",{xmlns:!0,"xmlns:xlink":!0,"aria-hidden":!0,role:!0,width:!0,height:!0,preserveAspectRatio:!0,viewBox:!0,class:!0});var i=I(e);l=Ne(i,"path",{fill:!0,d:!0}),I(l).forEach(y),i.forEach(y),t=ne(f),o=Oe(f,s),this.h()},h(){m(l,"fill","currentColor"),m(l,"d","M24.59 16.59L17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10l10-10l-1.41-1.41z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),m(e,"aria-hidden","true"),m(e,"role","img"),m(e,"width","1em"),m(e,"height","1em"),m(e,"preserveAspectRatio","xMidYMid meet"),m(e,"viewBox","0 0 32 32"),m(e,"class","svelte-12bw0e2")},m(f,i){K(f,e,i),H(e,l),K(f,t,i),K(f,o,i)},p(f,i){i[0]&512&&s!==(s=f[9]("dataframe.new_row")+"")&&Pe(o,s)},d(f){f&&(y(e),y(t),y(o))}}}function Ol(n){let e,l,t;return l=new Ul({props:{variant:"secondary",size:"sm",$$slots:{default:[Zt]},$$scope:{ctx:n}}}),l.$on("click",n[75]),{c(){e=J("span"),ge(l.$$.fragment),this.h()},l(s){e=W(s,"SPAN",{class:!0});var o=I(e);be(l.$$.fragment,o),o.forEach(y),this.h()},h(){m(e,"class","button-wrap svelte-12bw0e2")},m(s,o){K(s,e,o),me(l,e,null),t=!0},p(s,o){const f={};o[0]&512|o[3]&16&&(f.$$scope={dirty:o,ctx:s}),l.$set(f)},i(s){t||(F(l.$$.fragment,s),t=!0)},o(s){Z(l.$$.fragment,s),t=!1},d(s){s&&y(e),we(l)}}}function Zt(n){let e,l,t,s=n[9]("dataframe.new_column")+"",o;return{c(){e=Se("svg"),l=Se("path"),t=te(),o=Ie(s),this.h()},l(f){e=Ne(f,"svg",{xmlns:!0,"xmlns:xlink":!0,"aria-hidden":!0,role:!0,width:!0,height:!0,preserveAspectRatio:!0,viewBox:!0,class:!0});var i=I(e);l=Ne(i,"path",{fill:!0,d:!0}),I(l).forEach(y),i.forEach(y),t=ne(f),o=Oe(f,s),this.h()},h(){m(l,"fill","currentColor"),m(l,"d","m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),m(e,"aria-hidden","true"),m(e,"role","img"),m(e,"width","1em"),m(e,"height","1em"),m(e,"preserveAspectRatio","xMidYMid meet"),m(e,"viewBox","0 0 32 32"),m(e,"class","svelte-12bw0e2")},m(f,i){K(f,e,i),H(e,l),K(f,t,i),K(f,o,i)},p(f,i){i[0]&512&&s!==(s=f[9]("dataframe.new_column")+"")&&Pe(o,s)},d(f){f&&(y(e),y(t),y(o))}}}function Kt(n){let e,l,t,s,o,f,i,a=[],_=new Map,u,d,b,w=[],T=new Map,R,M,O,V,D,B,S,h,p=n[1]&&n[1].length!==0&&n[2]&&Bl(n),L=n[1]&&n[1].length!==0&&Rl(n),E=ye(n[26]);const se=k=>k[90];for(let k=0;k<E.length;k+=1){let v=Dl(n,E,k),j=se(v);_.set(j,a[k]=Ll(j,v))}let U=ye(n[36]);const ee=k=>k[90];for(let k=0;k<U.length;k+=1){let v=Tl(n,U,k),j=ee(v);T.set(j,w[k]=zl(j,v))}function x(k){n[70](k)}let de={upload:n[13],stream_handler:n[14],flex:!1,center:!1,boundedheight:!1,disable_click:!0,root:n[8],$$slots:{default:[Wt]},$$scope:{ctx:n}};n[30]!==void 0&&(de.dragging=n[30]),O=new Tt({props:de}),he.push(()=>ze(O,"dragging",x)),O.$on("load",n[71]);let Q=n[6]&&Hl(n);return{c(){e=J("div"),p&&p.c(),l=te(),t=J("div"),s=J("table"),L&&L.c(),o=te(),f=J("thead"),i=J("tr");for(let k=0;k<a.length;k+=1)a[k].c();u=te(),d=J("tbody"),b=J("tr");for(let k=0;k<w.length;k+=1)w[k].c();M=te(),ge(O.$$.fragment),D=te(),Q&&Q.c(),this.h()},l(k){e=W(k,"DIV",{class:!0});var v=I(e);p&&p.l(v),l=ne(v),t=W(v,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var j=I(t);s=W(j,"TABLE",{class:!0});var z=I(s);L&&L.l(z),o=ne(z),f=W(z,"THEAD",{class:!0});var ae=I(f);i=W(ae,"TR",{class:!0});var ke=I(i);for(let g=0;g<a.length;g+=1)a[g].l(ke);ke.forEach(y),ae.forEach(y),u=ne(z),d=W(z,"TBODY",{});var Te=I(d);b=W(Te,"TR",{class:!0});var A=I(b);for(let g=0;g<w.length;g+=1)w[g].l(A);A.forEach(y),Te.forEach(y),z.forEach(y),M=ne(j),be(O.$$.fragment,j),j.forEach(y),D=ne(v),Q&&Q.l(v),v.forEach(y),this.h()},h(){m(i,"class","svelte-12bw0e2"),m(f,"class","svelte-12bw0e2"),m(b,"class","svelte-12bw0e2"),m(s,"class","svelte-12bw0e2"),X(s,"fixed-layout",n[12].length!=0),m(t,"class","table-wrap svelte-12bw0e2"),$(t,"height",n[33]+"px"),m(t,"role","grid"),m(t,"tabindex","0"),X(t,"dragging",n[30]),X(t,"no-wrap",!n[7]),m(e,"class","svelte-12bw0e2"),X(e,"label",n[1]&&n[1].length!==0)},m(k,v){K(k,e,v),p&&p.m(e,null),H(e,l),H(e,t),H(t,s),L&&L.m(s,null),H(s,o),H(s,f),H(f,i);for(let j=0;j<a.length;j+=1)a[j]&&a[j].m(i,null);H(s,u),H(s,d),H(d,b);for(let j=0;j<w.length;j+=1)w[j]&&w[j].m(b,null);R=Cl.observe(s,n[55].bind(s)),n[56](s),H(t,M),me(O,t,null),n[72](t),H(e,D),Q&&Q.m(e,null),B=!0,S||(h=[_e(window,"click",n[46]),_e(window,"touchstart",n[46]),_e(window,"resize",n[53]),_e(t,"keydown",n[73]),Pl(vt.call(null,e))],S=!0)},p(k,v){k[1]&&k[1].length!==0&&k[2]?p?p.p(k,v):(p=Bl(k),p.c(),p.m(e,l)):p&&(p.d(1),p=null),k[1]&&k[1].length!==0?L?L.p(k,v):(L=Rl(k),L.c(),L.m(s,o)):L&&(L.d(1),L=null),v[0]&337123616|v[1]&64&&(E=ye(k[26]),Ee(),a=Ue(a,v,se,1,k,E,_,i,je,Ll,null,Dl),Ae()),v[0]&4196641|v[1]&32&&(U=ye(k[36]),Ee(),w=Ue(w,v,ee,1,k,U,T,b,je,zl,null,Tl),Ae()),(!B||v[0]&4096)&&X(s,"fixed-layout",k[12].length!=0);const j={};v[0]&8192&&(j.upload=k[13]),v[0]&16384&&(j.stream_handler=k[14]),v[0]&256&&(j.root=k[8]),v[0]&1061129571|v[1]&29|v[3]&16&&(j.$$scope={dirty:v,ctx:k}),!V&&v[0]&1073741824&&(V=!0,j.dragging=k[30],Le(()=>V=!1)),O.$set(j),(!B||v[1]&4)&&$(t,"height",k[33]+"px"),(!B||v[0]&1073741824)&&X(t,"dragging",k[30]),(!B||v[0]&128)&&X(t,"no-wrap",!k[7]),k[6]?Q?(Q.p(k,v),v[0]&64&&F(Q,1)):(Q=Hl(k),Q.c(),F(Q,1),Q.m(e,null)):Q&&(Ee(),Z(Q,1,1,()=>{Q=null}),Ae()),(!B||v[0]&2)&&X(e,"label",k[1]&&k[1].length!==0)},i(k){if(!B){for(let v=0;v<E.length;v+=1)F(a[v]);for(let v=0;v<U.length;v+=1)F(w[v]);F(O.$$.fragment,k),F(Q),B=!0}},o(k){for(let v=0;v<a.length;v+=1)Z(a[v]);for(let v=0;v<w.length;v+=1)Z(w[v]);Z(O.$$.fragment,k),Z(Q),B=!1},d(k){k&&y(e),p&&p.d(),L&&L.d();for(let v=0;v<a.length;v+=1)a[v].d();for(let v=0;v<w.length;v+=1)w[v].d();R(),n[56](null),we(O),n[72](null),Q&&Q.d(),S=!1,Ge(h)}}}function Fe(){return Math.random().toString(36).substring(2,15)}function Gt(n,e){return e.filter(l);function l(t){var s=-1;return n.split(`
`).every(o);function o(f){if(!f)return!0;var i=f.split(t).length;return s<0&&(s=i),s===i&&i>1}}}function Xt(n){const e=atob(n.split(",")[1]),l=n.split(",")[0].split(":")[1].split(";")[0],t=new ArrayBuffer(e.length),s=new Uint8Array(t);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return new Blob([t],{type:l})}function Qt(n){let e=n[0].slice();for(let l=0;l<n.length;l++)for(let t=0;t<n[l].length;t++)`${e[t].value}`.length<`${n[l][t].value}`.length&&(e[t]=n[l][t]);return e}function xt(n,e,l){let t,s,{datatype:o}=e,{label:f=null}=e,{show_label:i=!0}=e,{headers:a=[]}=e,{values:_=[]}=e,{col_count:u}=e,{row_count:d}=e,{latex_delimiters:b}=e,{editable:w=!0}=e,{wrap:T=!1}=e,{root:R}=e,{i18n:M}=e,{max_height:O=500}=e,{line_breaks:V=!0}=e,{column_widths:D=[]}=e,{upload:B}=e,{stream_handler:S}=e,h=!1,{display_value:p=null}=e,{styling:L=null}=e,E;const se=Vl();let U=!1;const ee=(r,c)=>{var N,P;return(P=(N=z==null?void 0:z[r])==null?void 0:N[c])==null?void 0:P.value};let x={};function de(r){let c=r||[];if(u[1]==="fixed"&&c.length<u[0]){const N=Array(u[0]-c.length).fill("").map((P,G)=>`${G+c.length}`);c=c.concat(N)}return!c||c.length===0?Array(u[0]).fill(0).map((N,P)=>{const G=Fe();return l(25,x[G]={cell:null,input:null},x),{id:G,value:JSON.stringify(P+1)}}):c.map((N,P)=>{const G=Fe();return l(25,x[G]={cell:null,input:null},x),{id:G,value:N??""}})}function Q(r){const c=r.length;return Array(d[1]==="fixed"||c<d[0]?d[0]:c).fill(0).map((N,P)=>Array(u[1]==="fixed"?u[0]:c>0?r[0].length:a.length).fill(0).map((G,fe)=>{var qe;const ue=Fe();return l(25,x[ue]=x[ue]||{input:null,cell:null},x),{value:((qe=r==null?void 0:r[P])==null?void 0:qe[fe])??"",id:ue}}))}let k=de(a),v;function j(){l(26,k=de(a)),l(51,v=a.slice()),ke()}let z=[[]],ae;async function ke(){se("change",{data:z.map(r=>r.map(({value:c})=>c)),headers:k.map(r=>r.value),metadata:w?null:{display_value:p,styling:L}})}function Te(r,c,N){if(!c)return"none";if(a[c]===r){if(N==="asc")return"ascending";if(N==="des")return"descending"}return"none"}function A(r){return z.reduce((c,N,P)=>{const G=N.reduce((fe,ue,He)=>r===ue.id?He:fe,-1);return G===-1?c:[P,G]},[-1,-1])}async function g(r,c){!w||pe(U,[r,c])||l(24,U=[r,c])}function q(r,c){var fe;const N={ArrowRight:[0,1],ArrowLeft:[0,-1],ArrowDown:[1,0],ArrowUp:[-1,0]}[r],P=c[0]+N[0],G=c[1]+N[1];if(P<0&&G<=0)l(21,Y=G),l(17,h=!1);else{const ue=(fe=z[P])==null?void 0:fe[G];l(17,h=ue?[P,G]:h)}}let re=!1;async function ie(r){var P;if(Y!==!1&&ve===!1)switch(r.key){case"ArrowDown":l(17,h=[0,Y]),l(21,Y=!1);return;case"ArrowLeft":l(21,Y=Y>0?Y-1:Y);return;case"ArrowRight":l(21,Y=Y<k.length-1?Y+1:Y);return;case"Escape":r.preventDefault(),l(21,Y=!1);break;case"Enter":r.preventDefault();break}if(!h)return;const[c,N]=h;switch(r.key){case"ArrowRight":case"ArrowLeft":case"ArrowDown":case"ArrowUp":if(U)break;r.preventDefault(),q(r.key,[c,N]);break;case"Escape":if(!w)break;r.preventDefault(),l(24,U=!1);break;case"Enter":if(!w)break;r.preventDefault(),r.shiftKey?(el(c),await Re(),l(17,h=[c+1,N])):pe(U,[c,N])?(l(24,U=!1),await Re(),l(17,h=[c,N])):l(24,U=[c,N]);break;case"Backspace":if(!w)break;U||(r.preventDefault(),l(18,z[c][N].value="",z));break;case"Delete":if(!w)break;U||(r.preventDefault(),l(18,z[c][N].value="",z));break;case"Tab":let G=r.shiftKey?-1:1,fe=z[c][N+G],ue=(P=z==null?void 0:z[c+G])==null?void 0:P[G>0?0:k.length-1];(fe||ue)&&(r.preventDefault(),l(17,h=fe?[c,N+G]:[c+G,G>0?0:k.length-1])),l(24,U=!1);break;default:if(!w)break;(!U||U&&pe(U,[c,N]))&&r.key.length===1&&(l(27,re=!0),l(24,U=[c,N]))}}async function oe(r,c){pe(U,[r,c])||(l(28,ve=!1),l(21,Y=!1),l(24,U=!1),l(17,h=[r,c]),await Re(),ce.focus())}let C,le;function Ve(r){typeof le!="number"||le!==r?(l(19,C="asc"),l(20,le=r)):C==="asc"?l(19,C="des"):C==="des"&&l(19,C="asc")}let ve,Je=!1,Y=!1;async function $e(r,c=!1){!w||u[1]!=="dynamic"||ve===r||(l(17,h=!1),l(21,Y=r),l(28,ve=r),l(29,Je=c))}function jl(r){if(w)switch(r.key){case"Escape":case"Enter":case"Tab":r.preventDefault(),l(17,h=!1),l(21,Y=ve),l(28,ve=!1),ce.focus();break}}async function el(r){if(ce.focus(),d[1]==="dynamic"){if(z.length===0){l(50,_=[Array(a.length).fill("")]);return}z.splice(r?r+1:z.length,0,Array(z[0].length).fill(0).map((c,N)=>{const P=Fe();return l(25,x[P]={cell:null,input:null},x),{id:P,value:""}})),l(18,z),l(50,_),l(52,ae),l(17,h=[r?r+1:z.length-1,0])}}async function fl(){if(ce.focus(),u[1]==="dynamic"){for(let r=0;r<z.length;r++){const c=Fe();l(25,x[c]={cell:null,input:null},x),z[r].push({id:c,value:""})}a.push(`Header ${a.length+1}`),l(18,z),l(50,_),l(52,ae),l(49,a),await Re(),requestAnimationFrame(()=>{$e(a.length-1,!0);const r=ce.querySelectorAll("tbody")[1].offsetWidth;ce.querySelectorAll("table")[1].scrollTo({left:r})})}}function Jl(r){r.stopImmediatePropagation();const[c]=r.composedPath();ce.contains(c)||(l(24,U=!1),l(28,ve=!1),l(21,Y=!1),l(17,h=!1))}function ul(r){const c=new FileReader;function N(P){var He;if(!((He=P==null?void 0:P.target)!=null&&He.result)||typeof P.target.result!="string")return;const[G]=Gt(P.target.result,[",","	"]),[fe,...ue]=Bt(G).parseRows(P.target.result);l(26,k=de(u[1]==="fixed"?fe.slice(0,u[0]):fe)),l(50,_=ue),c.removeEventListener("loadend",N)}c.addEventListener("loadend",N),c.readAsText(r)}let ll=!1,Ce=[],ce,tl;function We(){const r=Ce.map((c,N)=>(c==null?void 0:c.clientWidth)||0);if(r.length!==0)for(let c=0;c<r.length;c++)ce.style.setProperty(`--cell-width-${c}`,`${r[c]-Ye/r.length}px`)}let nl=_.slice(0,O/_.length*37).length*37+37,Ye=0;function Wl(r,c,N,P,G){let fe=null;if(h&&h[0]in z&&h[1]in z[h[0]]&&(fe=z[h[0]][h[1]].id),typeof P!="number"||!G)return;const ue=[...Array(r.length).keys()];if(G==="asc")ue.sort((De,Be)=>r[De][P].value<r[Be][P].value?-1:1);else if(G==="des")ue.sort((De,Be)=>r[De][P].value>r[Be][P].value?-1:1);else return;const He=[...r],qe=c?[...c]:null,hl=N?[...N]:null;if(ue.forEach((De,Be)=>{r[Be]=He[De],c&&qe&&(c[Be]=qe[De]),N&&hl&&(N[Be]=hl[De])}),l(18,z),l(50,_),l(52,ae),fe){const[De,Be]=A(fe);l(17,h=[De,Be])}}let _l=!1;ql(()=>{const r=new IntersectionObserver((c,N)=>{c.forEach(P=>{P.isIntersecting&&!_l&&(We(),l(18,z),l(50,_),l(52,ae)),_l=P.isIntersecting})});return r.observe(ce),()=>{r.disconnect()}});const Yl=()=>We();function Zl(r,c){he[r?"unshift":"push"](()=>{Ce[c]=r,l(22,Ce)})}function Kl(){var r;E=(r=Fl.entries.get(this))==null?void 0:r.contentRect,l(23,E)}function Gl(r){he[r?"unshift":"push"](()=>{tl=r,l(32,tl)})}function Xl(r,c,N){n.$$.not_equal(z[c][N].value,r)&&(z[c][N].value=r,l(18,z),l(50,_),l(52,ae))}function Ql(r,c){n.$$.not_equal(x[c].input,r)&&(x[c].input=r,l(25,x))}const xl=()=>(l(27,re=!1),ce.focus()),$l=(r,c)=>g(r,c),et=(r,c)=>oe(r,c),lt=(r,c)=>g(r,c);function tt(r,c){n.$$.not_equal(k[c].value,r)&&(k[c].value=r,l(26,k))}function nt(r,c){n.$$.not_equal(x[c].input,r)&&(x[c].input=r,l(25,x))}const st=r=>$e(r),it=r=>Ve(r);function at(r){z=r,l(18,z),l(50,_),l(52,ae)}function rt(r){nl=r,l(33,nl)}function ot(r){Ye=r,l(34,Ye)}function ft(r){ll=r,l(30,ll)}const ut=r=>ul(Xt(r.detail.data));function _t(r){he[r?"unshift":"push"](()=>{ce=r,l(31,ce)})}const ht=r=>ie(r),ct=r=>(r.stopPropagation(),el()),dt=r=>(r.stopPropagation(),fl());return n.$$set=r=>{"datatype"in r&&l(0,o=r.datatype),"label"in r&&l(1,f=r.label),"show_label"in r&&l(2,i=r.show_label),"headers"in r&&l(49,a=r.headers),"values"in r&&l(50,_=r.values),"col_count"in r&&l(3,u=r.col_count),"row_count"in r&&l(4,d=r.row_count),"latex_delimiters"in r&&l(5,b=r.latex_delimiters),"editable"in r&&l(6,w=r.editable),"wrap"in r&&l(7,T=r.wrap),"root"in r&&l(8,R=r.root),"i18n"in r&&l(9,M=r.i18n),"max_height"in r&&l(10,O=r.max_height),"line_breaks"in r&&l(11,V=r.line_breaks),"column_widths"in r&&l(12,D=r.column_widths),"upload"in r&&l(13,B=r.upload),"stream_handler"in r&&l(14,S=r.stream_handler),"display_value"in r&&l(15,p=r.display_value),"styling"in r&&l(16,L=r.styling)},n.$$.update=()=>{if(n.$$.dirty[1]&2621440&&(pe(_,ae)||(l(18,z=Q(_)),l(52,ae=_))),n.$$.dirty[0]&393216&&h!==!1){const[r,c]=h;!isNaN(r)&&!isNaN(c)&&se("select",{index:[r,c],value:ee(r,c),row_value:z[r].map(N=>N.value)})}n.$$.dirty[1]&1310720&&(pe(a,v)||j()),n.$$.dirty[0]&2359296&&(z||Y)&&ke(),n.$$.dirty[0]&262144&&l(36,t=Qt(z)),n.$$.dirty[0]&4194304&&Ce[0]&&We(),n.$$.dirty[0]&1933312&&Wl(z,p,L,le,C),n.$$.dirty[0]&131072&&l(35,s=!!h&&h[0])},[o,f,i,u,d,b,w,T,R,M,O,V,D,B,S,p,L,h,z,C,le,Y,Ce,E,U,x,k,re,ve,Je,ll,ce,tl,nl,Ye,s,t,Te,g,ie,oe,Ve,$e,jl,el,fl,Jl,ul,We,a,_,v,ae,Yl,Zl,Kl,Gl,Xl,Ql,xl,$l,et,lt,tt,nt,st,it,at,rt,ot,ft,ut,_t,ht,ct,dt]}class $t extends Xe{constructor(e){super(),Qe(this,e,xt,Kt,Ke,{datatype:0,label:1,show_label:2,headers:49,values:50,col_count:3,row_count:4,latex_delimiters:5,editable:6,wrap:7,root:8,i18n:9,max_height:10,line_breaks:11,column_widths:12,upload:13,stream_handler:14,display_value:15,styling:16},null,[-1,-1,-1,-1])}}const en=$t;function ln(n){let e,l,t,s;const o=[{autoscroll:n[14].autoscroll},{i18n:n[14].i18n},n[17]];let f={};for(let i=0;i<o.length;i+=1)f=kt(f,o[i]);return e=new yt({props:f}),e.$on("clear_status",n[28]),t=new en({props:{root:n[11],label:n[5],show_label:n[6],row_count:n[4],col_count:n[3],values:n[22],display_value:n[20],styling:n[21],headers:n[19],wrap:n[7],datatype:n[8],latex_delimiters:n[15],editable:n[18],max_height:n[16],i18n:n[14].i18n,line_breaks:n[12],column_widths:n[13],upload:n[29],stream_handler:n[30]}}),t.$on("change",n[31]),t.$on("select",n[32]),{c(){ge(e.$$.fragment),l=te(),ge(t.$$.fragment)},l(i){be(e.$$.fragment,i),l=ne(i),be(t.$$.fragment,i)},m(i,a){me(e,i,a),K(i,l,a),me(t,i,a),s=!0},p(i,a){const _=a[0]&147456?Et(o,[a[0]&16384&&{autoscroll:i[14].autoscroll},a[0]&16384&&{i18n:i[14].i18n},a[0]&131072&&At(i[17])]):{};e.$set(_);const u={};a[0]&2048&&(u.root=i[11]),a[0]&32&&(u.label=i[5]),a[0]&64&&(u.show_label=i[6]),a[0]&16&&(u.row_count=i[4]),a[0]&8&&(u.col_count=i[3]),a[0]&4194304&&(u.values=i[22]),a[0]&1048576&&(u.display_value=i[20]),a[0]&2097152&&(u.styling=i[21]),a[0]&524288&&(u.headers=i[19]),a[0]&128&&(u.wrap=i[7]),a[0]&256&&(u.datatype=i[8]),a[0]&32768&&(u.latex_delimiters=i[15]),a[0]&262144&&(u.editable=i[18]),a[0]&65536&&(u.max_height=i[16]),a[0]&16384&&(u.i18n=i[14].i18n),a[0]&4096&&(u.line_breaks=i[12]),a[0]&8192&&(u.column_widths=i[13]),a[0]&16384&&(u.upload=i[29]),a[0]&16384&&(u.stream_handler=i[30]),t.$set(u)},i(i){s||(F(e.$$.fragment,i),F(t.$$.fragment,i),s=!0)},o(i){Z(e.$$.fragment,i),Z(t.$$.fragment,i),s=!1},d(i){i&&y(l),we(e,i),we(t,i)}}}function tn(n){let e,l;return e=new pt({props:{visible:n[2],padding:!1,elem_id:n[0],elem_classes:n[1],container:!1,scale:n[9],min_width:n[10],allow_overflow:!1,$$slots:{default:[ln]},$$scope:{ctx:n}}}),{c(){ge(e.$$.fragment)},l(t){be(e.$$.fragment,t)},m(t,s){me(e,t,s),l=!0},p(t,s){const o={};s[0]&4&&(o.visible=t[2]),s[0]&1&&(o.elem_id=t[0]),s[0]&2&&(o.elem_classes=t[1]),s[0]&512&&(o.scale=t[9]),s[0]&1024&&(o.min_width=t[10]),s[0]&8387064|s[1]&8&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){Z(e.$$.fragment,t),l=!1},d(t){we(e,t)}}}function nn(n,e,l){var ke,Te,A;let{headers:t=[]}=e,{elem_id:s=""}=e,{elem_classes:o=[]}=e,{visible:f=!0}=e,{value:i={data:[["","",""]],headers:["1","2","3"],metadata:null}}=e,a="",{value_is_output:_=!1}=e,{col_count:u}=e,{row_count:d}=e,{label:b=null}=e,{show_label:w=!0}=e,{wrap:T}=e,{datatype:R}=e,{scale:M=null}=e,{min_width:O=void 0}=e,{root:V}=e,{line_breaks:D=!0}=e,{column_widths:B=[]}=e,{gradio:S}=e,{latex_delimiters:h}=e,{max_height:p=void 0}=e,{loading_status:L}=e,{interactive:E}=e,se,U,ee,x;async function de(g){var re,ie,oe,C;let q=g||i;l(19,se=[...q.headers||t]),l(22,x=q.data?[...q.data]:[]),l(20,U=(re=q==null?void 0:q.metadata)!=null&&re.display_value?[...(ie=q==null?void 0:q.metadata)==null?void 0:ie.display_value]:null),l(21,ee=!E&&((oe=q==null?void 0:q.metadata)!=null&&oe.styling)?[...(C=q==null?void 0:q.metadata)==null?void 0:C.styling]:null),await Re(),S.dispatch("change"),_||S.dispatch("input")}de(),wt(()=>{l(25,_=!1)}),(Array.isArray(i)&&((ke=i==null?void 0:i[0])==null?void 0:ke.length)===0||((A=(Te=i.data)==null?void 0:Te[0])==null?void 0:A.length)===0)&&(i={data:[Array((u==null?void 0:u[0])||3).fill("")],headers:Array((u==null?void 0:u[0])||3).fill("").map((g,q)=>`${q+1}`),metadata:null});async function Q(g){JSON.stringify(g)!==a&&(l(24,i={...g}),l(27,a=JSON.stringify(i)),de(g))}const k=()=>S.dispatch("clear_status",L),v=(...g)=>S.client.upload(...g),j=(...g)=>S.client.stream(...g),z=g=>Q(g.detail),ae=g=>S.dispatch("select",g.detail);return n.$$set=g=>{"headers"in g&&l(26,t=g.headers),"elem_id"in g&&l(0,s=g.elem_id),"elem_classes"in g&&l(1,o=g.elem_classes),"visible"in g&&l(2,f=g.visible),"value"in g&&l(24,i=g.value),"value_is_output"in g&&l(25,_=g.value_is_output),"col_count"in g&&l(3,u=g.col_count),"row_count"in g&&l(4,d=g.row_count),"label"in g&&l(5,b=g.label),"show_label"in g&&l(6,w=g.show_label),"wrap"in g&&l(7,T=g.wrap),"datatype"in g&&l(8,R=g.datatype),"scale"in g&&l(9,M=g.scale),"min_width"in g&&l(10,O=g.min_width),"root"in g&&l(11,V=g.root),"line_breaks"in g&&l(12,D=g.line_breaks),"column_widths"in g&&l(13,B=g.column_widths),"gradio"in g&&l(14,S=g.gradio),"latex_delimiters"in g&&l(15,h=g.latex_delimiters),"max_height"in g&&l(16,p=g.max_height),"loading_status"in g&&l(17,L=g.loading_status),"interactive"in g&&l(18,E=g.interactive)},n.$$.update=()=>{n.$$.dirty[0]&150994944&&a&&JSON.stringify(i)!==a&&(l(27,a=JSON.stringify(i)),de())},[s,o,f,u,d,b,w,T,R,M,O,V,D,B,S,h,p,L,E,se,U,ee,x,Q,i,_,t,a,k,v,j,z,ae]}class dn extends Xe{constructor(e){super(),Qe(this,e,nn,tn,Ke,{headers:26,elem_id:0,elem_classes:1,visible:2,value:24,value_is_output:25,col_count:3,row_count:4,label:5,show_label:6,wrap:7,datatype:8,scale:9,min_width:10,root:11,line_breaks:12,column_widths:13,gradio:14,latex_delimiters:15,max_height:16,loading_status:17,interactive:18},null,[-1,-1])}}export{en as BaseDataFrame,mn as BaseExample,dn as default};
