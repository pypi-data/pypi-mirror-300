const __vite__fileDeps=["./vega-embed.module.CiRuG0KX.js","./2.BTUnExtG.js","./preload-helper.D6kgxu3v.js","./scheduler.xQsDa6L3.js","./index.lnKugwF0.js","./entry.BphPyHSR.js","./stores.DTZMM7dm.js","../assets/2.MpwT3k7H.css","./dsv.DB8NKgIY.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as Ie}from"./preload-helper.D6kgxu3v.js";import{s as De,J as Be,a as ie,z as K,g as ne,i as C,f as v,r as Ne,B as qe,t as xe,d as Fe,j as Pe,e as ze,c as Ee,b as Se,p as Ce,n as he,h as Me}from"./scheduler.xQsDa6L3.js";import{S as Re,i as He,c as I,a as D,m as B,t as k,b as F,d as N,g as ye,e as ke}from"./index.lnKugwF0.js";import{B as Ue,h as Je,d as Xe,b as Ye,e as Ge}from"./2.BTUnExtG.js";import{E as Ke}from"./Empty.CHJfi3Iz.js";import{L as Qe}from"./LineChart.CQp-JLz8.js";function ve(o){let e,t;const i=[{autoscroll:o[2].autoscroll},{i18n:o[2].i18n},o[10]];let a={};for(let n=0;n<i.length;n+=1)a=qe(a,i[n]);return e=new Xe({props:a}),e.$on("clear_status",o[38]),{c(){I(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,f){B(e,n,f),t=!0},p(n,f){const m=f[0]&1028?Ye(i,[f[0]&4&&{autoscroll:n[2].autoscroll},f[0]&4&&{i18n:n[2].i18n},f[0]&1024&&Ge(n[10])]):{};e.$set(m)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){F(e.$$.fragment,n),t=!1},d(n){N(e,n)}}}function Ze(o){let e;return{c(){e=xe(o[3])},l(t){e=Fe(t,o[3])},m(t,i){C(t,e,i)},p(t,i){i[0]&8&&Pe(e,t[3])},d(t){t&&v(e)}}}function pe(o){let e,t;return e=new Ke({props:{unpadded_box:!0,$$slots:{default:[et]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,a){B(e,i,a),t=!0},p(i,a){const n={};a[1]&8388608&&(n.$$scope={dirty:a,ctx:i}),e.$set(n)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){F(e.$$.fragment,i),t=!1},d(i){N(e,i)}}}function $e(o){let e,t,i,a=o[1]&&we(o);return{c(){e=ze("div"),t=ie(),a&&a.c(),i=K(),this.h()},l(n){e=Ee(n,"DIV",{class:!0}),Se(e).forEach(v),t=ne(n),a&&a.l(n),i=K(),this.h()},h(){Ce(e,"class","svelte-10k9m4v")},m(n,f){C(n,e,f),o[39](e),C(n,t,f),a&&a.m(n,f),C(n,i,f)},p(n,f){n[1]?a?a.p(n,f):(a=we(n),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null)},i:he,o:he,d(n){n&&(v(e),v(t),v(i)),o[39](null),a&&a.d(n)}}}function et(o){let e,t;return e=new Qe({}),{c(){I(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,a){B(e,i,a),t=!0},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){F(e.$$.fragment,i),t=!1},d(i){N(e,i)}}}function we(o){let e,t;return{c(){e=ze("p"),t=xe(o[1]),this.h()},l(i){e=Ee(i,"P",{class:!0});var a=Se(e);t=Fe(a,o[1]),a.forEach(v),this.h()},h(){Ce(e,"class","caption svelte-10k9m4v")},m(i,a){C(i,e,a),Me(e,t)},p(i,a){a[0]&2&&Pe(t,i[1])},d(i){i&&v(e)}}}function tt(o){let e,t,i,a,n,f,m,r=o[10]&&ve(o);t=new Je({props:{show_label:o[7],info:void 0,$$slots:{default:[Ze]},$$scope:{ctx:o}}});const d=[$e,pe],_=[];function c(s,u){return s[0]&&s[13]?0:1}return a=c(o),n=_[a]=d[a](o),{c(){r&&r.c(),e=ie(),I(t.$$.fragment),i=ie(),n.c(),f=K()},l(s){r&&r.l(s),e=ne(s),D(t.$$.fragment,s),i=ne(s),n.l(s),f=K()},m(s,u){r&&r.m(s,u),C(s,e,u),B(t,s,u),C(s,i,u),_[a].m(s,u),C(s,f,u),m=!0},p(s,u){s[10]?r?(r.p(s,u),u[0]&1024&&k(r,1)):(r=ve(s),r.c(),k(r,1),r.m(e.parentNode,e)):r&&(ye(),F(r,1,1,()=>{r=null}),ke());const P={};u[0]&128&&(P.show_label=s[7]),u[0]&8|u[1]&8388608&&(P.$$scope={dirty:u,ctx:s}),t.$set(P);let O=a;a=c(s),a===O?_[a].p(s,u):(ye(),F(_[O],1,1,()=>{_[O]=null}),ke(),n=_[a],n?n.p(s,u):(n=_[a]=d[a](s),n.c()),k(n,1),n.m(f.parentNode,f))},i(s){m||(k(r),k(t.$$.fragment,s),k(n),m=!0)},o(s){F(r),F(t.$$.fragment,s),F(n),m=!1},d(s){s&&(v(e),v(i),v(f)),r&&r.d(s),N(t,s),_[a].d(s)}}}function lt(o){let e,t;return e=new Ue({props:{visible:o[6],elem_id:o[4],elem_classes:o[5],scale:o[8],min_width:o[9],allow_overflow:!1,padding:!0,height:o[11],$$slots:{default:[tt]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,a){B(e,i,a),t=!0},p(i,a){const n={};a[0]&64&&(n.visible=i[6]),a[0]&16&&(n.elem_id=i[4]),a[0]&32&&(n.elem_classes=i[5]),a[0]&256&&(n.scale=i[8]),a[0]&512&&(n.min_width=i[9]),a[0]&2048&&(n.height=i[11]),a[0]&5263|a[1]&8388608&&(n.$$scope={dirty:a,ctx:i}),e.$set(n)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){F(e.$$.fragment,i),t=!1},d(i){N(e,i)}}}function it(o,e,t){let i,a,n,f,m,{value:r}=e,{x:d}=e,{y:_}=e,{color:c=null}=e,{title:s=null}=e,{x_title:u=null}=e,{y_title:P=null}=e,{color_title:O=null}=e,{x_bin:w=null}=e,{y_aggregate:T=void 0}=e,{color_map:q=null}=e,{x_lim:A=null}=e,{y_lim:M=null}=e,{x_label_angle:R=null}=e,{y_label_angle:H=null}=e,{x_axis_labels_visible:U=!0}=e,{caption:ae=null}=e,{sort:Q=null}=e;function Oe(l){if(l==="x")return"ascending";if(l==="-x")return"descending";if(l==="y")return{field:_,order:"ascending"};if(l==="-y")return{field:_,order:"descending"};if(l===null)return;if(Array.isArray(l))return l}let{_selectable:J=!1}=e,X,{gradio:L}=e,z,Z=!1;const We={s:1,m:60,h:60*60,d:24*60*60};let j,V;function Ae(l){let b=l.columns.indexOf(d),S=l.columns.indexOf(_),y=c?l.columns.indexOf(c):null;return l.data.map(x=>{const h={[d]:x[b],[_]:x[S]};return c&&y!==null&&(h[c]=x[y]),h})}const Le=typeof window<"u";let g,E,p=!1,oe,Y,$;async function re(){if(E&&E.finalize(),!r||!g)return;oe=g.offsetWidth;const l=Ve();l&&(Y=new ResizeObserver(b=>{!b[0].target||!(b[0].target instanceof HTMLElement)||(oe===0&&g.offsetWidth!==0&&r.datatypes[d]==="nominal"?re():E.signal("width",b[0].target.offsetWidth).run())}),$||($=(await Ie(()=>import("./vega-embed.module.CiRuG0KX.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)).default),$(g,l,{actions:!1}).then(function(b){E=b.view,Y.observe(g);var S;E.addEventListener("dblclick",()=>{L.dispatch("double_click")}),g.addEventListener("mousedown",function(y){y.detail>1&&y.preventDefault()},!1),J&&E.addSignalListener("brush",function(y,x){if(Object.keys(x).length===0)return;clearTimeout(S);let h=x[Object.keys(x)[0]];n&&(h=[h[0]/1e3,h[1]/1e3]),Z?G=()=>{L.dispatch("select",{value:h,index:h,selected:!0})}:S=setTimeout(function(){L.dispatch("select",{value:h,index:h,selected:!0})},250)})}))}let G=null;Be(()=>(t(35,p=!0),g.addEventListener("mousedown",()=>{Z=!0}),g.addEventListener("mouseup",()=>{Z=!1,G&&(G(),G=null)}),()=>{t(35,p=!1),E&&E.finalize(),Y&&Y.disconnect()}));function Ve(){if(!r||!m)return null;let l=m.getPropertyValue("--color-accent"),b=m.getPropertyValue("--body-text-color"),S=m.getPropertyValue("--border-color-primary"),y=m.fontFamily,x=m.getPropertyValue("--block-title-text-weight");const h=W=>W.endsWith("px")?parseFloat(W.slice(0,-2)):12;let be=h(m.getPropertyValue("--text-md")),te=h(m.getPropertyValue("--text-sm"));return{$schema:"https://vega.github.io/schema/vega-lite/v5.17.0.json",background:"transparent",config:{autosize:{type:"fit",contains:"padding"},axis:{labelFont:y,labelColor:b,titleFont:y,titleColor:b,titlePadding:8,tickColor:S,labelFontSize:te,gridColor:S,titleFontWeight:"normal",titleFontSize:te,labelFontWeight:"normal",domain:!1,labelAngle:0},legend:{labelColor:b,labelFont:y,titleColor:b,titleFont:y,titleFontWeight:"normal",titleFontSize:te,labelFontWeight:"normal",offset:2},title:{color:b,font:y,fontSize:be,fontWeight:x,anchor:"middle"},view:{stroke:S},mark:{stroke:r.mark!=="bar"?l:void 0,fill:r.mark==="bar"?l:void 0,cursor:"crosshair"}},data:{name:"data"},datasets:{data:X},layer:["plot",...r.mark==="line"?["hover"]:[]].map(W=>({encoding:{size:r.mark==="line"?W=="plot"?{condition:{empty:!1,param:"hoverPlot",value:3},value:2}:{condition:{empty:!1,param:"hover",value:100},value:0}:void 0,opacity:W==="plot"?void 0:{condition:{empty:!1,param:"hover",value:1},value:0},x:{axis:{...R!==null&&{labelAngle:R},labels:U,ticks:U},field:d,title:u||d,type:r.datatypes[d],scale:f?{domain:f}:void 0,bin:z?{step:z}:void 0,sort:a},y:{axis:H?{labelAngle:H}:{},field:_,title:P||_,type:r.datatypes[_],scale:M?{domain:M}:void 0,aggregate:V?j:void 0},color:c?{field:c,legend:{orient:"bottom",title:O},scale:r.datatypes[c]==="nominal"?{domain:i,range:q?i.map(le=>q[le]):void 0}:{range:[100,200,300,400,500,600,700,800,900].map(le=>m.getPropertyValue("--primary-"+le)),interpolate:"hsl"},type:r.datatypes[c]}:void 0,tooltip:[{field:_,type:r.datatypes[_],aggregate:V?j:void 0,title:P||_},{field:d,type:r.datatypes[d],title:u||d,format:n?"%Y-%m-%d %H:%M:%S":void 0,bin:z?{step:z}:void 0},...c?[{field:c,type:r.datatypes[c]}]:[]]},strokeDash:{},mark:{clip:!0,type:W==="hover"?"point":r.mark},name:W})),params:[...r.mark==="line"?[{name:"hoverPlot",select:{clear:"mouseout",fields:c?[c]:[],nearest:!0,on:"mouseover",type:"point"},views:["hover"]},{name:"hover",select:{clear:"mouseout",nearest:!0,on:"mouseover",type:"point"},views:["hover"]}]:[],...J?[{name:"brush",select:{encodings:["x"],mark:{fill:"gray",fillOpacity:.3,stroke:"none"},type:"interval"},views:["plot"]}]:[]],width:g.offsetWidth,title:s||void 0}}let{label:se="Textbox"}=e,{elem_id:fe=""}=e,{elem_classes:_e=[]}=e,{visible:ce=!0}=e,{show_label:ue}=e,{scale:me=null}=e,{min_width:de=void 0}=e,{loading_status:ee=void 0}=e,{height:ge=void 0}=e;const Te=()=>L.dispatch("clear_status",ee);function je(l){Ne[l?"unshift":"push"](()=>{g=l,t(12,g)})}return o.$$set=l=>{"value"in l&&t(0,r=l.value),"x"in l&&t(14,d=l.x),"y"in l&&t(15,_=l.y),"color"in l&&t(16,c=l.color),"title"in l&&t(17,s=l.title),"x_title"in l&&t(18,u=l.x_title),"y_title"in l&&t(19,P=l.y_title),"color_title"in l&&t(20,O=l.color_title),"x_bin"in l&&t(21,w=l.x_bin),"y_aggregate"in l&&t(22,T=l.y_aggregate),"color_map"in l&&t(23,q=l.color_map),"x_lim"in l&&t(24,A=l.x_lim),"y_lim"in l&&t(25,M=l.y_lim),"x_label_angle"in l&&t(26,R=l.x_label_angle),"y_label_angle"in l&&t(27,H=l.y_label_angle),"x_axis_labels_visible"in l&&t(28,U=l.x_axis_labels_visible),"caption"in l&&t(1,ae=l.caption),"sort"in l&&t(29,Q=l.sort),"_selectable"in l&&t(30,J=l._selectable),"gradio"in l&&t(2,L=l.gradio),"label"in l&&t(3,se=l.label),"elem_id"in l&&t(4,fe=l.elem_id),"elem_classes"in l&&t(5,_e=l.elem_classes),"visible"in l&&t(6,ce=l.visible),"show_label"in l&&t(7,ue=l.show_label),"scale"in l&&t(8,me=l.scale),"min_width"in l&&t(9,de=l.min_width),"loading_status"in l&&t(10,ee=l.loading_status),"height"in l&&t(11,ge=l.height)},o.$$.update=()=>{o.$$.dirty[0]&1&&t(31,X=r?Ae(r):[]),o.$$.dirty[0]&65537|o.$$.dirty[1]&1&&(i=c&&r&&r.datatypes[c]==="nominal"?Array.from(new Set(X.map(l=>l[c]))):[]),o.$$.dirty[0]&536870912&&(a=Oe(Q)),o.$$.dirty[0]&16385&&t(36,n=r&&r.datatypes[d]==="temporal"),o.$$.dirty[0]&16777216|o.$$.dirty[1]&32&&(f=A&&n?[A[0]*1e3,A[1]*1e3]:A),o.$$.dirty[0]&2097152&&t(32,z=w?typeof w=="string"?1e3*parseInt(w.substring(0,w.length-1))*We[w[w.length-1]]:w:void 0),o.$$.dirty[0]&4210689|o.$$.dirty[1]&10&&r&&(r.mark==="point"?(t(34,V=z!==void 0),t(33,j=T||V?"sum":void 0)):(t(34,V=z!==void 0||r.datatypes[d]==="nominal"),t(33,j=T||"sum"))),o.$$.dirty[0]&4096&&t(37,m=g?window.getComputedStyle(g):null),o.$$.dirty[0]&599773187|o.$$.dirty[1]&84&&m&&requestAnimationFrame(re)},[r,ae,L,se,fe,_e,ce,ue,me,de,ee,ge,g,Le,d,_,c,s,u,P,O,w,T,q,A,M,R,H,U,Q,J,X,z,j,V,p,n,m,Te,je]}class _t extends Re{constructor(e){super(),He(this,e,it,lt,De,{value:0,x:14,y:15,color:16,title:17,x_title:18,y_title:19,color_title:20,x_bin:21,y_aggregate:22,color_map:23,x_lim:24,y_lim:25,x_label_angle:26,y_label_angle:27,x_axis_labels_visible:28,caption:1,sort:29,_selectable:30,gradio:2,label:3,elem_id:4,elem_classes:5,visible:6,show_label:7,scale:8,min_width:9,loading_status:10,height:11},null,[-1,-1])}}export{_t as default};
