var li=Object.defineProperty;var pi=(a,i,t)=>i in a?li(a,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[i]=t;var v=(a,i,t)=>(pi(a,typeof i!="symbol"?i+"":i,t),t),H=(a,i,t)=>{if(!i.has(a))throw TypeError("Cannot "+t)};var p=(a,i,t)=>(H(a,i,"read from private field"),t?t.call(a):i.get(a)),k=(a,i,t)=>{if(i.has(a))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(a):i.set(a,t)},U=(a,i,t,o)=>(H(a,i,"write to private field"),o?o.call(a,t):i.set(a,t),t);import{s as si,l as ni,e as G,a as mi,c as F,T as ci,g as ri,b as di,f as q,r as L,v as X,P as K,H as fi,i as V,F as h,Z as xi,u as ui,m as gi,o as vi,a1 as hi,R as Ei,y as bi,B as J,C as Y,M as ji,w as wi}from"./scheduler.C_sdfy-5.js";import{S as yi,i as Ri,t as _i,b as ki,r as Li}from"./index.D_Dnc2IG.js";import{r as Di}from"./file-url.u58BABrD.js";/* empty css                                                   */import{H as N}from"./hls.C_AVPmGC.js";const Oi=new Error("failed to get response body reader"),Ii=new Error("failed to complete download"),Ti="Content-Length",Ai=async(a,i)=>{var e;const t=await fetch(a);let o;try{const c=parseInt(t.headers.get(Ti)||"-1"),x=(e=t.body)==null?void 0:e.getReader();if(!x)throw Oi;const u=[];let g=0;for(;;){const{done:n,value:d}=await x.read(),w=d?d.length:0;if(n){if(c!=-1&&c!==g)throw Ii;i&&i({url:a,total:c,received:g,delta:w,done:n});break}u.push(d),g+=w,i&&i({url:a,total:c,received:g,delta:w,done:n})}const b=new Uint8Array(g);let j=0;for(const n of u)b.set(n,j),j+=n.length;o=b.buffer}catch(c){console.log("failed to send download progress event: ",c),o=await t.arrayBuffer()}return o},W=async(a,i,t=!1,o)=>{const e=t?await Ai(a,o):await(await fetch(a)).arrayBuffer(),c=new Blob([e],{type:i});return URL.createObjectURL(c)};var m;(function(a){a.LOAD="LOAD",a.EXEC="EXEC",a.WRITE_FILE="WRITE_FILE",a.READ_FILE="READ_FILE",a.DELETE_FILE="DELETE_FILE",a.RENAME="RENAME",a.CREATE_DIR="CREATE_DIR",a.LIST_DIR="LIST_DIR",a.DELETE_DIR="DELETE_DIR",a.ERROR="ERROR",a.DOWNLOAD="DOWNLOAD",a.PROGRESS="PROGRESS",a.LOG="LOG",a.MOUNT="MOUNT",a.UNMOUNT="UNMOUNT"})(m||(m={}));const Ni=(()=>{let a=0;return()=>a++})(),Ui=new Error("ffmpeg is not loaded, call `await ffmpeg.load()` first"),qi=new Error("called FFmpeg.terminate()");var y,D,_,I,T,S,E;class Si{constructor(){k(this,y,null);k(this,D,{});k(this,_,{});k(this,I,[]);k(this,T,[]);v(this,"loaded",!1);k(this,S,()=>{p(this,y)&&(p(this,y).onmessage=({data:{id:i,type:t,data:o}})=>{switch(t){case m.LOAD:this.loaded=!0,p(this,D)[i](o);break;case m.MOUNT:case m.UNMOUNT:case m.EXEC:case m.WRITE_FILE:case m.READ_FILE:case m.DELETE_FILE:case m.RENAME:case m.CREATE_DIR:case m.LIST_DIR:case m.DELETE_DIR:p(this,D)[i](o);break;case m.LOG:p(this,I).forEach(e=>e(o));break;case m.PROGRESS:p(this,T).forEach(e=>e(o));break;case m.ERROR:p(this,_)[i](o);break}delete p(this,D)[i],delete p(this,_)[i]})});k(this,E,({type:i,data:t},o=[],e)=>p(this,y)?new Promise((c,x)=>{const u=Ni();p(this,y)&&p(this,y).postMessage({id:u,type:i,data:t},o),p(this,D)[u]=c,p(this,_)[u]=x,e==null||e.addEventListener("abort",()=>{x(new DOMException(`Message # ${u} was aborted`,"AbortError"))},{once:!0})}):Promise.reject(Ui));v(this,"load",(i={},{signal:t}={})=>(p(this,y)||(U(this,y,new Worker(new URL(""+new URL("../workers/worker-DJ3jufjD.js",import.meta.url).href,import.meta.url),{type:"module"})),p(this,S).call(this)),p(this,E).call(this,{type:m.LOAD,data:i},void 0,t)));v(this,"exec",(i,t=-1,{signal:o}={})=>p(this,E).call(this,{type:m.EXEC,data:{args:i,timeout:t}},void 0,o));v(this,"terminate",()=>{const i=Object.keys(p(this,_));for(const t of i)p(this,_)[t](qi),delete p(this,_)[t],delete p(this,D)[t];p(this,y)&&(p(this,y).terminate(),U(this,y,null),this.loaded=!1)});v(this,"writeFile",(i,t,{signal:o}={})=>{const e=[];return t instanceof Uint8Array&&e.push(t.buffer),p(this,E).call(this,{type:m.WRITE_FILE,data:{path:i,data:t}},e,o)});v(this,"mount",(i,t,o)=>{const e=[];return p(this,E).call(this,{type:m.MOUNT,data:{fsType:i,options:t,mountPoint:o}},e)});v(this,"unmount",i=>{const t=[];return p(this,E).call(this,{type:m.UNMOUNT,data:{mountPoint:i}},t)});v(this,"readFile",(i,t="binary",{signal:o}={})=>p(this,E).call(this,{type:m.READ_FILE,data:{path:i,encoding:t}},void 0,o));v(this,"deleteFile",(i,{signal:t}={})=>p(this,E).call(this,{type:m.DELETE_FILE,data:{path:i}},void 0,t));v(this,"rename",(i,t,{signal:o}={})=>p(this,E).call(this,{type:m.RENAME,data:{oldPath:i,newPath:t}},void 0,o));v(this,"createDir",(i,{signal:t}={})=>p(this,E).call(this,{type:m.CREATE_DIR,data:{path:i}},void 0,t));v(this,"listDir",(i,{signal:t}={})=>p(this,E).call(this,{type:m.LIST_DIR,data:{path:i}},void 0,t));v(this,"deleteDir",(i,{signal:t}={})=>p(this,E).call(this,{type:m.DELETE_DIR,data:{path:i}},void 0,t))}on(i,t){i==="log"?p(this,I).push(t):i==="progress"&&p(this,T).push(t)}off(i,t){i==="log"?U(this,I,p(this,I).filter(o=>o!==t)):i==="progress"&&U(this,T,p(this,T).filter(o=>o!==t))}}y=new WeakMap,D=new WeakMap,_=new WeakMap,I=new WeakMap,T=new WeakMap,S=new WeakMap,E=new WeakMap;const Mi={"3g2":"video/3gpp2","3gp":"video/3gpp","3gpp":"video/3gpp","3mf":"model/3mf",aac:"audio/aac",ac:"application/pkix-attr-cert",adp:"audio/adpcm",adts:"audio/aac",ai:"application/postscript",aml:"application/automationml-aml+xml",amlx:"application/automationml-amlx+zip",amr:"audio/amr",apng:"image/apng",appcache:"text/cache-manifest",appinstaller:"application/appinstaller",appx:"application/appx",appxbundle:"application/appxbundle",asc:"application/pgp-keys",atom:"application/atom+xml",atomcat:"application/atomcat+xml",atomdeleted:"application/atomdeleted+xml",atomsvc:"application/atomsvc+xml",au:"audio/basic",avci:"image/avci",avcs:"image/avcs",avif:"image/avif",aw:"application/applixware",bdoc:"application/bdoc",bin:"application/octet-stream",bmp:"image/bmp",bpk:"application/octet-stream",btf:"image/prs.btif",btif:"image/prs.btif",buffer:"application/octet-stream",ccxml:"application/ccxml+xml",cdfx:"application/cdfx+xml",cdmia:"application/cdmi-capability",cdmic:"application/cdmi-container",cdmid:"application/cdmi-domain",cdmio:"application/cdmi-object",cdmiq:"application/cdmi-queue",cer:"application/pkix-cert",cgm:"image/cgm",cjs:"application/node",class:"application/java-vm",coffee:"text/coffeescript",conf:"text/plain",cpl:"application/cpl+xml",cpt:"application/mac-compactpro",crl:"application/pkix-crl",css:"text/css",csv:"text/csv",cu:"application/cu-seeme",cwl:"application/cwl",cww:"application/prs.cww",davmount:"application/davmount+xml",dbk:"application/docbook+xml",deb:"application/octet-stream",def:"text/plain",deploy:"application/octet-stream",dib:"image/bmp","disposition-notification":"message/disposition-notification",dist:"application/octet-stream",distz:"application/octet-stream",dll:"application/octet-stream",dmg:"application/octet-stream",dms:"application/octet-stream",doc:"application/msword",dot:"application/msword",dpx:"image/dpx",drle:"image/dicom-rle",dsc:"text/prs.lines.tag",dssc:"application/dssc+der",dtd:"application/xml-dtd",dump:"application/octet-stream",dwd:"application/atsc-dwd+xml",ear:"application/java-archive",ecma:"application/ecmascript",elc:"application/octet-stream",emf:"image/emf",eml:"message/rfc822",emma:"application/emma+xml",emotionml:"application/emotionml+xml",eps:"application/postscript",epub:"application/epub+zip",exe:"application/octet-stream",exi:"application/exi",exp:"application/express",exr:"image/aces",ez:"application/andrew-inset",fdf:"application/fdf",fdt:"application/fdt+xml",fits:"image/fits",g3:"image/g3fax",gbr:"application/rpki-ghostbusters",geojson:"application/geo+json",gif:"image/gif",glb:"model/gltf-binary",gltf:"model/gltf+json",gml:"application/gml+xml",gpx:"application/gpx+xml",gram:"application/srgs",grxml:"application/srgs+xml",gxf:"application/gxf",gz:"application/gzip",h261:"video/h261",h263:"video/h263",h264:"video/h264",heic:"image/heic",heics:"image/heic-sequence",heif:"image/heif",heifs:"image/heif-sequence",hej2:"image/hej2k",held:"application/atsc-held+xml",hjson:"application/hjson",hlp:"application/winhlp",hqx:"application/mac-binhex40",hsj2:"image/hsj2",htm:"text/html",html:"text/html",ics:"text/calendar",ief:"image/ief",ifb:"text/calendar",iges:"model/iges",igs:"model/iges",img:"application/octet-stream",in:"text/plain",ini:"text/plain",ink:"application/inkml+xml",inkml:"application/inkml+xml",ipfix:"application/ipfix",iso:"application/octet-stream",its:"application/its+xml",jade:"text/jade",jar:"application/java-archive",jhc:"image/jphc",jls:"image/jls",jp2:"image/jp2",jpe:"image/jpeg",jpeg:"image/jpeg",jpf:"image/jpx",jpg:"image/jpeg",jpg2:"image/jp2",jpgm:"image/jpm",jpgv:"video/jpeg",jph:"image/jph",jpm:"image/jpm",jpx:"image/jpx",js:"text/javascript",json:"application/json",json5:"application/json5",jsonld:"application/ld+json",jsonml:"application/jsonml+json",jsx:"text/jsx",jt:"model/jt",jxr:"image/jxr",jxra:"image/jxra",jxrs:"image/jxrs",jxs:"image/jxs",jxsc:"image/jxsc",jxsi:"image/jxsi",jxss:"image/jxss",kar:"audio/midi",ktx:"image/ktx",ktx2:"image/ktx2",less:"text/less",lgr:"application/lgr+xml",list:"text/plain",litcoffee:"text/coffeescript",log:"text/plain",lostxml:"application/lost+xml",lrf:"application/octet-stream",m1v:"video/mpeg",m21:"application/mp21",m2a:"audio/mpeg",m2v:"video/mpeg",m3a:"audio/mpeg",m4a:"audio/mp4",m4p:"application/mp4",m4s:"video/iso.segment",ma:"application/mathematica",mads:"application/mads+xml",maei:"application/mmt-aei+xml",man:"text/troff",manifest:"text/cache-manifest",map:"application/json",mar:"application/octet-stream",markdown:"text/markdown",mathml:"application/mathml+xml",mb:"application/mathematica",mbox:"application/mbox",md:"text/markdown",mdx:"text/mdx",me:"text/troff",mesh:"model/mesh",meta4:"application/metalink4+xml",metalink:"application/metalink+xml",mets:"application/mets+xml",mft:"application/rpki-manifest",mid:"audio/midi",midi:"audio/midi",mime:"message/rfc822",mj2:"video/mj2",mjp2:"video/mj2",mjs:"text/javascript",mml:"text/mathml",mods:"application/mods+xml",mov:"video/quicktime",mp2:"audio/mpeg",mp21:"application/mp21",mp2a:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mp4a:"audio/mp4",mp4s:"application/mp4",mp4v:"video/mp4",mpd:"application/dash+xml",mpe:"video/mpeg",mpeg:"video/mpeg",mpf:"application/media-policy-dataset+xml",mpg:"video/mpeg",mpg4:"video/mp4",mpga:"audio/mpeg",mpp:"application/dash-patch+xml",mrc:"application/marc",mrcx:"application/marcxml+xml",ms:"text/troff",mscml:"application/mediaservercontrol+xml",msh:"model/mesh",msi:"application/octet-stream",msix:"application/msix",msixbundle:"application/msixbundle",msm:"application/octet-stream",msp:"application/octet-stream",mtl:"model/mtl",musd:"application/mmt-usd+xml",mxf:"application/mxf",mxmf:"audio/mobile-xmf",mxml:"application/xv+xml",n3:"text/n3",nb:"application/mathematica",nq:"application/n-quads",nt:"application/n-triples",obj:"model/obj",oda:"application/oda",oga:"audio/ogg",ogg:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",omdoc:"application/omdoc+xml",onepkg:"application/onenote",onetmp:"application/onenote",onetoc:"application/onenote",onetoc2:"application/onenote",opf:"application/oebps-package+xml",opus:"audio/ogg",otf:"font/otf",owl:"application/rdf+xml",oxps:"application/oxps",p10:"application/pkcs10",p7c:"application/pkcs7-mime",p7m:"application/pkcs7-mime",p7s:"application/pkcs7-signature",p8:"application/pkcs8",pdf:"application/pdf",pfr:"application/font-tdpfr",pgp:"application/pgp-encrypted",pkg:"application/octet-stream",pki:"application/pkixcmp",pkipath:"application/pkix-pkipath",pls:"application/pls+xml",png:"image/png",prc:"model/prc",prf:"application/pics-rules",provx:"application/provenance+xml",ps:"application/postscript",pskcxml:"application/pskc+xml",pti:"image/prs.pti",qt:"video/quicktime",raml:"application/raml+yaml",rapd:"application/route-apd+xml",rdf:"application/rdf+xml",relo:"application/p2p-overlay+xml",rif:"application/reginfo+xml",rl:"application/resource-lists+xml",rld:"application/resource-lists-diff+xml",rmi:"audio/midi",rnc:"application/relax-ng-compact-syntax",rng:"application/xml",roa:"application/rpki-roa",roff:"text/troff",rq:"application/sparql-query",rs:"application/rls-services+xml",rsat:"application/atsc-rsat+xml",rsd:"application/rsd+xml",rsheet:"application/urc-ressheet+xml",rss:"application/rss+xml",rtf:"text/rtf",rtx:"text/richtext",rusd:"application/route-usd+xml",s3m:"audio/s3m",sbml:"application/sbml+xml",scq:"application/scvp-cv-request",scs:"application/scvp-cv-response",sdp:"application/sdp",senmlx:"application/senml+xml",sensmlx:"application/sensml+xml",ser:"application/java-serialized-object",setpay:"application/set-payment-initiation",setreg:"application/set-registration-initiation",sgi:"image/sgi",sgm:"text/sgml",sgml:"text/sgml",shex:"text/shex",shf:"application/shf+xml",shtml:"text/html",sieve:"application/sieve",sig:"application/pgp-signature",sil:"audio/silk",silo:"model/mesh",siv:"application/sieve",slim:"text/slim",slm:"text/slim",sls:"application/route-s-tsid+xml",smi:"application/smil+xml",smil:"application/smil+xml",snd:"audio/basic",so:"application/octet-stream",spdx:"text/spdx",spp:"application/scvp-vp-response",spq:"application/scvp-vp-request",spx:"audio/ogg",sql:"application/sql",sru:"application/sru+xml",srx:"application/sparql-results+xml",ssdl:"application/ssdl+xml",ssml:"application/ssml+xml",stk:"application/hyperstudio",stl:"model/stl",stpx:"model/step+xml",stpxz:"model/step-xml+zip",stpz:"model/step+zip",styl:"text/stylus",stylus:"text/stylus",svg:"image/svg+xml",svgz:"image/svg+xml",swidtag:"application/swid+xml",t:"text/troff",t38:"image/t38",td:"application/urc-targetdesc+xml",tei:"application/tei+xml",teicorpus:"application/tei+xml",text:"text/plain",tfi:"application/thraud+xml",tfx:"image/tiff-fx",tif:"image/tiff",tiff:"image/tiff",toml:"application/toml",tr:"text/troff",trig:"application/trig",ts:"video/mp2t",tsd:"application/timestamped-data",tsv:"text/tab-separated-values",ttc:"font/collection",ttf:"font/ttf",ttl:"text/turtle",ttml:"application/ttml+xml",txt:"text/plain",u3d:"model/u3d",u8dsn:"message/global-delivery-status",u8hdr:"message/global-headers",u8mdn:"message/global-disposition-notification",u8msg:"message/global",ubj:"application/ubjson",uri:"text/uri-list",uris:"text/uri-list",urls:"text/uri-list",vcard:"text/vcard",vrml:"model/vrml",vtt:"text/vtt",vxml:"application/voicexml+xml",war:"application/java-archive",wasm:"application/wasm",wav:"audio/wav",weba:"audio/webm",webm:"video/webm",webmanifest:"application/manifest+json",webp:"image/webp",wgsl:"text/wgsl",wgt:"application/widget",wif:"application/watcherinfo+xml",wmf:"image/wmf",woff:"font/woff",woff2:"font/woff2",wrl:"model/vrml",wsdl:"application/wsdl+xml",wspolicy:"application/wspolicy+xml",x3d:"model/x3d+xml",x3db:"model/x3d+fastinfoset",x3dbz:"model/x3d+binary",x3dv:"model/x3d-vrml",x3dvz:"model/x3d+vrml",x3dz:"model/x3d+xml",xaml:"application/xaml+xml",xav:"application/xcap-att+xml",xca:"application/xcap-caps+xml",xcs:"application/calendar+xml",xdf:"application/xcap-diff+xml",xdssc:"application/dssc+xml",xel:"application/xcap-el+xml",xenc:"application/xenc+xml",xer:"application/patch-ops-error+xml",xfdf:"application/xfdf",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xhvml:"application/xv+xml",xlf:"application/xliff+xml",xm:"audio/xm",xml:"text/xml",xns:"application/xcap-ns+xml",xop:"application/xop+xml",xpl:"application/xproc+xml",xsd:"application/xml",xsf:"application/prs.xsf+xml",xsl:"application/xml",xslt:"application/xml",xspf:"application/xspf+xml",xvm:"application/xv+xml",xvml:"application/xv+xml",yaml:"text/yaml",yang:"application/yang",yin:"application/yin+xml",yml:"text/yaml",zip:"application/zip"};function zi(a){let i=(""+a).trim().toLowerCase(),t=i.lastIndexOf(".");return Mi[~t?i.substring(++t):i]}const Ji=a=>{let i=["B","KB","MB","GB","PB"],t=0;for(;a>1024;)a/=1024,t++;let o=i[t];return a.toFixed(1)+" "+o},Yi=()=>!0;function Bi(a,{autoplay:i}){async function t(){i&&await a.play()}return a.addEventListener("loadeddata",t),{destroy(){a.removeEventListener("loadeddata",t)}}}async function Zi(){const a=new Si,i="https://unpkg.com/@ffmpeg/core@0.12.4/dist/esm";return await a.load({coreURL:await W(`${i}/ffmpeg-core.js`,"text/javascript"),wasmURL:await W(`${i}/ffmpeg-core.wasm`,"application/wasm")}),a}async function Qi(a,i,t,o){const e=o.src,c=zi(o.src)||"video/mp4",x=await W(e,c),g=await(await fetch(x)).blob(),b=Ci(c)||"mp4",j=`input.${b}`,n=`output.${b}`;try{if(i===0&&t===0)return g;await a.writeFile(j,new Uint8Array(await g.arrayBuffer()));let d=["-i",j,...i!==0?["-ss",i.toString()]:[],...t!==0?["-to",t.toString()]:[],"-c:a","copy",n];await a.exec(d);const w=await a.readFile(n);return new Blob([w],{type:`video/${b}`})}catch(d){return console.error("Error initializing FFmpeg:",d),g}}const Ci=a=>({"video/mp4":"mp4","video/webm":"webm","video/ogg":"ogv","video/quicktime":"mov","video/x-msvideo":"avi","video/x-matroska":"mkv","video/mpeg":"mpeg","video/3gpp":"3gp","video/3gpp2":"3g2","video/h261":"h261","video/h263":"h263","video/h264":"h264","video/jpeg":"jpgv","video/jpm":"jpm","video/mj2":"mj2","video/mpv":"mpv","video/vnd.ms-playready.media.pyv":"pyv","video/vnd.uvvu.mp4":"uvu","video/vnd.vivo":"viv","video/x-f4v":"f4v","video/x-fli":"fli","video/x-flv":"flv","video/x-m4v":"m4v","video/x-ms-asf":"asf","video/x-ms-wm":"wm","video/x-ms-wmv":"wmv","video/x-ms-wmx":"wmx","video/x-ms-wvx":"wvx","video/x-sgi-movie":"movie","video/x-smv":"smv"})[a]||null;function Pi(a){let i,t='<span class="load-wrap svelte-1y0s5gv"><span class="loader svelte-1y0s5gv"></span></span>',o,e,c,x,u=!1,g,b=!0,j,n,d,w;const R=a[18].default,f=ni(R,a,a[17],null);function A(){cancelAnimationFrame(g),e.paused||(g=Li(A),u=!0),a[20].call(e)}return{c(){i=G("div"),i.innerHTML=t,o=mi(),e=G("video"),f&&f.c(),this.h()},l(s){i=F(s,"DIV",{class:!0,"data-svelte-h":!0}),ci(i)!=="svelte-mez4j5"&&(i.innerHTML=t),o=ri(s),e=F(s,"VIDEO",{src:!0,preload:!0,"data-testid":!0,crossorigin:!0});var r=di(e);f&&f.l(r),r.forEach(q),this.h()},h(){L(i,"class","overlay svelte-1y0s5gv"),X(i,"hidden",!a[10]),K(e.src,c=a[11])||L(e,"src",c),e.muted=a[4],e.playsInline=a[5],L(e,"preload",a[6]),e.autoplay=a[7],e.controls=a[8],e.loop=a[9],L(e,"data-testid",x=a[13]["data-testid"]),L(e,"crossorigin","anonymous"),a[2]===void 0&&fi(()=>a[21].call(e))},m(s,r){V(s,i,r),V(s,o,r),V(s,e,r),f&&f.m(e,null),a[23](e),n=!0,d||(w=[h(e,"loadeddata",a[12].bind(null,"loadeddata")),h(e,"click",a[12].bind(null,"click")),h(e,"play",a[12].bind(null,"play")),h(e,"pause",a[12].bind(null,"pause")),h(e,"ended",a[12].bind(null,"ended")),h(e,"mouseover",a[12].bind(null,"mouseover")),h(e,"mouseout",a[12].bind(null,"mouseout")),h(e,"focus",a[12].bind(null,"focus")),h(e,"blur",a[12].bind(null,"blur")),h(e,"load",a[19]),h(e,"timeupdate",A),h(e,"durationchange",a[21]),h(e,"play",a[22]),h(e,"pause",a[22]),xi(j=Bi.call(null,e,{autoplay:a[7]??!1}))],d=!0)},p(s,[r]){(!n||r&1024)&&X(i,"hidden",!s[10]),f&&f.p&&(!n||r&131072)&&ui(f,R,s,s[17],n?vi(R,s[17],r,null):gi(s[17]),null),(!n||r&2048&&!K(e.src,c=s[11]))&&L(e,"src",c),(!n||r&16)&&(e.muted=s[4]),(!n||r&32)&&(e.playsInline=s[5]),(!n||r&64)&&L(e,"preload",s[6]),(!n||r&128)&&(e.autoplay=s[7]),(!n||r&256)&&(e.controls=s[8]),(!n||r&512)&&(e.loop=s[9]),(!n||r&8192&&x!==(x=s[13]["data-testid"]))&&L(e,"data-testid",x),!u&&r&2&&!isNaN(s[1])&&(e.currentTime=s[1]),u=!1,r&8&&b!==(b=s[3])&&e[b?"pause":"play"](),j&&hi(j.update)&&r&128&&j.update.call(null,{autoplay:s[7]??!1})},i(s){n||(_i(f,s),n=!0)},o(s){ki(f,s),n=!1},d(s){s&&(q(i),q(o),q(e)),f&&f.d(s),a[23](null),d=!1,Ei(w)}}}function Vi(a,i,t){let{$$slots:o={},$$scope:e}=i,{src:c=void 0}=i,{muted:x=void 0}=i,{playsinline:u=void 0}=i,{preload:g=void 0}=i,{autoplay:b=void 0}=i,{controls:j=void 0}=i,{currentTime:n=void 0}=i,{duration:d=void 0}=i,{paused:w=void 0}=i,{node:R=void 0}=i,{loop:f}=i,{is_stream:A}=i,{processingVideo:s=!1}=i,r,M=!1,z;const Z=bi();function Q(l,B,C){if(!(!l||!B)&&C&&N.isSupported()&&!M){const O=new N({maxBufferLength:1,maxMaxBufferLength:1,lowLatencyMode:!0});O.loadSource(l),O.attachMedia(C),O.on(N.Events.MANIFEST_PARSED,function(){C.play()}),O.on(N.Events.ERROR,function(oi,P){if(console.error("HLS error:",oi,P),P.fatal)switch(P.type){case N.ErrorTypes.NETWORK_ERROR:console.error("Fatal network error encountered, trying to recover"),O.startLoad();break;case N.ErrorTypes.MEDIA_ERROR:console.error("Fatal media error encountered, trying to recover"),O.recoverMediaError();break;default:console.error("Fatal error, cannot recover"),O.destroy();break}}),M=!0}}function $(l){ji.call(this,a,l)}function ii(){n=this.currentTime,t(1,n)}function ai(){d=this.duration,t(2,d)}function ti(){w=this.paused,t(3,w)}function ei(l){wi[l?"unshift":"push"](()=>{R=l,t(0,R)})}return a.$$set=l=>{t(13,i=J(J({},i),Y(l))),"src"in l&&t(14,c=l.src),"muted"in l&&t(4,x=l.muted),"playsinline"in l&&t(5,u=l.playsinline),"preload"in l&&t(6,g=l.preload),"autoplay"in l&&t(7,b=l.autoplay),"controls"in l&&t(8,j=l.controls),"currentTime"in l&&t(1,n=l.currentTime),"duration"in l&&t(2,d=l.duration),"paused"in l&&t(3,w=l.paused),"node"in l&&t(0,R=l.node),"loop"in l&&t(9,f=l.loop),"is_stream"in l&&t(15,A=l.is_stream),"processingVideo"in l&&t(10,s=l.processingVideo),"$$scope"in l&&t(17,e=l.$$scope)},a.$$.update=()=>{if(a.$$.dirty&81920){t(11,r=c),t(16,z=c);const l=c;Di(l).then(B=>{z===l&&t(11,r=B)})}a.$$.dirty&16384&&(M=!1),a.$$.dirty&49153&&Q(c,A,R)},i=Y(i),[R,n,d,w,x,u,g,b,j,f,s,r,Z,i,c,A,z,e,o,$,ii,ai,ti,ei]}class $i extends yi{constructor(i){super(),Ri(this,i,Vi,Pi,si,{src:14,muted:4,playsinline:5,preload:6,autoplay:7,controls:8,currentTime:1,duration:2,paused:3,node:0,loop:9,is_stream:15,processingVideo:10})}}export{$i as V,Yi as a,Zi as b,Bi as l,Ji as p,Qi as t};
