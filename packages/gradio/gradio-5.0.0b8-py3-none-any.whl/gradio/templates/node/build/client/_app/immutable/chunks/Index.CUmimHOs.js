const __vite__fileDeps=["./vega-embed.module.Chxw61z-.js","./2.CFhpxp2a.js","./preload-helper.D6kgxu3v.js","./scheduler.C_sdfy-5.js","./index.D_Dnc2IG.js","./entry.C_fLXhM2.js","./stores.DucsTKqw.js","../assets/2.BXpqfeer.css","./dsv.DB8NKgIY.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as De}from"./preload-helper.D6kgxu3v.js";import{s as Be,J as Ne,a as ne,z as K,g as ae,i as O,f as v,w as qe,B as Me,t as Fe,d as Pe,j as ze,e as Ee,c as Se,b as Ce,r as Oe,n as ye,h as Re}from"./scheduler.C_sdfy-5.js";import{S as He,i as Ue,c as I,a as D,m as B,t as k,b as P,d as N,g as ke,e as ve}from"./index.D_Dnc2IG.js";import{B as Je,f as Xe,c as Ye,b as Ge,d as Ke}from"./2.CFhpxp2a.js";import{E as Qe}from"./Empty.DFzkRrVJ.js";import{L as Ze}from"./LineChart.C0QIqQMT.js";function we(o){let e,t;const i=[{autoscroll:o[3].autoscroll},{i18n:o[3].i18n},o[11]];let a={};for(let n=0;n<i.length;n+=1)a=Me(a,i[n]);return e=new Ye({props:a}),e.$on("clear_status",o[39]),{c(){I(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,f){B(e,n,f),t=!0},p(n,f){const m=f[0]&2056?Ge(i,[f[0]&8&&{autoscroll:n[3].autoscroll},f[0]&8&&{i18n:n[3].i18n},f[0]&2048&&Ke(n[11])]):{};e.$set(m)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){N(e,n)}}}function pe(o){let e;return{c(){e=Fe(o[4])},l(t){e=Pe(t,o[4])},m(t,i){O(t,e,i)},p(t,i){i[0]&16&&ze(e,t[4])},d(t){t&&v(e)}}}function $e(o){let e,t;return e=new Qe({props:{unpadded_box:!0,$$slots:{default:[tt]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,a){B(e,i,a),t=!0},p(i,a){const n={};a[1]&16777216&&(n.$$scope={dirty:a,ctx:i}),e.$set(n)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){P(e.$$.fragment,i),t=!1},d(i){N(e,i)}}}function et(o){let e,t,i,a=o[2]&&xe(o);return{c(){e=Ee("div"),t=ne(),a&&a.c(),i=K(),this.h()},l(n){e=Se(n,"DIV",{class:!0}),Ce(e).forEach(v),t=ae(n),a&&a.l(n),i=K(),this.h()},h(){Oe(e,"class","svelte-10k9m4v")},m(n,f){O(n,e,f),o[40](e),O(n,t,f),a&&a.m(n,f),O(n,i,f)},p(n,f){n[2]?a?a.p(n,f):(a=xe(n),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null)},i:ye,o:ye,d(n){n&&(v(e),v(t),v(i)),o[40](null),a&&a.d(n)}}}function tt(o){let e,t;return e=new Ze({}),{c(){I(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,a){B(e,i,a),t=!0},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){P(e.$$.fragment,i),t=!1},d(i){N(e,i)}}}function xe(o){let e,t;return{c(){e=Ee("p"),t=Fe(o[2]),this.h()},l(i){e=Se(i,"P",{class:!0});var a=Ce(e);t=Pe(a,o[2]),a.forEach(v),this.h()},h(){Oe(e,"class","caption svelte-10k9m4v")},m(i,a){O(i,e,a),Re(e,t)},p(i,a){a[0]&4&&ze(t,i[2])},d(i){i&&v(e)}}}function lt(o){let e,t,i,a,n,f,m,r=o[11]&&we(o);t=new Xe({props:{root:o[1],show_label:o[8],info:void 0,$$slots:{default:[pe]},$$scope:{ctx:o}}});const d=[et,$e],_=[];function c(s,u){return s[0]&&s[14]?0:1}return a=c(o),n=_[a]=d[a](o),{c(){r&&r.c(),e=ne(),I(t.$$.fragment),i=ne(),n.c(),f=K()},l(s){r&&r.l(s),e=ae(s),D(t.$$.fragment,s),i=ae(s),n.l(s),f=K()},m(s,u){r&&r.m(s,u),O(s,e,u),B(t,s,u),O(s,i,u),_[a].m(s,u),O(s,f,u),m=!0},p(s,u){s[11]?r?(r.p(s,u),u[0]&2048&&k(r,1)):(r=we(s),r.c(),k(r,1),r.m(e.parentNode,e)):r&&(ke(),P(r,1,1,()=>{r=null}),ve());const w={};u[0]&2&&(w.root=s[1]),u[0]&256&&(w.show_label=s[8]),u[0]&16|u[1]&16777216&&(w.$$scope={dirty:u,ctx:s}),t.$set(w);let z=a;a=c(s),a===z?_[a].p(s,u):(ke(),P(_[z],1,1,()=>{_[z]=null}),ve(),n=_[a],n?n.p(s,u):(n=_[a]=d[a](s),n.c()),k(n,1),n.m(f.parentNode,f))},i(s){m||(k(r),k(t.$$.fragment,s),k(n),m=!0)},o(s){P(r),P(t.$$.fragment,s),P(n),m=!1},d(s){s&&(v(e),v(i),v(f)),r&&r.d(s),N(t,s),_[a].d(s)}}}function it(o){let e,t;return e=new Je({props:{visible:o[7],elem_id:o[5],elem_classes:o[6],scale:o[9],min_width:o[10],allow_overflow:!1,padding:!0,height:o[12],$$slots:{default:[lt]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,a){B(e,i,a),t=!0},p(i,a){const n={};a[0]&128&&(n.visible=i[7]),a[0]&32&&(n.elem_id=i[5]),a[0]&64&&(n.elem_classes=i[6]),a[0]&512&&(n.scale=i[9]),a[0]&1024&&(n.min_width=i[10]),a[0]&4096&&(n.height=i[12]),a[0]&10527|a[1]&16777216&&(n.$$scope={dirty:a,ctx:i}),e.$set(n)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){P(e.$$.fragment,i),t=!1},d(i){N(e,i)}}}function nt(o,e,t){let i,a,n,f,m,{value:r}=e,{x:d}=e,{y:_}=e,{color:c=null}=e,{root:s}=e,{title:u=null}=e,{x_title:w=null}=e,{y_title:z=null}=e,{color_title:Q=null}=e,{x_bin:x=null}=e,{y_aggregate:T=void 0}=e,{color_map:q=null}=e,{x_lim:A=null}=e,{y_lim:M=null}=e,{x_label_angle:R=null}=e,{y_label_angle:H=null}=e,{x_axis_labels_visible:U=!0}=e,{caption:oe=null}=e,{sort:Z=null}=e;function We(l){if(l==="x")return"ascending";if(l==="-x")return"descending";if(l==="y")return{field:_,order:"ascending"};if(l==="-y")return{field:_,order:"descending"};if(l===null)return;if(Array.isArray(l))return l}let{_selectable:J=!1}=e,X,{gradio:L}=e,E,p=!1;const Ae={s:1,m:60,h:60*60,d:24*60*60};let j,V;function Le(l){let b=l.columns.indexOf(d),C=l.columns.indexOf(_),y=c?l.columns.indexOf(c):null;return l.data.map(F=>{const h={[d]:F[b],[_]:F[C]};return c&&y!==null&&(h[c]=F[y]),h})}const Ve=typeof window<"u";let g,S,$=!1,re,Y,ee;async function se(){if(S&&S.finalize(),!r||!g)return;re=g.offsetWidth;const l=Te();l&&(Y=new ResizeObserver(b=>{!b[0].target||!(b[0].target instanceof HTMLElement)||(re===0&&g.offsetWidth!==0&&r.datatypes[d]==="nominal"?se():S.signal("width",b[0].target.offsetWidth).run())}),ee||(ee=(await De(()=>import("./vega-embed.module.Chxw61z-.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)).default),ee(g,l,{actions:!1}).then(function(b){S=b.view,Y.observe(g);var C;S.addEventListener("dblclick",()=>{L.dispatch("double_click")}),g.addEventListener("mousedown",function(y){y.detail>1&&y.preventDefault()},!1),J&&S.addSignalListener("brush",function(y,F){if(Object.keys(F).length===0)return;clearTimeout(C);let h=F[Object.keys(F)[0]];n&&(h=[h[0]/1e3,h[1]/1e3]),p?G=()=>{L.dispatch("select",{value:h,index:h,selected:!0})}:C=setTimeout(function(){L.dispatch("select",{value:h,index:h,selected:!0})},250)})}))}let G=null;Ne(()=>(t(36,$=!0),g.addEventListener("mousedown",()=>{p=!0}),g.addEventListener("mouseup",()=>{p=!1,G&&(G(),G=null)}),()=>{t(36,$=!1),S&&S.finalize(),Y&&Y.disconnect()}));function Te(){if(!r||!m)return null;let l=m.getPropertyValue("--color-accent"),b=m.getPropertyValue("--body-text-color"),C=m.getPropertyValue("--border-color-primary"),y=m.fontFamily,F=m.getPropertyValue("--block-title-text-weight");const h=W=>W.endsWith("px")?parseFloat(W.slice(0,-2)):12;let he=h(m.getPropertyValue("--text-md")),le=h(m.getPropertyValue("--text-sm"));return{$schema:"https://vega.github.io/schema/vega-lite/v5.17.0.json",background:"transparent",config:{autosize:{type:"fit",contains:"padding"},axis:{labelFont:y,labelColor:b,titleFont:y,titleColor:b,titlePadding:8,tickColor:C,labelFontSize:le,gridColor:C,titleFontWeight:"normal",titleFontSize:le,labelFontWeight:"normal",domain:!1,labelAngle:0},legend:{labelColor:b,labelFont:y,titleColor:b,titleFont:y,titleFontWeight:"normal",titleFontSize:le,labelFontWeight:"normal",offset:2},title:{color:b,font:y,fontSize:he,fontWeight:F,anchor:"middle"},view:{stroke:C},mark:{stroke:r.mark!=="bar"?l:void 0,fill:r.mark==="bar"?l:void 0,cursor:"crosshair"}},data:{name:"data"},datasets:{data:X},layer:["plot",...r.mark==="line"?["hover"]:[]].map(W=>({encoding:{size:r.mark==="line"?W=="plot"?{condition:{empty:!1,param:"hoverPlot",value:3},value:2}:{condition:{empty:!1,param:"hover",value:100},value:0}:void 0,opacity:W==="plot"?void 0:{condition:{empty:!1,param:"hover",value:1},value:0},x:{axis:{...R!==null&&{labelAngle:R},labels:U,ticks:U},field:d,title:w||d,type:r.datatypes[d],scale:f?{domain:f}:void 0,bin:E?{step:E}:void 0,sort:a},y:{axis:H?{labelAngle:H}:{},field:_,title:z||_,type:r.datatypes[_],scale:M?{domain:M}:void 0,aggregate:V?j:void 0},color:c?{field:c,legend:{orient:"bottom",title:Q},scale:r.datatypes[c]==="nominal"?{domain:i,range:q?i.map(ie=>q[ie]):void 0}:{range:[100,200,300,400,500,600,700,800,900].map(ie=>m.getPropertyValue("--primary-"+ie)),interpolate:"hsl"},type:r.datatypes[c]}:void 0,tooltip:[{field:_,type:r.datatypes[_],aggregate:V?j:void 0,title:z||_},{field:d,type:r.datatypes[d],title:w||d,format:n?"%Y-%m-%d %H:%M:%S":void 0,bin:E?{step:E}:void 0},...c?[{field:c,type:r.datatypes[c]}]:[]]},strokeDash:{},mark:{clip:!0,type:W==="hover"?"point":r.mark},name:W})),params:[...r.mark==="line"?[{name:"hoverPlot",select:{clear:"mouseout",fields:c?[c]:[],nearest:!0,on:"mouseover",type:"point"},views:["hover"]},{name:"hover",select:{clear:"mouseout",nearest:!0,on:"mouseover",type:"point"},views:["hover"]}]:[],...J?[{name:"brush",select:{encodings:["x"],mark:{fill:"gray",fillOpacity:.3,stroke:"none"},type:"interval"},views:["plot"]}]:[]],width:g.offsetWidth,title:u||void 0}}let{label:fe="Textbox"}=e,{elem_id:_e=""}=e,{elem_classes:ce=[]}=e,{visible:ue=!0}=e,{show_label:me}=e,{scale:de=null}=e,{min_width:ge=void 0}=e,{loading_status:te=void 0}=e,{height:be=void 0}=e;const je=()=>L.dispatch("clear_status",te);function Ie(l){qe[l?"unshift":"push"](()=>{g=l,t(13,g)})}return o.$$set=l=>{"value"in l&&t(0,r=l.value),"x"in l&&t(15,d=l.x),"y"in l&&t(16,_=l.y),"color"in l&&t(17,c=l.color),"root"in l&&t(1,s=l.root),"title"in l&&t(18,u=l.title),"x_title"in l&&t(19,w=l.x_title),"y_title"in l&&t(20,z=l.y_title),"color_title"in l&&t(21,Q=l.color_title),"x_bin"in l&&t(22,x=l.x_bin),"y_aggregate"in l&&t(23,T=l.y_aggregate),"color_map"in l&&t(24,q=l.color_map),"x_lim"in l&&t(25,A=l.x_lim),"y_lim"in l&&t(26,M=l.y_lim),"x_label_angle"in l&&t(27,R=l.x_label_angle),"y_label_angle"in l&&t(28,H=l.y_label_angle),"x_axis_labels_visible"in l&&t(29,U=l.x_axis_labels_visible),"caption"in l&&t(2,oe=l.caption),"sort"in l&&t(30,Z=l.sort),"_selectable"in l&&t(31,J=l._selectable),"gradio"in l&&t(3,L=l.gradio),"label"in l&&t(4,fe=l.label),"elem_id"in l&&t(5,_e=l.elem_id),"elem_classes"in l&&t(6,ce=l.elem_classes),"visible"in l&&t(7,ue=l.visible),"show_label"in l&&t(8,me=l.show_label),"scale"in l&&t(9,de=l.scale),"min_width"in l&&t(10,ge=l.min_width),"loading_status"in l&&t(11,te=l.loading_status),"height"in l&&t(12,be=l.height)},o.$$.update=()=>{o.$$.dirty[0]&1&&t(32,X=r?Le(r):[]),o.$$.dirty[0]&131073|o.$$.dirty[1]&2&&(i=c&&r&&r.datatypes[c]==="nominal"?Array.from(new Set(X.map(l=>l[c]))):[]),o.$$.dirty[0]&1073741824&&(a=We(Z)),o.$$.dirty[0]&32769&&t(37,n=r&&r.datatypes[d]==="temporal"),o.$$.dirty[0]&33554432|o.$$.dirty[1]&64&&(f=A&&n?[A[0]*1e3,A[1]*1e3]:A),o.$$.dirty[0]&4194304&&t(33,E=x?typeof x=="string"?1e3*parseInt(x.substring(0,x.length-1))*Ae[x[x.length-1]]:x:void 0),o.$$.dirty[0]&8421377|o.$$.dirty[1]&20&&r&&(r.mark==="point"?(t(35,V=E!==void 0),t(34,j=T||V?"sum":void 0)):(t(35,V=E!==void 0||r.datatypes[d]==="nominal"),t(34,j=T||"sum"))),o.$$.dirty[0]&8192&&t(38,m=g?window.getComputedStyle(g):null),o.$$.dirty[0]&1199546373|o.$$.dirty[1]&168&&m&&requestAnimationFrame(se)},[r,s,oe,L,fe,_e,ce,ue,me,de,ge,te,be,g,Ve,d,_,c,u,w,z,Q,x,T,q,A,M,R,H,U,Z,J,X,E,j,V,$,n,m,je,Ie]}class ct extends He{constructor(e){super(),Ue(this,e,nt,it,Be,{value:0,x:15,y:16,color:17,root:1,title:18,x_title:19,y_title:20,color_title:21,x_bin:22,y_aggregate:23,color_map:24,x_lim:25,y_lim:26,x_label_angle:27,y_label_angle:28,x_axis_labels_visible:29,caption:2,sort:30,_selectable:31,gradio:3,label:4,elem_id:5,elem_classes:6,visible:7,show_label:8,scale:9,min_width:10,loading_status:11,height:12},null,[-1,-1])}}export{ct as default};
