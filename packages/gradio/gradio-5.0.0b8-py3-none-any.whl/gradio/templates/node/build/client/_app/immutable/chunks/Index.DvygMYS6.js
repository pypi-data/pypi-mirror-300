import{s as ie,e as N,t as G,a as T,c as I,b as M,d as K,f as v,g as O,r as d,v as P,E as H,i as V,h as g,j as y,n as $,y as ue,z as W,Q as _e,F as de,B as me}from"./scheduler.C_sdfy-5.js";import{S as re,i as ce,c as C,a as J,m as q,t as D,b as B,d as z,g as x,e as ee}from"./index.D_Dnc2IG.js";import{e as le,B as be,c as he,b as ge,d as ve}from"./2.CFhpxp2a.js";import{L as oe}from"./LineChart.C0QIqQMT.js";import{B as ke}from"./BlockLabel.RrZy2lJ2.js";import{E as we}from"./Empty.DFzkRrVJ.js";function ae(n,l,t){const e=n.slice();return e[5]=l[t],e[7]=t,e}function te(n){let l,t=le(n[0].confidences),e=[];for(let a=0;a<t.length;a+=1)e[a]=ne(ae(n,t,a));return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=W()},l(a){for(let s=0;s<e.length;s+=1)e[s].l(a);l=W()},m(a,s){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(a,s);V(a,l,s)},p(a,s){if(s&13){t=le(a[0].confidences);let i;for(i=0;i<t.length;i+=1){const f=ae(a,t,i);e[i]?e[i].p(f,s):(e[i]=ne(f),e[i].c(),e[i].m(l.parentNode,l))}for(;i<e.length;i+=1)e[i].d(1);e.length=t.length}},d(a){a&&v(l),_e(e,a)}}}function ne(n){let l,t,e,a,s,i,f,u,m,c,E=n[5].label+"",b,L,r,_,k,w=Math.round(n[5].confidence*100)+"",j,F,o,Q,X,p;function fe(){return n[4](n[7],n[5])}return{c(){l=N("button"),t=N("div"),e=N("meter"),u=T(),m=N("dl"),c=N("dt"),b=G(E),L=T(),_=N("div"),k=N("dd"),j=G(w),F=G("%"),o=T(),this.h()},l(S){l=I(S,"BUTTON",{class:!0,"data-testid":!0});var h=M(l);t=I(h,"DIV",{class:!0});var R=M(t);e=I(R,"METER",{"aria-labelledby":!0,"aria-label":!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0,class:!0,min:!0,max:!0,style:!0}),M(e).forEach(v),u=O(R),m=I(R,"DL",{class:!0});var U=M(m);c=I(U,"DT",{id:!0,class:!0});var Y=M(c);b=K(Y,E),L=O(Y),Y.forEach(v),_=I(U,"DIV",{class:!0}),M(_).forEach(v),k=I(U,"DD",{class:!0});var Z=M(k);j=K(Z,w),F=K(Z,"%"),Z.forEach(v),U.forEach(v),R.forEach(v),o=O(h),h.forEach(v),this.h()},h(){d(e,"aria-labelledby",a=A(`meter-text-${n[5].label}`)),d(e,"aria-label",s=n[5].label),d(e,"aria-valuenow",i=Math.round(n[5].confidence*100)),d(e,"aria-valuemin","0"),d(e,"aria-valuemax","100"),d(e,"class","bar svelte-1l15rn0"),d(e,"min","0"),d(e,"max","1"),e.value=f=n[5].confidence,H(e,"width",n[5].confidence*100+"%"),H(e,"background","var(--stat-background-fill)"),d(c,"id",r=A(`meter-text-${n[5].label}`)),d(c,"class","text svelte-1l15rn0"),d(_,"class","line svelte-1l15rn0"),d(k,"class","confidence svelte-1l15rn0"),d(m,"class","label svelte-1l15rn0"),d(t,"class","inner-wrap svelte-1l15rn0"),d(l,"class","confidence-set group svelte-1l15rn0"),d(l,"data-testid",Q=`${n[5].label}-confidence-set`),P(l,"selectable",n[2])},m(S,h){V(S,l,h),g(l,t),g(t,e),g(t,u),g(t,m),g(m,c),g(c,b),g(c,L),g(m,_),g(m,k),g(k,j),g(k,F),g(l,o),X||(p=de(l,"click",fe),X=!0)},p(S,h){n=S,h&1&&a!==(a=A(`meter-text-${n[5].label}`))&&d(e,"aria-labelledby",a),h&1&&s!==(s=n[5].label)&&d(e,"aria-label",s),h&1&&i!==(i=Math.round(n[5].confidence*100))&&d(e,"aria-valuenow",i),h&1&&f!==(f=n[5].confidence)&&(e.value=f),h&1&&H(e,"width",n[5].confidence*100+"%"),h&1&&E!==(E=n[5].label+"")&&y(b,E),h&1&&r!==(r=A(`meter-text-${n[5].label}`))&&d(c,"id",r),h&1&&w!==(w=Math.round(n[5].confidence*100)+"")&&y(j,w),h&1&&Q!==(Q=`${n[5].label}-confidence-set`)&&d(l,"data-testid",Q),h&4&&P(l,"selectable",n[2])},d(S){S&&v(l),X=!1,p()}}}function Ee(n){let l,t,e=n[0].label+"",a,s,i=typeof n[0]=="object"&&n[0].confidences&&te(n);return{c(){l=N("div"),t=N("h2"),a=G(e),s=T(),i&&i.c(),this.h()},l(f){l=I(f,"DIV",{class:!0});var u=M(l);t=I(u,"H2",{class:!0,"data-testid":!0});var m=M(t);a=K(m,e),m.forEach(v),s=O(u),i&&i.l(u),u.forEach(v),this.h()},h(){d(t,"class","output-class svelte-1l15rn0"),d(t,"data-testid","label-output-value"),P(t,"no-confidence",!("confidences"in n[0])),H(t,"background-color",n[1]||"transparent"),d(l,"class","container svelte-1l15rn0")},m(f,u){V(f,l,u),g(l,t),g(t,a),g(l,s),i&&i.m(l,null)},p(f,[u]){u&1&&e!==(e=f[0].label+"")&&y(a,e),u&1&&P(t,"no-confidence",!("confidences"in f[0])),u&2&&H(t,"background-color",f[1]||"transparent"),typeof f[0]=="object"&&f[0].confidences?i?i.p(f,u):(i=te(f),i.c(),i.m(l,null)):i&&(i.d(1),i=null)},i:$,o:$,d(f){f&&v(l),i&&i.d()}}}function A(n){return n.replace(/\s/g,"-")}function De(n,l,t){let{value:e}=l;const a=ue();let{color:s=void 0}=l,{selectable:i=!1}=l;const f=(u,m)=>{a("select",{index:u,value:m.label})};return n.$$set=u=>{"value"in u&&t(0,e=u.value),"color"in u&&t(1,s=u.color),"selectable"in u&&t(2,i=u.selectable)},[e,s,i,a,f]}class Be extends re{constructor(l){super(),ce(this,l,De,Ee,ie,{value:0,color:1,selectable:2})}}const Le=Be;function se(n){let l,t;return l=new ke({props:{Icon:oe,label:n[6],disable:n[7]===!1}}),{c(){C(l.$$.fragment)},l(e){J(l.$$.fragment,e)},m(e,a){q(l,e,a),t=!0},p(e,a){const s={};a&64&&(s.label=e[6]),a&128&&(s.disable=e[7]===!1),l.$set(s)},i(e){t||(D(l.$$.fragment,e),t=!0)},o(e){B(l.$$.fragment,e),t=!1},d(e){z(l,e)}}}function Ne(n){let l,t;return l=new we({props:{unpadded_box:!0,$$slots:{default:[Me]},$$scope:{ctx:n}}}),{c(){C(l.$$.fragment)},l(e){J(l.$$.fragment,e)},m(e,a){q(l,e,a),t=!0},p(e,a){const s={};a&131072&&(s.$$scope={dirty:a,ctx:e}),l.$set(s)},i(e){t||(D(l.$$.fragment,e),t=!0)},o(e){B(l.$$.fragment,e),t=!1},d(e){z(l,e)}}}function Ie(n){let l,t;return l=new Le({props:{selectable:n[12],value:n[5],color:n[4]}}),l.$on("select",n[16]),{c(){C(l.$$.fragment)},l(e){J(l.$$.fragment,e)},m(e,a){q(l,e,a),t=!0},p(e,a){const s={};a&4096&&(s.selectable=e[12]),a&32&&(s.value=e[5]),a&16&&(s.color=e[4]),l.$set(s)},i(e){t||(D(l.$$.fragment,e),t=!0)},o(e){B(l.$$.fragment,e),t=!1},d(e){z(l,e)}}}function Me(n){let l,t;return l=new oe({}),{c(){C(l.$$.fragment)},l(e){J(l.$$.fragment,e)},m(e,a){q(l,e,a),t=!0},i(e){t||(D(l.$$.fragment,e),t=!0)},o(e){B(l.$$.fragment,e),t=!1},d(e){z(l,e)}}}function Se(n){let l,t,e,a,s,i,f;const u=[{autoscroll:n[0].autoscroll},{i18n:n[0].i18n},n[10]];let m={};for(let r=0;r<u.length;r+=1)m=me(m,u[r]);l=new he({props:m}),l.$on("clear_status",n[15]);let c=n[11]&&se(n);const E=[Ie,Ne],b=[];function L(r,_){return r[13]!==void 0&&r[13]!==null?0:1}return a=L(n),s=b[a]=E[a](n),{c(){C(l.$$.fragment),t=T(),c&&c.c(),e=T(),s.c(),i=W()},l(r){J(l.$$.fragment,r),t=O(r),c&&c.l(r),e=O(r),s.l(r),i=W()},m(r,_){q(l,r,_),V(r,t,_),c&&c.m(r,_),V(r,e,_),b[a].m(r,_),V(r,i,_),f=!0},p(r,_){const k=_&1025?ge(u,[_&1&&{autoscroll:r[0].autoscroll},_&1&&{i18n:r[0].i18n},_&1024&&ve(r[10])]):{};l.$set(k),r[11]?c?(c.p(r,_),_&2048&&D(c,1)):(c=se(r),c.c(),D(c,1),c.m(e.parentNode,e)):c&&(x(),B(c,1,1,()=>{c=null}),ee());let w=a;a=L(r),a===w?b[a].p(r,_):(x(),B(b[w],1,1,()=>{b[w]=null}),ee(),s=b[a],s?s.p(r,_):(s=b[a]=E[a](r),s.c()),D(s,1),s.m(i.parentNode,i))},i(r){f||(D(l.$$.fragment,r),D(c),D(s),f=!0)},o(r){B(l.$$.fragment,r),B(c),B(s),f=!1},d(r){r&&(v(t),v(e),v(i)),z(l,r),c&&c.d(r),b[a].d(r)}}}function je(n){let l,t;return l=new be({props:{test_id:"label",visible:n[3],elem_id:n[1],elem_classes:n[2],container:n[7],scale:n[8],min_width:n[9],padding:!1,$$slots:{default:[Se]},$$scope:{ctx:n}}}),{c(){C(l.$$.fragment)},l(e){J(l.$$.fragment,e)},m(e,a){q(l,e,a),t=!0},p(e,[a]){const s={};a&8&&(s.visible=e[3]),a&2&&(s.elem_id=e[1]),a&4&&(s.elem_classes=e[2]),a&128&&(s.container=e[7]),a&256&&(s.scale=e[8]),a&512&&(s.min_width=e[9]),a&146673&&(s.$$scope={dirty:a,ctx:e}),l.$set(s)},i(e){t||(D(l.$$.fragment,e),t=!0)},o(e){B(l.$$.fragment,e),t=!1},d(e){z(l,e)}}}function Te(n,l,t){let e,{gradio:a}=l,{elem_id:s=""}=l,{elem_classes:i=[]}=l,{visible:f=!0}=l,{color:u=void 0}=l,{value:m={}}=l,c=null,{label:E=a.i18n("label.label")}=l,{container:b=!0}=l,{scale:L=null}=l,{min_width:r=void 0}=l,{loading_status:_}=l,{show_label:k=!0}=l,{_selectable:w=!1}=l;const j=()=>a.dispatch("clear_status",_),F=({detail:o})=>a.dispatch("select",o);return n.$$set=o=>{"gradio"in o&&t(0,a=o.gradio),"elem_id"in o&&t(1,s=o.elem_id),"elem_classes"in o&&t(2,i=o.elem_classes),"visible"in o&&t(3,f=o.visible),"color"in o&&t(4,u=o.color),"value"in o&&t(5,m=o.value),"label"in o&&t(6,E=o.label),"container"in o&&t(7,b=o.container),"scale"in o&&t(8,L=o.scale),"min_width"in o&&t(9,r=o.min_width),"loading_status"in o&&t(10,_=o.loading_status),"show_label"in o&&t(11,k=o.show_label),"_selectable"in o&&t(12,w=o._selectable)},n.$$.update=()=>{n.$$.dirty&16417&&JSON.stringify(m)!==JSON.stringify(c)&&(t(14,c=m),a.dispatch("change")),n.$$.dirty&32&&t(13,e=m.label)},[a,s,i,f,u,m,E,b,L,r,_,k,w,e,c,j,F]}class Fe extends re{constructor(l){super(),ce(this,l,Te,je,ie,{gradio:0,elem_id:1,elem_classes:2,visible:3,color:4,value:5,label:6,container:7,scale:8,min_width:9,loading_status:10,show_label:11,_selectable:12})}}export{Le as BaseLabel,Fe as default};
