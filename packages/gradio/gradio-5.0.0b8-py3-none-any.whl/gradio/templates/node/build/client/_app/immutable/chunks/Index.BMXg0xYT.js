import{s as te,y as ie,B as ae,a as se,z as H,g as oe,i as J,f as K,w as M,L as O}from"./scheduler.C_sdfy-5.js";import{S as _e,i as fe,c as k,a as j,m as B,t as d,b as w,d as z,g as ue,e as re,f as P}from"./index.D_Dnc2IG.js";import{B as ce,c as he,b as me,d as be}from"./2.CFhpxp2a.js";import{U as de}from"./UploadText.1zctXInI.js";import we from"./Gallery.BW2P63RU.js";import{B as ge}from"./FileUpload.Rmh0KQkg.js";/* empty css                                              */function ve(t){let e,a,l,i;function o(s){t[31](s)}function b(s){t[32](s)}let m={label:t[4],show_label:t[3],columns:t[13],rows:t[14],height:t[15],preview:t[16],object_fit:t[18],interactive:t[20],allow_preview:t[17],show_share_button:t[19],show_download_button:t[21],i18n:t[22].i18n,_fetch:t[30],show_fullscreen_button:t[23]};return t[1]!==void 0&&(m.selected_index=t[1]),t[0]!==void 0&&(m.value=t[0]),e=new we({props:m}),M.push(()=>P(e,"selected_index",o)),M.push(()=>P(e,"value",b)),e.$on("change",t[33]),e.$on("select",t[34]),e.$on("share",t[35]),e.$on("error",t[36]),{c(){k(e.$$.fragment)},l(s){j(e.$$.fragment,s)},m(s,u){B(e,s,u),i=!0},p(s,u){const f={};u[0]&16&&(f.label=s[4]),u[0]&8&&(f.show_label=s[3]),u[0]&8192&&(f.columns=s[13]),u[0]&16384&&(f.rows=s[14]),u[0]&32768&&(f.height=s[15]),u[0]&65536&&(f.preview=s[16]),u[0]&262144&&(f.object_fit=s[18]),u[0]&1048576&&(f.interactive=s[20]),u[0]&131072&&(f.allow_preview=s[17]),u[0]&524288&&(f.show_share_button=s[19]),u[0]&2097152&&(f.show_download_button=s[21]),u[0]&4194304&&(f.i18n=s[22].i18n),u[0]&4194304&&(f._fetch=s[30]),u[0]&8388608&&(f.show_fullscreen_button=s[23]),!a&&u[0]&2&&(a=!0,f.selected_index=s[1],O(()=>a=!1)),!l&&u[0]&1&&(l=!0,f.value=s[0],O(()=>l=!1)),e.$set(f)},i(s){i||(d(e.$$.fragment,s),i=!0)},o(s){w(e.$$.fragment,s),i=!1},d(s){z(e,s)}}}function ke(t){let e,a;return e=new ge({props:{value:null,root:t[5],label:t[4],max_file_size:t[22].max_file_size,file_count:"multiple",file_types:t[9],i18n:t[22].i18n,upload:t[26],stream_handler:t[27],$$slots:{default:[je]},$$scope:{ctx:t}}}),e.$on("upload",t[28]),e.$on("error",t[29]),{c(){k(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,i){B(e,l,i),a=!0},p(l,i){const o={};i[0]&32&&(o.root=l[5]),i[0]&16&&(o.label=l[4]),i[0]&4194304&&(o.max_file_size=l[22].max_file_size),i[0]&512&&(o.file_types=l[9]),i[0]&4194304&&(o.i18n=l[22].i18n),i[0]&4194304&&(o.upload=l[26]),i[0]&4194304&&(o.stream_handler=l[27]),i[0]&4194304|i[1]&128&&(o.$$scope={dirty:i,ctx:l}),e.$set(o)},i(l){a||(d(e.$$.fragment,l),a=!0)},o(l){w(e.$$.fragment,l),a=!1},d(l){z(e,l)}}}function je(t){let e,a;return e=new de({props:{i18n:t[22].i18n,type:"gallery"}}),{c(){k(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,i){B(e,l,i),a=!0},p(l,i){const o={};i[0]&4194304&&(o.i18n=l[22].i18n),e.$set(o)},i(l){a||(d(e.$$.fragment,l),a=!0)},o(l){w(e.$$.fragment,l),a=!1},d(l){z(e,l)}}}function Be(t){let e,a,l,i,o,b;const m=[{autoscroll:t[22].autoscroll},{i18n:t[22].i18n},t[2]];let s={};for(let _=0;_<m.length;_+=1)s=ae(s,m[_]);e=new he({props:s}),e.$on("clear_status",t[25]);const u=[ke,ve],f=[];function c(_,r){return _[20]&&_[24]?0:1}return l=c(t),i=f[l]=u[l](t),{c(){k(e.$$.fragment),a=se(),i.c(),o=H()},l(_){j(e.$$.fragment,_),a=oe(_),i.l(_),o=H()},m(_,r){B(e,_,r),J(_,a,r),f[l].m(_,r),J(_,o,r),b=!0},p(_,r){const S=r[0]&4194308?me(m,[r[0]&4194304&&{autoscroll:_[22].autoscroll},r[0]&4194304&&{i18n:_[22].i18n},r[0]&4&&be(_[2])]):{};e.$set(S);let g=l;l=c(_),l===g?f[l].p(_,r):(ue(),w(f[g],1,1,()=>{f[g]=null}),re(),i=f[l],i?i.p(_,r):(i=f[l]=u[l](_),i.c()),d(i,1),i.m(o.parentNode,o))},i(_){b||(d(e.$$.fragment,_),d(i),b=!0)},o(_){w(e.$$.fragment,_),w(i),b=!1},d(_){_&&(K(a),K(o)),z(e,_),f[l].d(_)}}}function ze(t){let e,a;return e=new ce({props:{visible:t[8],variant:"solid",padding:!1,elem_id:t[6],elem_classes:t[7],container:t[10],scale:t[11],min_width:t[12],allow_overflow:!1,height:typeof t[15]=="number"?t[15]:void 0,$$slots:{default:[Be]},$$scope:{ctx:t}}}),{c(){k(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,i){B(e,l,i),a=!0},p(l,i){const o={};i[0]&256&&(o.visible=l[8]),i[0]&64&&(o.elem_id=l[6]),i[0]&128&&(o.elem_classes=l[7]),i[0]&1024&&(o.container=l[10]),i[0]&2048&&(o.scale=l[11]),i[0]&4096&&(o.min_width=l[12]),i[0]&32768&&(o.height=typeof l[15]=="number"?l[15]:void 0),i[0]&33546815|i[1]&128&&(o.$$scope={dirty:i,ctx:l}),e.$set(o)},i(l){a||(d(e.$$.fragment,l),a=!0)},o(l){w(e.$$.fragment,l),a=!1},d(l){z(e,l)}}}function Se(t,e,a){let l,{loading_status:i}=e,{show_label:o}=e,{label:b}=e,{root:m}=e,{elem_id:s=""}=e,{elem_classes:u=[]}=e,{visible:f=!0}=e,{value:c=null}=e,{file_types:_=["image","video"]}=e,{container:r=!0}=e,{scale:S=null}=e,{min_width:g=void 0}=e,{columns:A=[2]}=e,{rows:G=void 0}=e,{height:q="auto"}=e,{preview:C}=e,{allow_preview:D=!0}=e,{selected_index:v=null}=e,{object_fit:E="cover"}=e,{show_share_button:F=!1}=e,{interactive:I}=e,{show_download_button:L=!1}=e,{gradio:h}=e,{show_fullscreen_button:N=!0}=e;const Q=ie(),R=()=>h.dispatch("clear_status",i),V=(...n)=>h.client.upload(...n),W=(...n)=>h.client.stream(...n),X=n=>{const ne=Array.isArray(n.detail)?n.detail:[n.detail];a(0,c=ne.map(U=>{var T;return(T=U.mime_type)!=null&&T.includes("video")?{video:U,caption:null}:{image:U,caption:null}})),h.dispatch("upload",c)},Y=({detail:n})=>{a(2,i=i||{}),a(2,i.status="error",i),h.dispatch("error",n)},Z=(...n)=>h.client.fetch(...n);function y(n){v=n,a(1,v)}function p(n){c=n,a(0,c)}const x=()=>h.dispatch("change",c),$=n=>h.dispatch("select",n.detail),ee=n=>h.dispatch("share",n.detail),le=n=>h.dispatch("error",n.detail);return t.$$set=n=>{"loading_status"in n&&a(2,i=n.loading_status),"show_label"in n&&a(3,o=n.show_label),"label"in n&&a(4,b=n.label),"root"in n&&a(5,m=n.root),"elem_id"in n&&a(6,s=n.elem_id),"elem_classes"in n&&a(7,u=n.elem_classes),"visible"in n&&a(8,f=n.visible),"value"in n&&a(0,c=n.value),"file_types"in n&&a(9,_=n.file_types),"container"in n&&a(10,r=n.container),"scale"in n&&a(11,S=n.scale),"min_width"in n&&a(12,g=n.min_width),"columns"in n&&a(13,A=n.columns),"rows"in n&&a(14,G=n.rows),"height"in n&&a(15,q=n.height),"preview"in n&&a(16,C=n.preview),"allow_preview"in n&&a(17,D=n.allow_preview),"selected_index"in n&&a(1,v=n.selected_index),"object_fit"in n&&a(18,E=n.object_fit),"show_share_button"in n&&a(19,F=n.show_share_button),"interactive"in n&&a(20,I=n.interactive),"show_download_button"in n&&a(21,L=n.show_download_button),"gradio"in n&&a(22,h=n.gradio),"show_fullscreen_button"in n&&a(23,N=n.show_fullscreen_button)},t.$$.update=()=>{t.$$.dirty[0]&1&&a(24,l=c===null?!0:c.length===0),t.$$.dirty[0]&2&&Q("prop_change",{selected_index:v})},[c,v,i,o,b,m,s,u,f,_,r,S,g,A,G,q,C,D,E,F,I,L,h,N,l,R,V,W,X,Y,Z,y,p,x,$,ee,le]}class Fe extends _e{constructor(e){super(),fe(this,e,Se,ze,te,{loading_status:2,show_label:3,label:4,root:5,elem_id:6,elem_classes:7,visible:8,value:0,file_types:9,container:10,scale:11,min_width:12,columns:13,rows:14,height:15,preview:16,allow_preview:17,selected_index:1,object_fit:18,show_share_button:19,interactive:20,show_download_button:21,gradio:22,show_fullscreen_button:23},null,[-1,-1])}}export{we as BaseGallery,Fe as default};
