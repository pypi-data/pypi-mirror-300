import{B as Hl}from"./Block-Cej-42Jk.js";import"./IconButtonWrapper.svelte_svelte_type_style_lang-CmXUdlCe.js";import{d as me}from"./index-CnqicUFC.js";import{a as Nl}from"./utils-BiWkKWez.js";import{U as Tl}from"./Upload-CEWb8EwI.js";/* empty css                                                   */import"./index-D4gamfFG.js";import{B as el}from"./Button-JtnhNB1X.js";import"./Index.svelte_svelte_type_style_lang-BTHNcV_B.js";import"./StreamingBar.svelte_svelte_type_style_lang-hwxd5zZk.js";import{M as Ol}from"./Example.svelte_svelte_type_style_lang-C7b5efwJ.js";import{d as jl}from"./dsv-DB8NKgIY.js";import{S as Fl}from"./index-DJ6U-TAU.js";import{default as Ns}from"./Example-BT2jlY4j.js";/* empty css                                             */import"./svelte/svelte.js";import"./Check-DE3hxLbD.js";import"./Copy-B6RcHnoK.js";import"./IconButton-C-D_5yDc.js";import"./IconButtonWrapper-KW86tCZp.js";import"./prism-python-Csyhdmzu.js";import"./___vite-browser-external_commonjs-proxy-H0eK8kc3.js";import"./__vite-browser-external-D7Ct-6yo.js";import"./Clear-By3xiIwg.js";const{HtmlTag:Pl,SvelteComponent:Ul,action_destroyer:Jl,attr:pe,binding_callbacks:Wl,bubble:_t,check_outros:Il,create_component:Vl,destroy_component:Kl,detach:Ue,element:tl,empty:Yl,flush:_e,group_outros:Zl,init:Gl,insert:Je,listen:Pe,mount_component:Ql,noop:xe,prevent_default:Xl,run_all:ll,safe_not_equal:xl,set_data:$l,set_input_value:Bt,space:en,text:tn,toggle_class:$e,transition_in:ft,transition_out:ht}=window.__gradio__svelte__internal,{createEventDispatcher:ln}=window.__gradio__svelte__internal;function Ct(n){let e,t,l;return{c(){e=tl("input"),pe(e,"role","textbox"),pe(e,"tabindex","-1"),pe(e,"class","svelte-z9gpua"),$e(e,"header",n[5])},m(s,o){Je(s,e,o),n[19](e),Bt(e,n[11]),t||(l=[Pe(e,"input",n[20]),Pe(e,"blur",n[13]),Jl(n[12].call(null,e)),Pe(e,"keydown",n[18])],t=!0)},p(s,o){o&2048&&e.value!==s[11]&&Bt(e,s[11]),o&32&&$e(e,"header",s[5])},d(s){s&&Ue(e),n[19](null),t=!1,ll(l)}}}function nn(n){let e=(n[9]?n[0]:n[3]||n[0])+"",t;return{c(){t=tn(e)},m(l,s){Je(l,t,s)},p(l,s){s&521&&e!==(e=(l[9]?l[0]:l[3]||l[0])+"")&&$l(t,e)},i:xe,o:xe,d(l){l&&Ue(t)}}}function sn(n){let e,t;return e=new Ol({props:{message:n[0].toLocaleString(),latex_delimiters:n[7],line_breaks:n[8],chatbot:!1,root:n[10]}}),{c(){Vl(e.$$.fragment)},m(l,s){Ql(e,l,s),t=!0},p(l,s){const o={};s&1&&(o.message=l[0].toLocaleString()),s&128&&(o.latex_delimiters=l[7]),s&256&&(o.line_breaks=l[8]),s&1024&&(o.root=l[10]),e.$set(o)},i(l){t||(ft(e.$$.fragment,l),t=!0)},o(l){ht(e.$$.fragment,l),t=!1},d(l){Kl(e,l)}}}function rn(n){let e,t;return{c(){e=new Pl(!1),t=Yl(),e.a=t},m(l,s){e.m(n[0],l,s),Je(l,t,s)},p(l,s){s&1&&e.p(l[0])},i:xe,o:xe,d(l){l&&(Ue(t),e.d())}}}function an(n){let e,t,l,s,o,_,i,r=n[2]&&Ct(n);const h=[rn,sn,nn],u=[];function c(g,d){return g[6]==="html"?0:g[6]==="markdown"?1:2}return l=c(n),s=u[l]=h[l](n),{c(){r&&r.c(),e=en(),t=tl("span"),s.c(),pe(t,"tabindex","-1"),pe(t,"role","button"),pe(t,"style",n[4]),pe(t,"class","svelte-z9gpua"),$e(t,"edit",n[2])},m(g,d){r&&r.m(g,d),Je(g,e,d),Je(g,t,d),u[l].m(t,null),o=!0,_||(i=[Pe(t,"dblclick",n[16]),Pe(t,"focus",Xl(n[17]))],_=!0)},p(g,[d]){g[2]?r?r.p(g,d):(r=Ct(g),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null);let S=l;l=c(g),l===S?u[l].p(g,d):(Zl(),ht(u[S],1,1,()=>{u[S]=null}),Il(),s=u[l],s?s.p(g,d):(s=u[l]=h[l](g),s.c()),ft(s,1),s.m(t,null)),(!o||d&16)&&pe(t,"style",g[4]),(!o||d&4)&&$e(t,"edit",g[2])},i(g){o||(ft(s),o=!0)},o(g){ht(s),o=!1},d(g){g&&(Ue(e),Ue(t)),r&&r.d(g),u[l].d(),_=!1,ll(i)}}}function on(n,e,t){let l,{edit:s}=e,{value:o=""}=e,{display_value:_=null}=e,{styling:i=""}=e,{header:r=!1}=e,{datatype:h="str"}=e,{latex_delimiters:u}=e,{clear_on_focus:c=!1}=e,{select_on_focus:g=!1}=e,{line_breaks:d=!0}=e,{editable:S=!0}=e,{root:C}=e;const D=ln();let{el:N}=e;function E(A){return c&&t(11,l=""),g&&A.select(),A.focus(),{}}function y({currentTarget:A}){t(0,o=A.value),D("blur")}function w(A){_t.call(this,n,A)}function H(A){_t.call(this,n,A)}function p(A){_t.call(this,n,A)}function B(A){Wl[A?"unshift":"push"](()=>{N=A,t(1,N)})}function q(){l=this.value,t(11,l),t(0,o)}return n.$$set=A=>{"edit"in A&&t(2,s=A.edit),"value"in A&&t(0,o=A.value),"display_value"in A&&t(3,_=A.display_value),"styling"in A&&t(4,i=A.styling),"header"in A&&t(5,r=A.header),"datatype"in A&&t(6,h=A.datatype),"latex_delimiters"in A&&t(7,u=A.latex_delimiters),"clear_on_focus"in A&&t(14,c=A.clear_on_focus),"select_on_focus"in A&&t(15,g=A.select_on_focus),"line_breaks"in A&&t(8,d=A.line_breaks),"editable"in A&&t(9,S=A.editable),"root"in A&&t(10,C=A.root),"el"in A&&t(1,N=A.el)},n.$$.update=()=>{n.$$.dirty&1&&t(11,l=o)},[o,N,s,_,i,r,h,u,d,S,C,l,E,y,c,g,w,H,p,B,q]}class lt extends Ul{constructor(e){super(),Gl(this,e,on,an,xl,{edit:2,value:0,display_value:3,styling:4,header:5,datatype:6,latex_delimiters:7,clear_on_focus:14,select_on_focus:15,line_breaks:8,editable:9,root:10,el:1})}get edit(){return this.$$.ctx[2]}set edit(e){this.$$set({edit:e}),_e()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),_e()}get display_value(){return this.$$.ctx[3]}set display_value(e){this.$$set({display_value:e}),_e()}get styling(){return this.$$.ctx[4]}set styling(e){this.$$set({styling:e}),_e()}get header(){return this.$$.ctx[5]}set header(e){this.$$set({header:e}),_e()}get datatype(){return this.$$.ctx[6]}set datatype(e){this.$$set({datatype:e}),_e()}get latex_delimiters(){return this.$$.ctx[7]}set latex_delimiters(e){this.$$set({latex_delimiters:e}),_e()}get clear_on_focus(){return this.$$.ctx[14]}set clear_on_focus(e){this.$$set({clear_on_focus:e}),_e()}get select_on_focus(){return this.$$.ctx[15]}set select_on_focus(e){this.$$set({select_on_focus:e}),_e()}get line_breaks(){return this.$$.ctx[8]}set line_breaks(e){this.$$set({line_breaks:e}),_e()}get editable(){return this.$$.ctx[9]}set editable(e){this.$$set({editable:e}),_e()}get root(){return this.$$.ctx[10]}set root(e){this.$$set({root:e}),_e()}get el(){return this.$$.ctx[1]}set el(e){this.$$set({el:e}),_e()}}const{ResizeObserverSingleton:un,SvelteComponent:_n,add_iframe_resize_listener:Dt,add_render_callback:Lt,append:Ne,attr:Ge,binding_callbacks:Rt,check_outros:nl,create_slot:ct,detach:nt,element:je,empty:sl,ensure_array_like:qt,flush:Le,get_all_dirty_from_scope:gt,get_slot_changes:dt,group_outros:il,init:fn,insert:st,listen:hn,outro_and_destroy_block:cn,resize_observer_content_box:gn,safe_not_equal:dn,set_style:ge,space:Et,text:bn,transition_in:Re,transition_out:Te,update_keyed_each:mn,update_slot_base:bt}=window.__gradio__svelte__internal,{onMount:wn,tick:Qe}=window.__gradio__svelte__internal,kn=n=>({}),Ht=n=>({});function Nt(n,e,t){const l=n.slice();return l[36]=e[t],l}const pn=n=>({item:n[0]&2,index:n[0]&2}),Tt=n=>({item:n[36].data,index:n[36].index}),vn=n=>({}),Ot=n=>({});function jt(n){let e=[],t=new Map,l,s,o=qt(n[1]);const _=i=>i[36].data[0].id;for(let i=0;i<o.length;i+=1){let r=Nt(n,o,i),h=_(r);t.set(h,e[i]=Ft(h,r))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=sl()},m(i,r){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(i,r);st(i,l,r),s=!0},p(i,r){r[0]&1048578&&(o=qt(i[1]),il(),e=mn(e,r,_,1,i,o,t,l.parentNode,cn,Ft,l,Nt),nl())},i(i){if(!s){for(let r=0;r<o.length;r+=1)Re(e[r]);s=!0}},o(i){for(let r=0;r<e.length;r+=1)Te(e[r]);s=!1},d(i){i&&nt(l);for(let r=0;r<e.length;r+=1)e[r].d(i)}}}function yn(n){let e;return{c(){e=bn(`Missing Table Row
					`)},m(t,l){st(t,e,l)},d(t){t&&nt(e)}}}function Ft(n,e){let t,l;const s=e[21].tbody,o=ct(s,e,e[20],Tt),_=o||yn();return{key:n,first:null,c(){t=sl(),_&&_.c(),this.first=t},m(i,r){st(i,t,r),_&&_.m(i,r),l=!0},p(i,r){e=i,o&&o.p&&(!l||r[0]&1048578)&&bt(o,s,e,e[20],l?dt(s,e[20],r,pn):gt(e[20]),Tt)},i(i){l||(Re(_,i),l=!0)},o(i){Te(_,i),l=!1},d(i){i&&nt(t),_&&_.d(i)}}}function An(n){let e,t,l,s,o,_,i,r,h,u,c,g,d;const S=n[21].thead,C=ct(S,n,n[20],Ot);let D=n[1].length&&n[1][0].data.length&&jt(n);const N=n[21].tfoot,E=ct(N,n,n[20],Ht);return{c(){e=je("svelte-virtual-table-viewport"),t=je("table"),l=je("thead"),C&&C.c(),o=Et(),_=je("tbody"),D&&D.c(),i=Et(),r=je("tfoot"),E&&E.c(),Ge(l,"class","thead svelte-1xyl3gk"),Lt(()=>n[22].call(l)),Ge(_,"class","tbody svelte-1xyl3gk"),Ge(r,"class","tfoot svelte-1xyl3gk"),Lt(()=>n[24].call(r)),Ge(t,"class","table svelte-1xyl3gk"),ge(t,"height",Sn),ge(t,"--bw-svt-p-top",n[7]+"px"),ge(t,"--bw-svt-p-bottom",n[3]+"px"),ge(t,"--bw-svt-head-height",n[5]+"px"),ge(t,"--bw-svt-foot-height",n[6]+"px"),ge(t,"--bw-svt-avg-row-height",n[0]+"px")},m(y,w){st(y,e,w),Ne(e,t),Ne(t,l),C&&C.m(l,null),s=Dt(l,n[22].bind(l)),Ne(t,o),Ne(t,_),D&&D.m(_,null),n[23](_),Ne(t,i),Ne(t,r),E&&E.m(r,null),h=Dt(r,n[24].bind(r)),n[25](t),u=gn.observe(t,n[26].bind(t)),c=!0,g||(d=hn(t,"scroll",n[9]),g=!0)},p(y,w){C&&C.p&&(!c||w[0]&1048576)&&bt(C,S,y,y[20],c?dt(S,y[20],w,vn):gt(y[20]),Ot),y[1].length&&y[1][0].data.length?D?(D.p(y,w),w[0]&2&&Re(D,1)):(D=jt(y),D.c(),Re(D,1),D.m(_,null)):D&&(il(),Te(D,1,1,()=>{D=null}),nl()),E&&E.p&&(!c||w[0]&1048576)&&bt(E,N,y,y[20],c?dt(N,y[20],w,kn):gt(y[20]),Ht),(!c||w[0]&128)&&ge(t,"--bw-svt-p-top",y[7]+"px"),(!c||w[0]&8)&&ge(t,"--bw-svt-p-bottom",y[3]+"px"),(!c||w[0]&32)&&ge(t,"--bw-svt-head-height",y[5]+"px"),(!c||w[0]&64)&&ge(t,"--bw-svt-foot-height",y[6]+"px"),(!c||w[0]&1)&&ge(t,"--bw-svt-avg-row-height",y[0]+"px")},i(y){c||(Re(C,y),Re(D),Re(E,y),c=!0)},o(y){Te(C,y),Te(D),Te(E,y),c=!1},d(y){y&&nt(e),C&&C.d(y),s(),D&&D.d(),n[23](null),E&&E.d(y),h(),n[25](null),u(),g=!1,d()}}}let Sn="100%";function zn(n,e){if(!n)return 0;const t=getComputedStyle(n);return parseInt(t.getPropertyValue(e))}function Mn(n,e,t){let l,{$$slots:s={},$$scope:o}=e,{items:_=[]}=e,{max_height:i}=e,{actual_height:r}=e,{table_scrollbar_width:h}=e,{start:u=0}=e,{end:c=20}=e,{selected:g}=e,d=30,S=0,C,D=0,N=0,E=[],y,w,H=0,p,B=200,q=[],A;const he=typeof window<"u",O=he?window.requestAnimationFrame:z=>z();let te=0;async function U(z){if(B===0)return;const{scrollTop:K}=p;t(13,h=p.offsetWidth-p.clientWidth),te=H-(K-D);let ee=u;for(;te<i&&ee<z.length;){let j=w[ee-u];j||(t(11,c=ee+1),await Qe(),j=w[ee-u]);let x=j?.getBoundingClientRect().height;x||(x=d);const He=E[ee]=x;te+=He,ee+=1}t(11,c=ee);const ae=z.length-c,le=p.offsetHeight-p.clientHeight;le>0&&(te+=le);let oe=E.filter(j=>typeof j=="number");t(0,d=oe.reduce((j,x)=>j+x,0)/oe.length),t(3,S=ae*d),E.length=z.length,await Qe(),i?te<i?t(12,r=te+2):t(12,r=i):t(12,r=te+1),await Qe()}async function fe(z){O(async()=>{if(typeof z!="number")return;const K=typeof z!="number"?!1:J(z);K!==!0&&(K==="back"&&await k(z,{behavior:"instant"}),K==="forwards"&&await k(z,{behavior:"instant"},!0))})}function J(z){const K=w&&w[z-u];if(!K&&z<u)return"back";if(!K&&z>=c-1)return"forwards";const{top:ee}=p.getBoundingClientRect(),{top:ae,bottom:le}=K.getBoundingClientRect();return ae-ee<37?"back":le-ee>B?"forwards":!0}async function b(z){const K=p.scrollTop;w=C.children;const ee=l.length<u,ae=zn(w[1],"border-top-width"),le=0;ee&&await k(l.length-1,{behavior:"auto"});let oe=0;for(let F=0;F<w.length;F+=1)E[u+F]=w[F].getBoundingClientRect().height;let j=0,x=D+ae/2,He=[];for(;j<l.length;){const F=E[j]||d;if(He[j]=F,x+F+le>K){oe=j,t(7,H=x-(D+ae/2));break}x+=F,j+=1}for(oe=Math.max(0,oe);j<l.length;){const F=E[j]||d;if(x+=F,j+=1,x>K+B)break}t(10,u=oe),t(11,c=j);const be=l.length-c;c===0&&t(11,c=10),t(0,d=(x-D)/c);let Ve=be*d;for(;j<l.length;)j+=1,E[j]=d;t(3,S=Ve),isFinite(S)||t(3,S=2e5)}async function k(z,K,ee=!1){await Qe();const ae=d;let le=z*ae;ee&&(le=le-B+ae+D);const oe=p.offsetHeight-p.clientHeight;oe>0&&(le+=oe);const j={top:le,behavior:"smooth",...K};p.scrollTo(j)}wn(()=>{w=C.children,t(18,y=!0),U(_)});function P(){D=this.offsetHeight,t(5,D)}function R(z){Rt[z?"unshift":"push"](()=>{C=z,t(4,C)})}function ie(){N=this.offsetHeight,t(6,N)}function v(z){Rt[z?"unshift":"push"](()=>{p=z,t(8,p)})}function re(){A=un.entries.get(this)?.contentRect,t(2,A)}return n.$$set=z=>{"items"in z&&t(14,_=z.items),"max_height"in z&&t(15,i=z.max_height),"actual_height"in z&&t(12,r=z.actual_height),"table_scrollbar_width"in z&&t(13,h=z.table_scrollbar_width),"start"in z&&t(10,u=z.start),"end"in z&&t(11,c=z.end),"selected"in z&&t(16,g=z.selected),"$$scope"in z&&t(20,o=z.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&4&&(B=A?.height||200),n.$$.dirty[0]&16384&&t(19,l=_),n.$$.dirty[0]&786432&&y&&O(()=>U(l)),n.$$.dirty[0]&65536&&fe(g),n.$$.dirty[0]&560129&&t(1,q=he?l.slice(u,c).map((z,K)=>({index:K+u,data:z})):l.slice(0,i/l.length*d+1).map((z,K)=>({index:K+u,data:z}))),n.$$.dirty[0]&3&&t(12,r=q.length*d+10)},[d,q,A,S,C,D,N,H,p,b,u,c,r,h,_,i,g,k,y,l,o,s,P,R,ie,v,re]}class Bn extends _n{constructor(e){super(),fn(this,e,Mn,An,dn,{items:14,max_height:15,actual_height:12,table_scrollbar_width:13,start:10,end:11,selected:16,scroll_to_index:17},null,[-1,-1])}get items(){return this.$$.ctx[14]}set items(e){this.$$set({items:e}),Le()}get max_height(){return this.$$.ctx[15]}set max_height(e){this.$$set({max_height:e}),Le()}get actual_height(){return this.$$.ctx[12]}set actual_height(e){this.$$set({actual_height:e}),Le()}get table_scrollbar_width(){return this.$$.ctx[13]}set table_scrollbar_width(e){this.$$set({table_scrollbar_width:e}),Le()}get start(){return this.$$.ctx[10]}set start(e){this.$$set({start:e}),Le()}get end(){return this.$$.ctx[11]}set end(e){this.$$set({end:e}),Le()}get selected(){return this.$$.ctx[16]}set selected(e){this.$$set({selected:e}),Le()}get scroll_to_index(){return this.$$.ctx[17]}}const{ResizeObserverSingleton:Cn,SvelteComponent:Dn,action_destroyer:Ln,add_flush_callback:Ae,append:T,attr:m,bind:Se,binding_callbacks:de,check_outros:qe,create_component:Be,destroy_component:Ce,detach:G,element:I,empty:Rn,ensure_array_like:ve,flush:X,group_outros:Ee,init:qn,insert:Q,listen:ye,mount_component:De,outro_and_destroy_block:et,resize_observer_content_box:En,run_all:rl,safe_not_equal:Hn,set_data:We,set_style:ze,space:se,svg_element:Me,text:Ie,toggle_class:V,transition_in:Z,transition_out:$,update_keyed_each:tt}=window.__gradio__svelte__internal,{createEventDispatcher:Nn,tick:Xe,onMount:Tn}=window.__gradio__svelte__internal;function Pt(n,e,t){const l=n.slice();return l[90]=e[t].value,l[91]=e[t].id,l[94]=e,l[95]=t,l}function Ut(n,e,t){const l=n.slice();return l[90]=e[t].value,l[91]=e[t].id,l[92]=e,l[93]=t,l}function Jt(n,e,t){const l=n.slice();return l[90]=e[t].value,l[91]=e[t].id,l[96]=e,l[93]=t,l}function Wt(n,e,t){const l=n.slice();return l[90]=e[t].value,l[91]=e[t].id,l[95]=t,l}function It(n){let e,t;return{c(){e=I("p"),t=Ie(n[1]),m(e,"class","svelte-12bw0e2")},m(l,s){Q(l,e,s),T(e,t)},p(l,s){s[0]&2&&We(t,l[1])},d(l){l&&G(e)}}}function Vt(n){let e,t;return{c(){e=I("caption"),t=Ie(n[1]),m(e,"class","sr-only")},m(l,s){Q(l,e,s),T(e,t)},p(l,s){s[0]&2&&We(t,l[1])},d(l){l&&G(e)}}}function Kt(n,e){let t,l,s,o,_,i,r,h,u,c,g;return s=new lt({props:{value:e[90],latex_delimiters:e[5],line_breaks:e[11],header:!0,edit:!1,el:null,root:e[8]}}),{key:n,first:null,c(){t=I("th"),l=I("div"),Be(s.$$.fragment),o=se(),_=I("div"),i=Me("svg"),r=Me("path"),u=se(),m(r,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),m(i,"width","1em"),m(i,"height","1em"),m(i,"viewBox","0 0 9 7"),m(i,"fill","none"),m(i,"xmlns","http://www.w3.org/2000/svg"),m(i,"class","svelte-12bw0e2"),m(_,"class",h="sort-button "+e[19]+" svelte-12bw0e2"),V(_,"sorted",e[20]===e[95]),V(_,"des",e[20]===e[95]&&e[19]==="des"),m(l,"class","cell-wrap svelte-12bw0e2"),m(t,"aria-sort",c=e[37](e[90],e[20],e[19])),m(t,"class","svelte-12bw0e2"),V(t,"editing",e[28]===e[95]),ze(t,"width",e[12].length?e[12][e[95]]:void 0),this.first=t},m(d,S){Q(d,t,S),T(t,l),De(s,l,null),T(l,o),T(l,_),T(_,i),T(i,r),T(t,u),g=!0},p(d,S){e=d;const C={};S[0]&67108864&&(C.value=e[90]),S[0]&32&&(C.latex_delimiters=e[5]),S[0]&2048&&(C.line_breaks=e[11]),S[0]&256&&(C.root=e[8]),s.$set(C),(!g||S[0]&524288&&h!==(h="sort-button "+e[19]+" svelte-12bw0e2"))&&m(_,"class",h),(!g||S[0]&68681728)&&V(_,"sorted",e[20]===e[95]),(!g||S[0]&68681728)&&V(_,"des",e[20]===e[95]&&e[19]==="des"),(!g||S[0]&68681728&&c!==(c=e[37](e[90],e[20],e[19])))&&m(t,"aria-sort",c),(!g||S[0]&335544320)&&V(t,"editing",e[28]===e[95]),S[0]&67112960&&ze(t,"width",e[12].length?e[12][e[95]]:void 0)},i(d){g||(Z(s.$$.fragment,d),g=!0)},o(d){$(s.$$.fragment,d),g=!1},d(d){d&&G(t),Ce(s)}}}function Yt(n,e){let t,l,s,o,_=e[93],i;s=new lt({props:{value:e[90],latex_delimiters:e[5],line_breaks:e[11],datatype:Array.isArray(e[0])?e[0][e[93]]:e[0],edit:!1,el:null,root:e[8]}});const r=()=>e[54](t,_),h=()=>e[54](null,_);return{key:n,first:null,c(){t=I("td"),l=I("div"),Be(s.$$.fragment),o=se(),m(l,"class","cell-wrap svelte-12bw0e2"),m(t,"tabindex","-1"),m(t,"class","svelte-12bw0e2"),this.first=t},m(u,c){Q(u,t,c),T(t,l),De(s,l,null),T(t,o),r(),i=!0},p(u,c){e=u;const g={};c[1]&32&&(g.value=e[90]),c[0]&32&&(g.latex_delimiters=e[5]),c[0]&2048&&(g.line_breaks=e[11]),c[0]&1|c[1]&32&&(g.datatype=Array.isArray(e[0])?e[0][e[93]]:e[0]),c[0]&256&&(g.root=e[8]),s.$set(g),_!==e[93]&&(h(),_=e[93],r())},i(u){i||(Z(s.$$.fragment,u),i=!0)},o(u){$(s.$$.fragment,u),i=!1},d(u){u&&G(t),Ce(s),h()}}}function Zt(n){let e,t;return{c(){e=I("caption"),t=Ie(n[1]),m(e,"class","sr-only")},m(l,s){Q(l,e,s),T(e,t)},p(l,s){s[0]&2&&We(t,l[1])},d(l){l&&G(e)}}}function On(n){let e,t=n[1]&&n[1].length!==0&&Zt(n);return{c(){t&&t.c(),e=Rn()},m(l,s){t&&t.m(l,s),Q(l,e,s)},p(l,s){l[1]&&l[1].length!==0?t?t.p(l,s):(t=Zt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&G(e),t&&t.d(l)}}}function Gt(n,e){let t,l,s,o,_,i,r,h,u,c,g,d,S,C,D;function N(p){e[63](p,e[95])}function E(p){e[64](p,e[91])}function y(){return e[65](e[95])}let w={latex_delimiters:e[5],line_breaks:e[11],edit:e[28]===e[95],select_on_focus:e[29],header:!0,root:e[8]};e[26][e[95]].value!==void 0&&(w.value=e[26][e[95]].value),e[25][e[91]].input!==void 0&&(w.el=e[25][e[91]].input),s=new lt({props:w}),de.push(()=>Se(s,"value",N)),de.push(()=>Se(s,"el",E)),s.$on("keydown",e[43]),s.$on("dblclick",y);function H(){return e[66](e[95])}return{key:n,first:null,c(){t=I("th"),l=I("div"),Be(s.$$.fragment),i=se(),r=I("div"),h=Me("svg"),u=Me("path"),g=se(),m(u,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),m(h,"width","1em"),m(h,"height","1em"),m(h,"viewBox","0 0 9 7"),m(h,"fill","none"),m(h,"xmlns","http://www.w3.org/2000/svg"),m(h,"class","svelte-12bw0e2"),m(r,"class",c="sort-button "+e[19]+" svelte-12bw0e2"),V(r,"sorted",e[20]===e[95]),V(r,"des",e[20]===e[95]&&e[19]==="des"),m(l,"class","cell-wrap svelte-12bw0e2"),m(t,"aria-sort",d=e[37](e[90],e[20],e[19])),ze(t,"width","var(--cell-width-"+e[95]+")"),m(t,"class","svelte-12bw0e2"),V(t,"focus",e[28]===e[95]||e[21]===e[95]),this.first=t},m(p,B){Q(p,t,B),T(t,l),De(s,l,null),T(l,i),T(l,r),T(r,h),T(h,u),T(t,g),S=!0,C||(D=ye(r,"click",H),C=!0)},p(p,B){e=p;const q={};B[0]&32&&(q.latex_delimiters=e[5]),B[0]&2048&&(q.line_breaks=e[11]),B[0]&335544320&&(q.edit=e[28]===e[95]),B[0]&536870912&&(q.select_on_focus=e[29]),B[0]&256&&(q.root=e[8]),!o&&B[0]&67108864&&(o=!0,q.value=e[26][e[95]].value,Ae(()=>o=!1)),!_&&B[0]&100663296&&(_=!0,q.el=e[25][e[91]].input,Ae(()=>_=!1)),s.$set(q),(!S||B[0]&524288&&c!==(c="sort-button "+e[19]+" svelte-12bw0e2"))&&m(r,"class",c),(!S||B[0]&68681728)&&V(r,"sorted",e[20]===e[95]),(!S||B[0]&68681728)&&V(r,"des",e[20]===e[95]&&e[19]==="des"),(!S||B[0]&68681728&&d!==(d=e[37](e[90],e[20],e[19])))&&m(t,"aria-sort",d),(!S||B[0]&67108864)&&ze(t,"width","var(--cell-width-"+e[95]+")"),(!S||B[0]&337641472)&&V(t,"focus",e[28]===e[95]||e[21]===e[95])},i(p){S||(Z(s.$$.fragment,p),S=!0)},o(p){$(s.$$.fragment,p),S=!1},d(p){p&&G(t),Ce(s),C=!1,D()}}}function jn(n){let e,t=[],l=new Map,s,o=ve(n[26]);const _=i=>i[91];for(let i=0;i<o.length;i+=1){let r=Pt(n,o,i),h=_(r);l.set(h,t[i]=Gt(h,r))}return{c(){e=I("tr");for(let i=0;i<t.length;i+=1)t[i].c();m(e,"slot","thead"),m(e,"class","svelte-12bw0e2")},m(i,r){Q(i,e,r);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);s=!0},p(i,r){r[0]&909642016|r[1]&7232&&(o=ve(i[26]),Ee(),t=tt(t,r,_,1,i,o,l,e,et,Gt,null,Pt),qe())},i(i){if(!s){for(let r=0;r<o.length;r+=1)Z(t[r]);s=!0}},o(i){for(let r=0;r<t.length;r+=1)$(t[r]);s=!1},d(i){i&&G(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function Qt(n,e){let t,l,s,o,_,i,r,h=`var(--cell-width-${e[93]})`,u,c,g;function d(y){e[57](y,e[88],e[93])}function S(y){e[58](y,e[91])}let C={display_value:e[15]?.[e[88]]?.[e[93]],latex_delimiters:e[5],line_breaks:e[11],editable:e[6],edit:me(e[24],[e[88],e[93]]),datatype:Array.isArray(e[0])?e[0][e[93]]:e[0],clear_on_focus:e[27],root:e[8]};e[18][e[88]][e[93]].value!==void 0&&(C.value=e[18][e[88]][e[93]].value),e[25][e[91]].input!==void 0&&(C.el=e[25][e[91]].input),s=new lt({props:C}),de.push(()=>Se(s,"value",d)),de.push(()=>Se(s,"el",S)),s.$on("blur",e[59]);function D(){return e[60](e[88],e[93])}function N(){return e[61](e[88],e[93])}function E(){return e[62](e[88],e[93])}return{key:n,first:null,c(){t=I("td"),l=I("div"),Be(s.$$.fragment),i=se(),m(l,"class","cell-wrap svelte-12bw0e2"),m(t,"tabindex","0"),m(t,"style",r=e[16]?.[e[88]]?.[e[93]]||""),m(t,"class","svelte-12bw0e2"),V(t,"focus",me(e[17],[e[88],e[93]])),ze(t,"width",h),this.first=t},m(y,w){Q(y,t,w),T(t,l),De(s,l,null),T(t,i),u=!0,c||(g=[ye(t,"touchstart",D,{passive:!0}),ye(t,"click",N),ye(t,"dblclick",E)],c=!0)},p(y,w){e=y;const H={};w[0]&32768|w[2]&201326592&&(H.display_value=e[15]?.[e[88]]?.[e[93]]),w[0]&32&&(H.latex_delimiters=e[5]),w[0]&2048&&(H.line_breaks=e[11]),w[0]&64&&(H.editable=e[6]),w[0]&16777216|w[2]&201326592&&(H.edit=me(e[24],[e[88],e[93]])),w[0]&1|w[2]&134217728&&(H.datatype=Array.isArray(e[0])?e[0][e[93]]:e[0]),w[0]&134217728&&(H.clear_on_focus=e[27]),w[0]&256&&(H.root=e[8]),!o&&w[0]&262144|w[2]&201326592&&(o=!0,H.value=e[18][e[88]][e[93]].value,Ae(()=>o=!1)),!_&&w[0]&33554432|w[2]&134217728&&(_=!0,H.el=e[25][e[91]].input,Ae(()=>_=!1)),s.$set(H),(!u||w[0]&65536|w[2]&201326592&&r!==(r=e[16]?.[e[88]]?.[e[93]]||""))&&m(t,"style",r),(!u||w[0]&131072|w[2]&201326592)&&V(t,"focus",me(e[17],[e[88],e[93]]));const p=w[0]&65536|w[2]&201326592;(w[0]&65536|w[2]&201326592&&h!==(h=`var(--cell-width-${e[93]})`)||p)&&ze(t,"width",h)},i(y){u||(Z(s.$$.fragment,y),u=!0)},o(y){$(s.$$.fragment,y),u=!1},d(y){y&&G(t),Ce(s),c=!1,rl(g)}}}function Fn(n){let e,t=[],l=new Map,s,o=ve(n[89]);const _=i=>i[91];for(let i=0;i<o.length;i+=1){let r=Ut(n,o,i),h=_(r);l.set(h,t[i]=Qt(h,r))}return{c(){e=I("tr");for(let i=0;i<t.length;i+=1)t[i].c();m(e,"slot","tbody"),m(e,"class","svelte-12bw0e2"),V(e,"row_odd",n[88]%2===0)},m(i,r){Q(i,e,r);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);s=!0},p(i,r){r[0]&185043297|r[1]&641|r[2]&201326592&&(o=ve(i[89]),Ee(),t=tt(t,r,_,1,i,o,l,e,et,Qt,null,Ut),qe()),(!s||r[2]&67108864)&&V(e,"row_odd",i[88]%2===0)},i(i){if(!s){for(let r=0;r<o.length;r+=1)Z(t[r]);s=!0}},o(i){for(let r=0;r<t.length;r+=1)$(t[r]);s=!1},d(i){i&&G(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function Pn(n){let e,t,l,s,o;function _(u){n[67](u)}function i(u){n[68](u)}function r(u){n[69](u)}let h={max_height:n[10],selected:n[35],$$slots:{tbody:[Fn,({index:u,item:c})=>({88:u,89:c}),({index:u,item:c})=>[0,0,(u?67108864:0)|(c?134217728:0)]],thead:[jn],default:[On]},$$scope:{ctx:n}};return n[18]!==void 0&&(h.items=n[18]),n[33]!==void 0&&(h.actual_height=n[33]),n[34]!==void 0&&(h.table_scrollbar_width=n[34]),e=new Bn({props:h}),de.push(()=>Se(e,"items",_)),de.push(()=>Se(e,"actual_height",i)),de.push(()=>Se(e,"table_scrollbar_width",r)),{c(){Be(e.$$.fragment)},m(u,c){De(e,u,c),o=!0},p(u,c){const g={};c[0]&1024&&(g.max_height=u[10]),c[1]&16&&(g.selected=u[35]),c[0]&1061128547|c[1]&1|c[2]&201326592|c[3]&32&&(g.$$scope={dirty:c,ctx:u}),!t&&c[0]&262144&&(t=!0,g.items=u[18],Ae(()=>t=!1)),!l&&c[1]&4&&(l=!0,g.actual_height=u[33],Ae(()=>l=!1)),!s&&c[1]&8&&(s=!0,g.table_scrollbar_width=u[34],Ae(()=>s=!1)),e.$set(g)},i(u){o||(Z(e.$$.fragment,u),o=!0)},o(u){$(e.$$.fragment,u),o=!1},d(u){Ce(e,u)}}}function Xt(n){let e,t,l,s=n[4][1]==="dynamic"&&xt(n),o=n[3][1]==="dynamic"&&$t(n);return{c(){e=I("div"),s&&s.c(),t=se(),o&&o.c(),m(e,"class","controls-wrap svelte-12bw0e2")},m(_,i){Q(_,e,i),s&&s.m(e,null),T(e,t),o&&o.m(e,null),l=!0},p(_,i){_[4][1]==="dynamic"?s?(s.p(_,i),i[0]&16&&Z(s,1)):(s=xt(_),s.c(),Z(s,1),s.m(e,t)):s&&(Ee(),$(s,1,1,()=>{s=null}),qe()),_[3][1]==="dynamic"?o?(o.p(_,i),i[0]&8&&Z(o,1)):(o=$t(_),o.c(),Z(o,1),o.m(e,null)):o&&(Ee(),$(o,1,1,()=>{o=null}),qe())},i(_){l||(Z(s),Z(o),l=!0)},o(_){$(s),$(o),l=!1},d(_){_&&G(e),s&&s.d(),o&&o.d()}}}function xt(n){let e,t,l;return t=new el({props:{variant:"secondary",size:"sm",$$slots:{default:[Un]},$$scope:{ctx:n}}}),t.$on("click",n[74]),{c(){e=I("span"),Be(t.$$.fragment),m(e,"class","button-wrap svelte-12bw0e2")},m(s,o){Q(s,e,o),De(t,e,null),l=!0},p(s,o){const _={};o[0]&512|o[3]&32&&(_.$$scope={dirty:o,ctx:s}),t.$set(_)},i(s){l||(Z(t.$$.fragment,s),l=!0)},o(s){$(t.$$.fragment,s),l=!1},d(s){s&&G(e),Ce(t)}}}function Un(n){let e,t,l,s=n[9]("dataframe.new_row")+"",o;return{c(){e=Me("svg"),t=Me("path"),l=se(),o=Ie(s),m(t,"fill","currentColor"),m(t,"d","M24.59 16.59L17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10l10-10l-1.41-1.41z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),m(e,"aria-hidden","true"),m(e,"role","img"),m(e,"width","1em"),m(e,"height","1em"),m(e,"preserveAspectRatio","xMidYMid meet"),m(e,"viewBox","0 0 32 32"),m(e,"class","svelte-12bw0e2")},m(_,i){Q(_,e,i),T(e,t),Q(_,l,i),Q(_,o,i)},p(_,i){i[0]&512&&s!==(s=_[9]("dataframe.new_row")+"")&&We(o,s)},d(_){_&&(G(e),G(l),G(o))}}}function $t(n){let e,t,l;return t=new el({props:{variant:"secondary",size:"sm",$$slots:{default:[Jn]},$$scope:{ctx:n}}}),t.$on("click",n[75]),{c(){e=I("span"),Be(t.$$.fragment),m(e,"class","button-wrap svelte-12bw0e2")},m(s,o){Q(s,e,o),De(t,e,null),l=!0},p(s,o){const _={};o[0]&512|o[3]&32&&(_.$$scope={dirty:o,ctx:s}),t.$set(_)},i(s){l||(Z(t.$$.fragment,s),l=!0)},o(s){$(t.$$.fragment,s),l=!1},d(s){s&&G(e),Ce(t)}}}function Jn(n){let e,t,l,s=n[9]("dataframe.new_column")+"",o;return{c(){e=Me("svg"),t=Me("path"),l=se(),o=Ie(s),m(t,"fill","currentColor"),m(t,"d","m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),m(e,"aria-hidden","true"),m(e,"role","img"),m(e,"width","1em"),m(e,"height","1em"),m(e,"preserveAspectRatio","xMidYMid meet"),m(e,"viewBox","0 0 32 32"),m(e,"class","svelte-12bw0e2")},m(_,i){Q(_,e,i),T(e,t),Q(_,l,i),Q(_,o,i)},p(_,i){i[0]&512&&s!==(s=_[9]("dataframe.new_column")+"")&&We(o,s)},d(_){_&&(G(e),G(l),G(o))}}}function Wn(n){let e,t,l,s,o,_,i,r=[],h=new Map,u,c,g,d=[],S=new Map,C,D,N,E,y,w,H,p,B=n[1]&&n[1].length!==0&&n[2]&&It(n),q=n[1]&&n[1].length!==0&&Vt(n),A=ve(n[26]);const he=b=>b[91];for(let b=0;b<A.length;b+=1){let k=Wt(n,A,b),P=he(k);h.set(P,r[b]=Kt(P,k))}let O=ve(n[36]);const te=b=>b[91];for(let b=0;b<O.length;b+=1){let k=Jt(n,O,b),P=te(k);S.set(P,d[b]=Yt(P,k))}function U(b){n[70](b)}let fe={upload:n[13],stream_handler:n[14],flex:!1,center:!1,boundedheight:!1,disable_click:!0,root:n[8],$$slots:{default:[Pn]},$$scope:{ctx:n}};n[30]!==void 0&&(fe.dragging=n[30]),N=new Tl({props:fe}),de.push(()=>Se(N,"dragging",U)),N.$on("load",n[71]);let J=n[6]&&Xt(n);return{c(){e=I("div"),B&&B.c(),t=se(),l=I("div"),s=I("table"),q&&q.c(),o=se(),_=I("thead"),i=I("tr");for(let b=0;b<r.length;b+=1)r[b].c();u=se(),c=I("tbody"),g=I("tr");for(let b=0;b<d.length;b+=1)d[b].c();D=se(),Be(N.$$.fragment),y=se(),J&&J.c(),m(i,"class","svelte-12bw0e2"),m(_,"class","svelte-12bw0e2"),m(g,"class","svelte-12bw0e2"),m(s,"class","svelte-12bw0e2"),V(s,"fixed-layout",n[12].length!=0),m(l,"class","table-wrap svelte-12bw0e2"),ze(l,"height",n[33]+"px"),m(l,"role","grid"),m(l,"tabindex","0"),V(l,"dragging",n[30]),V(l,"no-wrap",!n[7]),m(e,"class","svelte-12bw0e2"),V(e,"label",n[1]&&n[1].length!==0)},m(b,k){Q(b,e,k),B&&B.m(e,null),T(e,t),T(e,l),T(l,s),q&&q.m(s,null),T(s,o),T(s,_),T(_,i);for(let P=0;P<r.length;P+=1)r[P]&&r[P].m(i,null);T(s,u),T(s,c),T(c,g);for(let P=0;P<d.length;P+=1)d[P]&&d[P].m(g,null);C=En.observe(s,n[55].bind(s)),n[56](s),T(l,D),De(N,l,null),n[72](l),T(e,y),J&&J.m(e,null),w=!0,H||(p=[ye(window,"click",n[46]),ye(window,"touchstart",n[46]),ye(window,"resize",n[53]),ye(l,"keydown",n[73]),Ln(Nl.call(null,e))],H=!0)},p(b,k){b[1]&&b[1].length!==0&&b[2]?B?B.p(b,k):(B=It(b),B.c(),B.m(e,t)):B&&(B.d(1),B=null),b[1]&&b[1].length!==0?q?q.p(b,k):(q=Vt(b),q.c(),q.m(s,o)):q&&(q.d(1),q=null),k[0]&337123616|k[1]&64&&(A=ve(b[26]),Ee(),r=tt(r,k,he,1,b,A,h,i,et,Kt,null,Wt),qe()),k[0]&4196641|k[1]&32&&(O=ve(b[36]),Ee(),d=tt(d,k,te,1,b,O,S,g,et,Yt,null,Jt),qe()),(!w||k[0]&4096)&&V(s,"fixed-layout",b[12].length!=0);const P={};k[0]&8192&&(P.upload=b[13]),k[0]&16384&&(P.stream_handler=b[14]),k[0]&256&&(P.root=b[8]),k[0]&1061129571|k[1]&29|k[3]&32&&(P.$$scope={dirty:k,ctx:b}),!E&&k[0]&1073741824&&(E=!0,P.dragging=b[30],Ae(()=>E=!1)),N.$set(P),(!w||k[1]&4)&&ze(l,"height",b[33]+"px"),(!w||k[0]&1073741824)&&V(l,"dragging",b[30]),(!w||k[0]&128)&&V(l,"no-wrap",!b[7]),b[6]?J?(J.p(b,k),k[0]&64&&Z(J,1)):(J=Xt(b),J.c(),Z(J,1),J.m(e,null)):J&&(Ee(),$(J,1,1,()=>{J=null}),qe()),(!w||k[0]&2)&&V(e,"label",b[1]&&b[1].length!==0)},i(b){if(!w){for(let k=0;k<A.length;k+=1)Z(r[k]);for(let k=0;k<O.length;k+=1)Z(d[k]);Z(N.$$.fragment,b),Z(J),w=!0}},o(b){for(let k=0;k<r.length;k+=1)$(r[k]);for(let k=0;k<d.length;k+=1)$(d[k]);$(N.$$.fragment,b),$(J),w=!1},d(b){b&&G(e),B&&B.d(),q&&q.d();for(let k=0;k<r.length;k+=1)r[k].d();for(let k=0;k<d.length;k+=1)d[k].d();C(),n[56](null),Ce(N),n[72](null),J&&J.d(),H=!1,rl(p)}}}function Fe(){return Math.random().toString(36).substring(2,15)}function In(n,e){return e.filter(t);function t(l){var s=-1;return n.split(`
`).every(o);function o(_){if(!_)return!0;var i=_.split(l).length;return s<0&&(s=i),s===i&&i>1}}}function Vn(n){const e=atob(n.split(",")[1]),t=n.split(",")[0].split(":")[1].split(";")[0],l=new ArrayBuffer(e.length),s=new Uint8Array(l);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return new Blob([l],{type:t})}function Kn(n,e,t){let l,s,{datatype:o}=e,{label:_=null}=e,{show_label:i=!0}=e,{headers:r=[]}=e,{values:h=[]}=e,{col_count:u}=e,{row_count:c}=e,{latex_delimiters:g}=e,{editable:d=!0}=e,{wrap:S=!1}=e,{root:C}=e,{i18n:D}=e,{max_height:N=500}=e,{line_breaks:E=!0}=e,{column_widths:y=[]}=e,{upload:w}=e,{stream_handler:H}=e,p=!1,{display_value:B=null}=e,{styling:q=null}=e,A;const he=Nn();let O=!1;const te=(a,f)=>R?.[a]?.[f]?.value;let U={};function fe(a){let f=a||[];if(u[1]==="fixed"&&f.length<u[0]){const M=Array(u[0]-f.length).fill("").map((L,W)=>`${W+f.length}`);f=f.concat(M)}return!f||f.length===0?Array(u[0]).fill(0).map((M,L)=>{const W=Fe();return t(25,U[W]={cell:null,input:null},U),{id:W,value:JSON.stringify(L+1)}}):f.map((M,L)=>{const W=Fe();return t(25,U[W]={cell:null,input:null},U),{id:W,value:M??""}})}function J(a){const f=a.length;return Array(c[1]==="fixed"||f<c[0]?c[0]:f).fill(0).map((M,L)=>Array(u[1]==="fixed"?u[0]:f>0?a[0].length:r.length).fill(0).map((W,ne)=>{const ce=Fe();return t(25,U[ce]=U[ce]||{input:null,cell:null},U),{value:a?.[L]?.[ne]??"",id:ce}}))}let b=fe(r),k;function P(){t(26,b=fe(r)),t(51,k=r.slice()),v()}let R=[[]],ie;async function v(){he("change",{data:R.map(a=>a.map(({value:f})=>f)),headers:b.map(a=>a.value),metadata:d?null:{display_value:B,styling:q}})}function re(a,f,M){if(!f)return"none";if(r[f]===a){if(M==="asc")return"ascending";if(M==="des")return"descending"}return"none"}function z(a){return R.reduce((f,M,L)=>{const W=M.reduce((ne,ce,Ze)=>a===ce.id?Ze:ne,-1);return W===-1?f:[L,W]},[-1,-1])}async function K(a,f){!d||me(O,[a,f])||t(24,O=[a,f])}function ee(a,f){const M={ArrowRight:[0,1],ArrowLeft:[0,-1],ArrowDown:[1,0],ArrowUp:[-1,0]}[a],L=f[0]+M[0],W=f[1]+M[1];if(L<0&&W<=0)t(21,F=W),t(17,p=!1);else{const ne=R[L]?.[W];t(17,p=ne?[L,W]:p)}}let ae=!1;async function le(a){if(F!==!1&&be===!1)switch(a.key){case"ArrowDown":t(17,p=[0,F]),t(21,F=!1);return;case"ArrowLeft":t(21,F=F>0?F-1:F);return;case"ArrowRight":t(21,F=F<b.length-1?F+1:F);return;case"Escape":a.preventDefault(),t(21,F=!1);break;case"Enter":a.preventDefault();break}if(!p)return;const[f,M]=p;switch(a.key){case"ArrowRight":case"ArrowLeft":case"ArrowDown":case"ArrowUp":if(O)break;a.preventDefault(),ee(a.key,[f,M]);break;case"Escape":if(!d)break;a.preventDefault(),t(24,O=!1);break;case"Enter":if(!d)break;a.preventDefault(),a.shiftKey?(rt(f),await Xe(),t(17,p=[f+1,M])):me(O,[f,M])?(t(24,O=!1),await Xe(),t(17,p=[f,M])):t(24,O=[f,M]);break;case"Backspace":if(!d)break;O||(a.preventDefault(),t(18,R[f][M].value="",R));break;case"Delete":if(!d)break;O||(a.preventDefault(),t(18,R[f][M].value="",R));break;case"Tab":let L=a.shiftKey?-1:1,W=R[f][M+L],ne=R?.[f+L]?.[L>0?0:b.length-1];(W||ne)&&(a.preventDefault(),t(17,p=W?[f,M+L]:[f+L,L>0?0:b.length-1])),t(24,O=!1);break;default:if(!d)break;(!O||O&&me(O,[f,M]))&&a.key.length===1&&(t(27,ae=!0),t(24,O=[f,M]))}}async function oe(a,f){me(O,[a,f])||(t(28,be=!1),t(21,F=!1),t(24,O=!1),t(17,p=[a,f]),await Xe(),ue.focus())}let j,x;function He(a){typeof x!="number"||x!==a?(t(19,j="asc"),t(20,x=a)):j==="asc"?t(19,j="des"):j==="des"&&t(19,j="asc")}let be,Ve=!1,F=!1;async function it(a,f=!1){!d||u[1]!=="dynamic"||be===a||(t(17,p=!1),t(21,F=a),t(28,be=a),t(29,Ve=f))}function al(a){if(d)switch(a.key){case"Escape":case"Enter":case"Tab":a.preventDefault(),t(17,p=!1),t(21,F=be),t(28,be=!1),ue.focus();break}}async function rt(a){if(ue.focus(),c[1]==="dynamic"){if(R.length===0){t(50,h=[Array(r.length).fill("")]);return}R.splice(a?a+1:R.length,0,Array(R[0].length).fill(0).map((f,M)=>{const L=Fe();return t(25,U[L]={cell:null,input:null},U),{id:L,value:""}})),t(18,R),t(50,h),t(52,ie),t(17,p=[a?a+1:R.length-1,0])}}async function yt(){if(ue.focus(),u[1]==="dynamic"){for(let a=0;a<R.length;a++){const f=Fe();t(25,U[f]={cell:null,input:null},U),R[a].push({id:f,value:""})}r.push(`Header ${r.length+1}`),t(18,R),t(50,h),t(52,ie),t(49,r),await Xe(),requestAnimationFrame(()=>{it(r.length-1,!0);const a=ue.querySelectorAll("tbody")[1].offsetWidth;ue.querySelectorAll("table")[1].scrollTo({left:a})})}}function ol(a){a.stopImmediatePropagation();const[f]=a.composedPath();ue.contains(f)||(t(24,O=!1),t(28,be=!1),t(21,F=!1),t(17,p=!1))}function At(a){const f=new FileReader;function M(L){if(!L?.target?.result||typeof L.target.result!="string")return;const[W]=In(L.target.result,[",","	"]),[ne,...ce]=jl(W).parseRows(L.target.result);t(26,b=fe(u[1]==="fixed"?ne.slice(0,u[0]):ne)),t(50,h=ce),f.removeEventListener("loadend",M)}f.addEventListener("loadend",M),f.readAsText(a)}let at=!1;function ul(a){let f=a[0].slice();for(let M=0;M<a.length;M++)for(let L=0;L<a[M].length;L++)`${f[L].value}`.length<`${a[M][L].value}`.length&&(f[L]=a[M][L]);return f}let Oe=[],ue,ot;function Ke(){const a=Oe.map((f,M)=>f?.clientWidth||0);if(a.length!==0)for(let f=0;f<a.length;f++)ue.style.setProperty(`--cell-width-${f}`,`${a[f]-Ye/a.length}px`)}let ut=h.slice(0,N/h.length*37).length*37+37,Ye=0;function _l(a,f,M,L,W){let ne=null;if(p&&p[0]in R&&p[1]in R[p[0]]&&(ne=R[p[0]][p[1]].id),typeof L!="number"||!W)return;const ce=[...Array(a.length).keys()];if(W==="asc")ce.sort((we,ke)=>a[we][L].value<a[ke][L].value?-1:1);else if(W==="des")ce.sort((we,ke)=>a[we][L].value>a[ke][L].value?-1:1);else return;const Ze=[...a],zt=f?[...f]:null,Mt=M?[...M]:null;if(ce.forEach((we,ke)=>{a[ke]=Ze[we],f&&zt&&(f[ke]=zt[we]),M&&Mt&&(M[ke]=Mt[we])}),t(18,R),t(50,h),t(52,ie),ne){const[we,ke]=z(ne);t(17,p=[we,ke])}}let St=!1;Tn(()=>{const a=new IntersectionObserver((f,M)=>{f.forEach(L=>{L.isIntersecting&&!St&&(Ke(),t(18,R),t(50,h),t(52,ie)),St=L.isIntersecting})});return a.observe(ue),()=>{a.disconnect()}});const fl=()=>Ke();function hl(a,f){de[a?"unshift":"push"](()=>{Oe[f]=a,t(22,Oe)})}function cl(){A=Cn.entries.get(this)?.contentRect,t(23,A)}function gl(a){de[a?"unshift":"push"](()=>{ot=a,t(32,ot)})}function dl(a,f,M){n.$$.not_equal(R[f][M].value,a)&&(R[f][M].value=a,t(18,R),t(50,h),t(52,ie))}function bl(a,f){n.$$.not_equal(U[f].input,a)&&(U[f].input=a,t(25,U))}const ml=()=>(t(27,ae=!1),ue.focus()),wl=(a,f)=>K(a,f),kl=(a,f)=>oe(a,f),pl=(a,f)=>K(a,f);function vl(a,f){n.$$.not_equal(b[f].value,a)&&(b[f].value=a,t(26,b))}function yl(a,f){n.$$.not_equal(U[f].input,a)&&(U[f].input=a,t(25,U))}const Al=a=>it(a),Sl=a=>He(a);function zl(a){R=a,t(18,R),t(50,h),t(52,ie)}function Ml(a){ut=a,t(33,ut)}function Bl(a){Ye=a,t(34,Ye)}function Cl(a){at=a,t(30,at)}const Dl=a=>At(Vn(a.detail.data));function Ll(a){de[a?"unshift":"push"](()=>{ue=a,t(31,ue)})}const Rl=a=>le(a),ql=a=>(a.stopPropagation(),rt()),El=a=>(a.stopPropagation(),yt());return n.$$set=a=>{"datatype"in a&&t(0,o=a.datatype),"label"in a&&t(1,_=a.label),"show_label"in a&&t(2,i=a.show_label),"headers"in a&&t(49,r=a.headers),"values"in a&&t(50,h=a.values),"col_count"in a&&t(3,u=a.col_count),"row_count"in a&&t(4,c=a.row_count),"latex_delimiters"in a&&t(5,g=a.latex_delimiters),"editable"in a&&t(6,d=a.editable),"wrap"in a&&t(7,S=a.wrap),"root"in a&&t(8,C=a.root),"i18n"in a&&t(9,D=a.i18n),"max_height"in a&&t(10,N=a.max_height),"line_breaks"in a&&t(11,E=a.line_breaks),"column_widths"in a&&t(12,y=a.column_widths),"upload"in a&&t(13,w=a.upload),"stream_handler"in a&&t(14,H=a.stream_handler),"display_value"in a&&t(15,B=a.display_value),"styling"in a&&t(16,q=a.styling)},n.$$.update=()=>{if(n.$$.dirty[1]&2621440&&(me(h,ie)||(t(18,R=J(h)),t(52,ie=h))),n.$$.dirty[0]&393216&&p!==!1){const[a,f]=p;!isNaN(a)&&!isNaN(f)&&he("select",{index:[a,f],value:te(a,f),row_value:R[a].map(M=>M.value)})}n.$$.dirty[1]&1310720&&(me(r,k)||P()),n.$$.dirty[0]&2359296&&(R||F)&&v(),n.$$.dirty[0]&262144&&t(36,l=ul(R)),n.$$.dirty[0]&4194304&&Oe[0]&&Ke(),n.$$.dirty[0]&1933312&&_l(R,B,q,x,j),n.$$.dirty[0]&131072&&t(35,s=!!p&&p[0])},[o,_,i,u,c,g,d,S,C,D,N,E,y,w,H,B,q,p,R,j,x,F,Oe,A,O,U,b,ae,be,Ve,at,ue,ot,ut,Ye,s,l,re,K,le,oe,He,it,al,rt,yt,ol,At,Ke,r,h,k,ie,fl,hl,cl,gl,dl,bl,ml,wl,kl,pl,vl,yl,Al,Sl,zl,Ml,Bl,Cl,Dl,Ll,Rl,ql,El]}class Yn extends Dn{constructor(e){super(),qn(this,e,Kn,Wn,Hn,{datatype:0,label:1,show_label:2,headers:49,values:50,col_count:3,row_count:4,latex_delimiters:5,editable:6,wrap:7,root:8,i18n:9,max_height:10,line_breaks:11,column_widths:12,upload:13,stream_handler:14,display_value:15,styling:16},null,[-1,-1,-1,-1])}get datatype(){return this.$$.ctx[0]}set datatype(e){this.$$set({datatype:e}),X()}get label(){return this.$$.ctx[1]}set label(e){this.$$set({label:e}),X()}get show_label(){return this.$$.ctx[2]}set show_label(e){this.$$set({show_label:e}),X()}get headers(){return this.$$.ctx[49]}set headers(e){this.$$set({headers:e}),X()}get values(){return this.$$.ctx[50]}set values(e){this.$$set({values:e}),X()}get col_count(){return this.$$.ctx[3]}set col_count(e){this.$$set({col_count:e}),X()}get row_count(){return this.$$.ctx[4]}set row_count(e){this.$$set({row_count:e}),X()}get latex_delimiters(){return this.$$.ctx[5]}set latex_delimiters(e){this.$$set({latex_delimiters:e}),X()}get editable(){return this.$$.ctx[6]}set editable(e){this.$$set({editable:e}),X()}get wrap(){return this.$$.ctx[7]}set wrap(e){this.$$set({wrap:e}),X()}get root(){return this.$$.ctx[8]}set root(e){this.$$set({root:e}),X()}get i18n(){return this.$$.ctx[9]}set i18n(e){this.$$set({i18n:e}),X()}get max_height(){return this.$$.ctx[10]}set max_height(e){this.$$set({max_height:e}),X()}get line_breaks(){return this.$$.ctx[11]}set line_breaks(e){this.$$set({line_breaks:e}),X()}get column_widths(){return this.$$.ctx[12]}set column_widths(e){this.$$set({column_widths:e}),X()}get upload(){return this.$$.ctx[13]}set upload(e){this.$$set({upload:e}),X()}get stream_handler(){return this.$$.ctx[14]}set stream_handler(e){this.$$set({stream_handler:e}),X()}get display_value(){return this.$$.ctx[15]}set display_value(e){this.$$set({display_value:e}),X()}get styling(){return this.$$.ctx[16]}set styling(e){this.$$set({styling:e}),X()}}const Zn=Yn,{SvelteComponent:Gn,assign:Qn,create_component:mt,destroy_component:wt,detach:Xn,flush:Y,get_spread_object:xn,get_spread_update:$n,init:es,insert:ts,mount_component:kt,safe_not_equal:ls,space:ns,transition_in:pt,transition_out:vt}=window.__gradio__svelte__internal,{afterUpdate:ss,tick:is}=window.__gradio__svelte__internal;function rs(n){let e,t,l,s;const o=[{autoscroll:n[14].autoscroll},{i18n:n[14].i18n},n[17]];let _={};for(let i=0;i<o.length;i+=1)_=Qn(_,o[i]);return e=new Fl({props:_}),e.$on("clear_status",n[28]),l=new Zn({props:{root:n[11],label:n[5],show_label:n[6],row_count:n[4],col_count:n[3],values:n[22],display_value:n[20],styling:n[21],headers:n[19],wrap:n[7],datatype:n[8],latex_delimiters:n[15],editable:n[18],max_height:n[16],i18n:n[14].i18n,line_breaks:n[12],column_widths:n[13],upload:n[29],stream_handler:n[30]}}),l.$on("change",n[31]),l.$on("select",n[32]),{c(){mt(e.$$.fragment),t=ns(),mt(l.$$.fragment)},m(i,r){kt(e,i,r),ts(i,t,r),kt(l,i,r),s=!0},p(i,r){const h=r[0]&147456?$n(o,[r[0]&16384&&{autoscroll:i[14].autoscroll},r[0]&16384&&{i18n:i[14].i18n},r[0]&131072&&xn(i[17])]):{};e.$set(h);const u={};r[0]&2048&&(u.root=i[11]),r[0]&32&&(u.label=i[5]),r[0]&64&&(u.show_label=i[6]),r[0]&16&&(u.row_count=i[4]),r[0]&8&&(u.col_count=i[3]),r[0]&4194304&&(u.values=i[22]),r[0]&1048576&&(u.display_value=i[20]),r[0]&2097152&&(u.styling=i[21]),r[0]&524288&&(u.headers=i[19]),r[0]&128&&(u.wrap=i[7]),r[0]&256&&(u.datatype=i[8]),r[0]&32768&&(u.latex_delimiters=i[15]),r[0]&262144&&(u.editable=i[18]),r[0]&65536&&(u.max_height=i[16]),r[0]&16384&&(u.i18n=i[14].i18n),r[0]&4096&&(u.line_breaks=i[12]),r[0]&8192&&(u.column_widths=i[13]),r[0]&16384&&(u.upload=i[29]),r[0]&16384&&(u.stream_handler=i[30]),l.$set(u)},i(i){s||(pt(e.$$.fragment,i),pt(l.$$.fragment,i),s=!0)},o(i){vt(e.$$.fragment,i),vt(l.$$.fragment,i),s=!1},d(i){i&&Xn(t),wt(e,i),wt(l,i)}}}function as(n){let e,t;return e=new Hl({props:{visible:n[2],padding:!1,elem_id:n[0],elem_classes:n[1],container:!1,scale:n[9],min_width:n[10],allow_overflow:!1,$$slots:{default:[rs]},$$scope:{ctx:n}}}),{c(){mt(e.$$.fragment)},m(l,s){kt(e,l,s),t=!0},p(l,s){const o={};s[0]&4&&(o.visible=l[2]),s[0]&1&&(o.elem_id=l[0]),s[0]&2&&(o.elem_classes=l[1]),s[0]&512&&(o.scale=l[9]),s[0]&1024&&(o.min_width=l[10]),s[0]&8387064|s[1]&8&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){t||(pt(e.$$.fragment,l),t=!0)},o(l){vt(e.$$.fragment,l),t=!1},d(l){wt(e,l)}}}function os(n,e,t){let{headers:l=[]}=e,{elem_id:s=""}=e,{elem_classes:o=[]}=e,{visible:_=!0}=e,{value:i={data:[["","",""]],headers:["1","2","3"],metadata:null}}=e,r="",{value_is_output:h=!1}=e,{col_count:u}=e,{row_count:c}=e,{label:g=null}=e,{show_label:d=!0}=e,{wrap:S}=e,{datatype:C}=e,{scale:D=null}=e,{min_width:N=void 0}=e,{root:E}=e,{line_breaks:y=!0}=e,{column_widths:w=[]}=e,{gradio:H}=e,{latex_delimiters:p}=e,{max_height:B=void 0}=e,{loading_status:q}=e,{interactive:A}=e,he,O,te,U;async function fe(v){let re=v||i;t(19,he=[...re.headers||l]),t(22,U=re.data?[...re.data]:[]),t(20,O=re?.metadata?.display_value?[...re?.metadata?.display_value]:null),t(21,te=!A&&re?.metadata?.styling?[...re?.metadata?.styling]:null),await is(),H.dispatch("change"),h||H.dispatch("input")}fe(),ss(()=>{t(25,h=!1)}),(Array.isArray(i)&&i?.[0]?.length===0||i.data?.[0]?.length===0)&&(i={data:[Array(u?.[0]||3).fill("")],headers:Array(u?.[0]||3).fill("").map((v,re)=>`${re+1}`),metadata:null});async function J(v){JSON.stringify(v)!==r&&(t(24,i={...v}),t(27,r=JSON.stringify(i)),fe(v))}const b=()=>H.dispatch("clear_status",q),k=(...v)=>H.client.upload(...v),P=(...v)=>H.client.stream(...v),R=v=>J(v.detail),ie=v=>H.dispatch("select",v.detail);return n.$$set=v=>{"headers"in v&&t(26,l=v.headers),"elem_id"in v&&t(0,s=v.elem_id),"elem_classes"in v&&t(1,o=v.elem_classes),"visible"in v&&t(2,_=v.visible),"value"in v&&t(24,i=v.value),"value_is_output"in v&&t(25,h=v.value_is_output),"col_count"in v&&t(3,u=v.col_count),"row_count"in v&&t(4,c=v.row_count),"label"in v&&t(5,g=v.label),"show_label"in v&&t(6,d=v.show_label),"wrap"in v&&t(7,S=v.wrap),"datatype"in v&&t(8,C=v.datatype),"scale"in v&&t(9,D=v.scale),"min_width"in v&&t(10,N=v.min_width),"root"in v&&t(11,E=v.root),"line_breaks"in v&&t(12,y=v.line_breaks),"column_widths"in v&&t(13,w=v.column_widths),"gradio"in v&&t(14,H=v.gradio),"latex_delimiters"in v&&t(15,p=v.latex_delimiters),"max_height"in v&&t(16,B=v.max_height),"loading_status"in v&&t(17,q=v.loading_status),"interactive"in v&&t(18,A=v.interactive)},n.$$.update=()=>{n.$$.dirty[0]&150994944&&r&&JSON.stringify(i)!==r&&(t(27,r=JSON.stringify(i)),fe())},[s,o,_,u,c,g,d,S,C,D,N,E,y,w,H,p,B,q,A,he,O,te,U,J,i,h,l,r,b,k,P,R,ie]}class qs extends Gn{constructor(e){super(),es(this,e,os,as,ls,{headers:26,elem_id:0,elem_classes:1,visible:2,value:24,value_is_output:25,col_count:3,row_count:4,label:5,show_label:6,wrap:7,datatype:8,scale:9,min_width:10,root:11,line_breaks:12,column_widths:13,gradio:14,latex_delimiters:15,max_height:16,loading_status:17,interactive:18},null,[-1,-1])}get headers(){return this.$$.ctx[26]}set headers(e){this.$$set({headers:e}),Y()}get elem_id(){return this.$$.ctx[0]}set elem_id(e){this.$$set({elem_id:e}),Y()}get elem_classes(){return this.$$.ctx[1]}set elem_classes(e){this.$$set({elem_classes:e}),Y()}get visible(){return this.$$.ctx[2]}set visible(e){this.$$set({visible:e}),Y()}get value(){return this.$$.ctx[24]}set value(e){this.$$set({value:e}),Y()}get value_is_output(){return this.$$.ctx[25]}set value_is_output(e){this.$$set({value_is_output:e}),Y()}get col_count(){return this.$$.ctx[3]}set col_count(e){this.$$set({col_count:e}),Y()}get row_count(){return this.$$.ctx[4]}set row_count(e){this.$$set({row_count:e}),Y()}get label(){return this.$$.ctx[5]}set label(e){this.$$set({label:e}),Y()}get show_label(){return this.$$.ctx[6]}set show_label(e){this.$$set({show_label:e}),Y()}get wrap(){return this.$$.ctx[7]}set wrap(e){this.$$set({wrap:e}),Y()}get datatype(){return this.$$.ctx[8]}set datatype(e){this.$$set({datatype:e}),Y()}get scale(){return this.$$.ctx[9]}set scale(e){this.$$set({scale:e}),Y()}get min_width(){return this.$$.ctx[10]}set min_width(e){this.$$set({min_width:e}),Y()}get root(){return this.$$.ctx[11]}set root(e){this.$$set({root:e}),Y()}get line_breaks(){return this.$$.ctx[12]}set line_breaks(e){this.$$set({line_breaks:e}),Y()}get column_widths(){return this.$$.ctx[13]}set column_widths(e){this.$$set({column_widths:e}),Y()}get gradio(){return this.$$.ctx[14]}set gradio(e){this.$$set({gradio:e}),Y()}get latex_delimiters(){return this.$$.ctx[15]}set latex_delimiters(e){this.$$set({latex_delimiters:e}),Y()}get max_height(){return this.$$.ctx[16]}set max_height(e){this.$$set({max_height:e}),Y()}get loading_status(){return this.$$.ctx[17]}set loading_status(e){this.$$set({loading_status:e}),Y()}get interactive(){return this.$$.ctx[18]}set interactive(e){this.$$set({interactive:e}),Y()}}export{Zn as BaseDataFrame,Ns as BaseExample,qs as default};
//# sourceMappingURL=Index-DpVxAIx1.js.map
