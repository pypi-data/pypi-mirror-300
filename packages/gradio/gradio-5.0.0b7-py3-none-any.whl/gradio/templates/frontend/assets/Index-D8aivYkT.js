const __vite__fileDeps=["./vega-embed.module-BN_2EBnk.js","./index-C0tbqhdc.js","./index-CSUrC9QJ.css","./dsv-DB8NKgIY.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as Le}from"./index-C0tbqhdc.js";import{B as Te}from"./Block-Cej-42Jk.js";import{B as Ve}from"./BlockTitle-B3lsGOVn.js";import"./IconButtonWrapper.svelte_svelte_type_style_lang-CmXUdlCe.js";import{E as je}from"./Empty-C9gXEcal.js";import{L as Ie}from"./LineChart-CKh1Fdep.js";import{S as Be}from"./index-Cht_qMu2.js";import"./StreamingBar.svelte_svelte_type_style_lang-hwxd5zZk.js";import"./svelte/svelte.js";import"./Info-BPWLTqal.js";import"./IconButton-C-D_5yDc.js";import"./Clear-By3xiIwg.js";const{SvelteComponent:De,append:Ne,assign:qe,attr:ke,binding_callbacks:Me,check_outros:ge,create_component:B,destroy_component:D,detach:E,element:we,empty:ve,flush:u,get_spread_object:Re,get_spread_update:He,group_outros:he,init:Ue,insert:O,mount_component:N,noop:be,safe_not_equal:Xe,set_data:Fe,space:le,text:Pe,transition_in:k,transition_out:F}=window.__gradio__svelte__internal,{onMount:Ye}=window.__gradio__svelte__internal;function ye(a){let e,t;const i=[{autoscroll:a[2].autoscroll},{i18n:a[2].i18n},a[10]];let n={};for(let s=0;s<i.length;s+=1)n=qe(n,i[s]);return e=new Be({props:n}),e.$on("clear_status",a[38]),{c(){B(e.$$.fragment)},m(s,_){N(e,s,_),t=!0},p(s,_){const m=_[0]&1028?He(i,[_[0]&4&&{autoscroll:s[2].autoscroll},_[0]&4&&{i18n:s[2].i18n},_[0]&1024&&Re(s[10])]):{};e.$set(m)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){F(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function Ge(a){let e;return{c(){e=Pe(a[3])},m(t,i){O(t,e,i)},p(t,i){i[0]&8&&Fe(e,t[3])},d(t){t&&E(e)}}}function Je(a){let e,t;return e=new je({props:{unpadded_box:!0,$$slots:{default:[Qe]},$$scope:{ctx:a}}}),{c(){B(e.$$.fragment)},m(i,n){N(e,i,n),t=!0},p(i,n){const s={};n[1]&8388608&&(s.$$scope={dirty:n,ctx:i}),e.$set(s)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){F(e.$$.fragment,i),t=!1},d(i){D(e,i)}}}function Ke(a){let e,t,i,n=a[1]&&xe(a);return{c(){e=we("div"),t=le(),n&&n.c(),i=ve(),ke(e,"class","svelte-10k9m4v")},m(s,_){O(s,e,_),a[39](e),O(s,t,_),n&&n.m(s,_),O(s,i,_)},p(s,_){s[1]?n?n.p(s,_):(n=xe(s),n.c(),n.m(i.parentNode,i)):n&&(n.d(1),n=null)},i:be,o:be,d(s){s&&(E(e),E(t),E(i)),a[39](null),n&&n.d(s)}}}function Qe(a){let e,t;return e=new Ie({}),{c(){B(e.$$.fragment)},m(i,n){N(e,i,n),t=!0},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){F(e.$$.fragment,i),t=!1},d(i){D(e,i)}}}function xe(a){let e,t;return{c(){e=we("p"),t=Pe(a[1]),ke(e,"class","caption svelte-10k9m4v")},m(i,n){O(i,e,n),Ne(e,t)},p(i,n){n[0]&2&&Fe(t,i[1])},d(i){i&&E(e)}}}function Ze(a){let e,t,i,n,s,_,m,r=a[10]&&ye(a);t=new Ve({props:{show_label:a[7],info:void 0,$$slots:{default:[Ge]},$$scope:{ctx:a}}});const g=[Ke,Je],c=[];function f(o,d){return o[0]&&o[13]?0:1}return n=f(a),s=c[n]=g[n](a),{c(){r&&r.c(),e=le(),B(t.$$.fragment),i=le(),s.c(),_=ve()},m(o,d){r&&r.m(o,d),O(o,e,d),N(t,o,d),O(o,i,d),c[n].m(o,d),O(o,_,d),m=!0},p(o,d){o[10]?r?(r.p(o,d),d[0]&1024&&k(r,1)):(r=ye(o),r.c(),k(r,1),r.m(e.parentNode,e)):r&&(he(),F(r,1,1,()=>{r=null}),ge());const P={};d[0]&128&&(P.show_label=o[7]),d[0]&8|d[1]&8388608&&(P.$$scope={dirty:d,ctx:o}),t.$set(P);let W=n;n=f(o),n===W?c[n].p(o,d):(he(),F(c[W],1,1,()=>{c[W]=null}),ge(),s=c[n],s?s.p(o,d):(s=c[n]=g[n](o),s.c()),k(s,1),s.m(_.parentNode,_))},i(o){m||(k(r),k(t.$$.fragment,o),k(s),m=!0)},o(o){F(r),F(t.$$.fragment,o),F(s),m=!1},d(o){o&&(E(e),E(i),E(_)),r&&r.d(o),D(t,o),c[n].d(o)}}}function pe(a){let e,t;return e=new Te({props:{visible:a[6],elem_id:a[4],elem_classes:a[5],scale:a[8],min_width:a[9],allow_overflow:!1,padding:!0,height:a[11],$$slots:{default:[Ze]},$$scope:{ctx:a}}}),{c(){B(e.$$.fragment)},m(i,n){N(e,i,n),t=!0},p(i,n){const s={};n[0]&64&&(s.visible=i[6]),n[0]&16&&(s.elem_id=i[4]),n[0]&32&&(s.elem_classes=i[5]),n[0]&256&&(s.scale=i[8]),n[0]&512&&(s.min_width=i[9]),n[0]&2048&&(s.height=i[11]),n[0]&5263|n[1]&8388608&&(s.$$scope={dirty:n,ctx:i}),e.$set(s)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){F(e.$$.fragment,i),t=!1},d(i){D(e,i)}}}function $e(a,e,t){let i,n,s,_,m,{value:r}=e,{x:g}=e,{y:c}=e,{color:f=null}=e,{title:o=null}=e,{x_title:d=null}=e,{y_title:P=null}=e,{color_title:W=null}=e,{x_bin:w=null}=e,{y_aggregate:j=void 0}=e,{color_map:q=null}=e,{x_lim:L=null}=e,{y_lim:M=null}=e,{x_label_angle:R=null}=e,{y_label_angle:H=null}=e,{x_axis_labels_visible:U=!0}=e,{caption:ie=null}=e,{sort:K=null}=e;function ze(l){if(l==="x")return"ascending";if(l==="-x")return"descending";if(l==="y")return{field:c,order:"ascending"};if(l==="-y")return{field:c,order:"descending"};if(l===null)return;if(Array.isArray(l))return l}let{_selectable:X=!1}=e,Y,{gradio:T}=e,z,Q=!1;const Se={s:1,m:60,h:60*60,d:24*60*60};let I,V;function Ce(l){let b=l.columns.indexOf(g),C=l.columns.indexOf(c),x=f?l.columns.indexOf(f):null;return l.data.map(v=>{const y={[g]:v[b],[c]:v[C]};return f&&x!==null&&(y[f]=v[x]),y})}const Ee=typeof window<"u";let h,S,Z=!1,ne,G,p;async function se(){if(S&&S.finalize(),!r||!h)return;ne=h.offsetWidth;const l=Oe();l&&(G=new ResizeObserver(b=>{!b[0].target||!(b[0].target instanceof HTMLElement)||(ne===0&&h.offsetWidth!==0&&r.datatypes[g]==="nominal"?se():S.signal("width",b[0].target.offsetWidth).run())}),p||(p=(await Le(()=>import("./vega-embed.module-BN_2EBnk.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)).default),p(h,l,{actions:!1}).then(function(b){S=b.view,G.observe(h);var C;S.addEventListener("dblclick",()=>{T.dispatch("double_click")}),h.addEventListener("mousedown",function(x){x.detail>1&&x.preventDefault()},!1),X&&S.addSignalListener("brush",function(x,v){if(Object.keys(v).length===0)return;clearTimeout(C);let y=v[Object.keys(v)[0]];s&&(y=[y[0]/1e3,y[1]/1e3]),Q?J=()=>{T.dispatch("select",{value:y,index:y,selected:!0})}:C=setTimeout(function(){T.dispatch("select",{value:y,index:y,selected:!0})},250)})}))}let J=null;Ye(()=>(t(35,Z=!0),h.addEventListener("mousedown",()=>{Q=!0}),h.addEventListener("mouseup",()=>{Q=!1,J&&(J(),J=null)}),()=>{t(35,Z=!1),S&&S.finalize(),G&&G.disconnect()}));function Oe(){if(!r||!m)return null;let l=m.getPropertyValue("--color-accent"),b=m.getPropertyValue("--body-text-color"),C=m.getPropertyValue("--border-color-primary"),x=m.fontFamily,v=m.getPropertyValue("--block-title-text-weight");const y=A=>A.endsWith("px")?parseFloat(A.slice(0,-2)):12;let me=y(m.getPropertyValue("--text-md")),ee=y(m.getPropertyValue("--text-sm"));return{$schema:"https://vega.github.io/schema/vega-lite/v5.17.0.json",background:"transparent",config:{autosize:{type:"fit",contains:"padding"},axis:{labelFont:x,labelColor:b,titleFont:x,titleColor:b,titlePadding:8,tickColor:C,labelFontSize:ee,gridColor:C,titleFontWeight:"normal",titleFontSize:ee,labelFontWeight:"normal",domain:!1,labelAngle:0},legend:{labelColor:b,labelFont:x,titleColor:b,titleFont:x,titleFontWeight:"normal",titleFontSize:ee,labelFontWeight:"normal",offset:2},title:{color:b,font:x,fontSize:me,fontWeight:v,anchor:"middle"},view:{stroke:C},mark:{stroke:r.mark!=="bar"?l:void 0,fill:r.mark==="bar"?l:void 0,cursor:"crosshair"}},data:{name:"data"},datasets:{data:Y},layer:["plot",...r.mark==="line"?["hover"]:[]].map(A=>({encoding:{size:r.mark==="line"?A=="plot"?{condition:{empty:!1,param:"hoverPlot",value:3},value:2}:{condition:{empty:!1,param:"hover",value:100},value:0}:void 0,opacity:A==="plot"?void 0:{condition:{empty:!1,param:"hover",value:1},value:0},x:{axis:{...R!==null&&{labelAngle:R},labels:U,ticks:U},field:g,title:d||g,type:r.datatypes[g],scale:_?{domain:_}:void 0,bin:z?{step:z}:void 0,sort:n},y:{axis:H?{labelAngle:H}:{},field:c,title:P||c,type:r.datatypes[c],scale:M?{domain:M}:void 0,aggregate:V?I:void 0},color:f?{field:f,legend:{orient:"bottom",title:W},scale:r.datatypes[f]==="nominal"?{domain:i,range:q?i.map(te=>q[te]):void 0}:{range:[100,200,300,400,500,600,700,800,900].map(te=>m.getPropertyValue("--primary-"+te)),interpolate:"hsl"},type:r.datatypes[f]}:void 0,tooltip:[{field:c,type:r.datatypes[c],aggregate:V?I:void 0,title:P||c},{field:g,type:r.datatypes[g],title:d||g,format:s?"%Y-%m-%d %H:%M:%S":void 0,bin:z?{step:z}:void 0},...f?[{field:f,type:r.datatypes[f]}]:[]]},strokeDash:{},mark:{clip:!0,type:A==="hover"?"point":r.mark},name:A})),params:[...r.mark==="line"?[{name:"hoverPlot",select:{clear:"mouseout",fields:f?[f]:[],nearest:!0,on:"mouseover",type:"point"},views:["hover"]},{name:"hover",select:{clear:"mouseout",nearest:!0,on:"mouseover",type:"point"},views:["hover"]}]:[],...X?[{name:"brush",select:{encodings:["x"],mark:{fill:"gray",fillOpacity:.3,stroke:"none"},type:"interval"},views:["plot"]}]:[]],width:h.offsetWidth,title:o||void 0}}let{label:ae="Textbox"}=e,{elem_id:re=""}=e,{elem_classes:oe=[]}=e,{visible:ue=!0}=e,{show_label:_e}=e,{scale:ce=null}=e,{min_width:fe=void 0}=e,{loading_status:$=void 0}=e,{height:de=void 0}=e;const We=()=>T.dispatch("clear_status",$);function Ae(l){Me[l?"unshift":"push"](()=>{h=l,t(12,h)})}return a.$$set=l=>{"value"in l&&t(0,r=l.value),"x"in l&&t(14,g=l.x),"y"in l&&t(15,c=l.y),"color"in l&&t(16,f=l.color),"title"in l&&t(17,o=l.title),"x_title"in l&&t(18,d=l.x_title),"y_title"in l&&t(19,P=l.y_title),"color_title"in l&&t(20,W=l.color_title),"x_bin"in l&&t(21,w=l.x_bin),"y_aggregate"in l&&t(22,j=l.y_aggregate),"color_map"in l&&t(23,q=l.color_map),"x_lim"in l&&t(24,L=l.x_lim),"y_lim"in l&&t(25,M=l.y_lim),"x_label_angle"in l&&t(26,R=l.x_label_angle),"y_label_angle"in l&&t(27,H=l.y_label_angle),"x_axis_labels_visible"in l&&t(28,U=l.x_axis_labels_visible),"caption"in l&&t(1,ie=l.caption),"sort"in l&&t(29,K=l.sort),"_selectable"in l&&t(30,X=l._selectable),"gradio"in l&&t(2,T=l.gradio),"label"in l&&t(3,ae=l.label),"elem_id"in l&&t(4,re=l.elem_id),"elem_classes"in l&&t(5,oe=l.elem_classes),"visible"in l&&t(6,ue=l.visible),"show_label"in l&&t(7,_e=l.show_label),"scale"in l&&t(8,ce=l.scale),"min_width"in l&&t(9,fe=l.min_width),"loading_status"in l&&t(10,$=l.loading_status),"height"in l&&t(11,de=l.height)},a.$$.update=()=>{a.$$.dirty[0]&1&&t(31,Y=r?Ce(r):[]),a.$$.dirty[0]&65537|a.$$.dirty[1]&1&&(i=f&&r&&r.datatypes[f]==="nominal"?Array.from(new Set(Y.map(l=>l[f]))):[]),a.$$.dirty[0]&536870912&&(n=ze(K)),a.$$.dirty[0]&16385&&t(36,s=r&&r.datatypes[g]==="temporal"),a.$$.dirty[0]&16777216|a.$$.dirty[1]&32&&(_=L&&s?[L[0]*1e3,L[1]*1e3]:L),a.$$.dirty[0]&2097152&&t(32,z=w?typeof w=="string"?1e3*parseInt(w.substring(0,w.length-1))*Se[w[w.length-1]]:w:void 0),a.$$.dirty[0]&4210689|a.$$.dirty[1]&10&&r&&(r.mark==="point"?(t(34,V=z!==void 0),t(33,I=j||V?"sum":void 0)):(t(34,V=z!==void 0||r.datatypes[g]==="nominal"),t(33,I=j||"sum"))),a.$$.dirty[0]&4096&&t(37,m=h?window.getComputedStyle(h):null),a.$$.dirty[0]&599773187|a.$$.dirty[1]&84&&m&&requestAnimationFrame(se)},[r,ie,T,ae,re,oe,ue,_e,ce,fe,$,de,h,Ee,g,c,f,o,d,P,W,w,j,q,L,M,R,H,U,K,X,Y,z,I,V,Z,s,m,We,Ae]}class ft extends De{constructor(e){super(),Ue(this,e,$e,pe,Xe,{value:0,x:14,y:15,color:16,title:17,x_title:18,y_title:19,color_title:20,x_bin:21,y_aggregate:22,color_map:23,x_lim:24,y_lim:25,x_label_angle:26,y_label_angle:27,x_axis_labels_visible:28,caption:1,sort:29,_selectable:30,gradio:2,label:3,elem_id:4,elem_classes:5,visible:6,show_label:7,scale:8,min_width:9,loading_status:10,height:11},null,[-1,-1])}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),u()}get x(){return this.$$.ctx[14]}set x(e){this.$$set({x:e}),u()}get y(){return this.$$.ctx[15]}set y(e){this.$$set({y:e}),u()}get color(){return this.$$.ctx[16]}set color(e){this.$$set({color:e}),u()}get title(){return this.$$.ctx[17]}set title(e){this.$$set({title:e}),u()}get x_title(){return this.$$.ctx[18]}set x_title(e){this.$$set({x_title:e}),u()}get y_title(){return this.$$.ctx[19]}set y_title(e){this.$$set({y_title:e}),u()}get color_title(){return this.$$.ctx[20]}set color_title(e){this.$$set({color_title:e}),u()}get x_bin(){return this.$$.ctx[21]}set x_bin(e){this.$$set({x_bin:e}),u()}get y_aggregate(){return this.$$.ctx[22]}set y_aggregate(e){this.$$set({y_aggregate:e}),u()}get color_map(){return this.$$.ctx[23]}set color_map(e){this.$$set({color_map:e}),u()}get x_lim(){return this.$$.ctx[24]}set x_lim(e){this.$$set({x_lim:e}),u()}get y_lim(){return this.$$.ctx[25]}set y_lim(e){this.$$set({y_lim:e}),u()}get x_label_angle(){return this.$$.ctx[26]}set x_label_angle(e){this.$$set({x_label_angle:e}),u()}get y_label_angle(){return this.$$.ctx[27]}set y_label_angle(e){this.$$set({y_label_angle:e}),u()}get x_axis_labels_visible(){return this.$$.ctx[28]}set x_axis_labels_visible(e){this.$$set({x_axis_labels_visible:e}),u()}get caption(){return this.$$.ctx[1]}set caption(e){this.$$set({caption:e}),u()}get sort(){return this.$$.ctx[29]}set sort(e){this.$$set({sort:e}),u()}get _selectable(){return this.$$.ctx[30]}set _selectable(e){this.$$set({_selectable:e}),u()}get gradio(){return this.$$.ctx[2]}set gradio(e){this.$$set({gradio:e}),u()}get label(){return this.$$.ctx[3]}set label(e){this.$$set({label:e}),u()}get elem_id(){return this.$$.ctx[4]}set elem_id(e){this.$$set({elem_id:e}),u()}get elem_classes(){return this.$$.ctx[5]}set elem_classes(e){this.$$set({elem_classes:e}),u()}get visible(){return this.$$.ctx[6]}set visible(e){this.$$set({visible:e}),u()}get show_label(){return this.$$.ctx[7]}set show_label(e){this.$$set({show_label:e}),u()}get scale(){return this.$$.ctx[8]}set scale(e){this.$$set({scale:e}),u()}get min_width(){return this.$$.ctx[9]}set min_width(e){this.$$set({min_width:e}),u()}get loading_status(){return this.$$.ctx[10]}set loading_status(e){this.$$set({loading_status:e}),u()}get height(){return this.$$.ctx[11]}set height(e){this.$$set({height:e}),u()}}export{ft as default};
//# sourceMappingURL=Index-D8aivYkT.js.map
