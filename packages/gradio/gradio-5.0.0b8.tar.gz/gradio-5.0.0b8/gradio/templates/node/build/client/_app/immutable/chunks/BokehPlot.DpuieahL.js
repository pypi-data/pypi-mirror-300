import{s as j,e as B,c as C,b as S,f as y,r as l,i as D,n as m,y as x,O as I}from"./scheduler.C_sdfy-5.js";import{S as O,i as P}from"./index.D_Dnc2IG.js";function q(s){let t;return{c(){t=B("div"),this.h()},l(o){t=C(o,"DIV",{"data-testid":!0,id:!0,class:!0}),S(t).forEach(y),this.h()},h(){l(t,"data-testid","bokeh"),l(t,"id",s[0]),l(t,"class","gradio-bokeh svelte-1rhu6ax")},m(o,a){D(o,t,a)},p:m,i:m,o:m,d(o){o&&y(t)}}}function M(s,t,o){let a,{value:r}=t,{bokeh_version:n}=t;const c=`bokehDiv-${Math.random().toString(5).substring(2)}`,g=x();async function v(e){if(document&&document.getElementById(c)&&(document.getElementById(c).innerHTML=""),window.Bokeh){_();let h=JSON.parse(e);(await window.Bokeh.embed.embed_item(h,c))._roots.forEach(async i=>{await i.ready,g("load")})}}const u=`https://cdn.bokeh.org/bokeh/release/bokeh-${n}.min.js`,w=[`https://cdn.pydata.org/bokeh/release/bokeh-widgets-${n}.min.js`,`https://cdn.pydata.org/bokeh/release/bokeh-tables-${n}.min.js`,`https://cdn.pydata.org/bokeh/release/bokeh-gl-${n}.min.js`,`https://cdn.pydata.org/bokeh/release/bokeh-api-${n}.min.js`];let d=!1;async function E(){await Promise.all(w.map((e,h)=>new Promise(f=>{const i=document.createElement("script");return i.onload=f,i.src=e,document.head.appendChild(i),i}))),o(3,d=!0)}let p=[];function b(){p=E()}function _(){const e=document.createElement("script");return e.onload=b,e.src=u,document.head.querySelector(`script[src="${u}"]`)?b():document.head.appendChild(e),e}const k=n?_():null;return I(()=>{k in document.children&&(document.removeChild(k),p.forEach(e=>document.removeChild(e)))}),s.$$set=e=>{"value"in e&&o(1,r=e.value),"bokeh_version"in e&&o(2,n=e.bokeh_version)},s.$$.update=()=>{s.$$.dirty&2&&o(4,a=r==null?void 0:r.plot),s.$$.dirty&24&&d&&v(a)},[c,r,n,d,a]}class L extends O{constructor(t){super(),P(this,t,M,q,j,{value:1,bokeh_version:2})}}export{L as default};
