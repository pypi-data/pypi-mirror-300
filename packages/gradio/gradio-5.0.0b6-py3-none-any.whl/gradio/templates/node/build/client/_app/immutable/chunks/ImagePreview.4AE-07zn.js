import{s as X,a as D,z as V,g as B,i as I,f as h,y as Y,J as Z,M,r as y,e as F,c as S,b as q,p as L,q as H,h as T,F as x}from"./scheduler.xQsDa6L3.js";import{S as ee,i as ne,c as w,a as p,m as $,g as v,b,e as E,t as _,d as k}from"./index.lnKugwF0.js";import{u as le,I as C}from"./2.DdwTC9iJ.js";import{B as te}from"./BlockLabel.CHg-g1C7.js";import{E as oe}from"./Empty.CgcJDYjO.js";import{S as ae}from"./ShareButton.wJz5-gVD.js";import{D as re}from"./Download.D3uG4UtN.js";import{M as ie,a as se}from"./Minimize.CLXvCbVC.js";import{I as W}from"./Image.BbdFb7mG.js";import{I as fe}from"./IconButtonWrapper.D8sQlLmB.js";import{g as ue}from"./utils.Gtzs_Zla.js";import{I as ce}from"./Image.CaA3n94x.js";import{D as me}from"./DownloadLink.BSeK42km.js";/* empty css                                                   */function _e(a){let n,t,e,o,r,s,u,f,m;return t=new fe({props:{$$slots:{default:[de]},$$scope:{ctx:a}}}),s=new ce({props:{src:a[0].url,alt:"",loading:"lazy"}}),s.$on("load",a[15]),{c(){n=F("div"),w(t.$$.fragment),e=D(),o=F("button"),r=F("div"),w(s.$$.fragment),this.h()},l(l){n=S(l,"DIV",{class:!0});var i=q(n);p(t.$$.fragment,i),e=B(i),o=S(i,"BUTTON",{class:!0});var d=q(o);r=S(d,"DIV",{class:!0});var g=q(r);p(s.$$.fragment,g),g.forEach(h),d.forEach(h),i.forEach(h),this.h()},h(){L(r,"class","image-frame svelte-1kpcxni"),H(r,"selectable",a[4]),L(o,"class","svelte-1kpcxni"),L(n,"class","image-container svelte-1kpcxni")},m(l,i){I(l,n,i),$(t,n,null),T(n,e),T(n,o),T(o,r),$(s,r,null),a[16](n),u=!0,f||(m=x(o,"click",a[10]),f=!0)},p(l,i){const d={};i&262633&&(d.$$scope={dirty:i,ctx:l}),t.$set(d);const g={};i&1&&(g.src=l[0].url),s.$set(g),(!u||i&16)&&H(r,"selectable",l[4])},i(l){u||(_(t.$$.fragment,l),_(s.$$.fragment,l),u=!0)},o(l){b(t.$$.fragment,l),b(s.$$.fragment,l),u=!1},d(l){l&&h(n),k(t),k(s),a[16](null),f=!1,m()}}}function be(a){let n,t;return n=new oe({props:{unpadded_box:!0,size:"large",$$slots:{default:[he]},$$scope:{ctx:a}}}),{c(){w(n.$$.fragment)},l(e){p(n.$$.fragment,e)},m(e,o){$(n,e,o),t=!0},p(e,o){const r={};o&262144&&(r.$$scope={dirty:o,ctx:e}),n.$set(r)},i(e){t||(_(n.$$.fragment,e),t=!0)},o(e){b(n.$$.fragment,e),t=!1},d(e){k(n,e)}}}function J(a){let n,t;return n=new C({props:{Icon:ie,label:a[8]?"Exit full screen":"View in full screen"}}),n.$on("click",a[11]),{c(){w(n.$$.fragment)},l(e){p(n.$$.fragment,e)},m(e,o){$(n,e,o),t=!0},p(e,o){const r={};o&256&&(r.label=e[8]?"Exit full screen":"View in full screen"),n.$set(r)},i(e){t||(_(n.$$.fragment,e),t=!0)},o(e){b(n.$$.fragment,e),t=!1},d(e){k(n,e)}}}function O(a){let n,t;return n=new C({props:{Icon:se,label:a[8]?"Exit full screen":"View in full screen"}}),n.$on("click",a[11]),{c(){w(n.$$.fragment)},l(e){p(n.$$.fragment,e)},m(e,o){$(n,e,o),t=!0},p(e,o){const r={};o&256&&(r.label=e[8]?"Exit full screen":"View in full screen"),n.$set(r)},i(e){t||(_(n.$$.fragment,e),t=!0)},o(e){b(n.$$.fragment,e),t=!1},d(e){k(n,e)}}}function P(a){let n,t;return n=new me({props:{href:a[0].url,download:a[0].orig_name||"image",$$slots:{default:[ge]},$$scope:{ctx:a}}}),{c(){w(n.$$.fragment)},l(e){p(n.$$.fragment,e)},m(e,o){$(n,e,o),t=!0},p(e,o){const r={};o&1&&(r.href=e[0].url),o&1&&(r.download=e[0].orig_name||"image"),o&262208&&(r.$$scope={dirty:o,ctx:e}),n.$set(r)},i(e){t||(_(n.$$.fragment,e),t=!0)},o(e){b(n.$$.fragment,e),t=!1},d(e){k(n,e)}}}function ge(a){let n,t;return n=new C({props:{Icon:re,label:a[6]("common.download")}}),{c(){w(n.$$.fragment)},l(e){p(n.$$.fragment,e)},m(e,o){$(n,e,o),t=!0},p(e,o){const r={};o&64&&(r.label=e[6]("common.download")),n.$set(r)},i(e){t||(_(n.$$.fragment,e),t=!0)},o(e){b(n.$$.fragment,e),t=!1},d(e){k(n,e)}}}function U(a){let n,t;return n=new ae({props:{i18n:a[6],formatter:a[12],value:a[0]}}),n.$on("share",a[13]),n.$on("error",a[14]),{c(){w(n.$$.fragment)},l(e){p(n.$$.fragment,e)},m(e,o){$(n,e,o),t=!0},p(e,o){const r={};o&64&&(r.i18n=e[6]),o&1&&(r.value=e[0]),n.$set(r)},i(e){t||(_(n.$$.fragment,e),t=!0)},o(e){b(n.$$.fragment,e),t=!1},d(e){k(n,e)}}}function de(a){let n,t,e,o,r,s=!a[8]&&a[7]&&J(a),u=a[8]&&a[7]&&O(a),f=a[3]&&P(a),m=a[5]&&U(a);return{c(){s&&s.c(),n=D(),u&&u.c(),t=D(),f&&f.c(),e=D(),m&&m.c(),o=V()},l(l){s&&s.l(l),n=B(l),u&&u.l(l),t=B(l),f&&f.l(l),e=B(l),m&&m.l(l),o=V()},m(l,i){s&&s.m(l,i),I(l,n,i),u&&u.m(l,i),I(l,t,i),f&&f.m(l,i),I(l,e,i),m&&m.m(l,i),I(l,o,i),r=!0},p(l,i){!l[8]&&l[7]?s?(s.p(l,i),i&384&&_(s,1)):(s=J(l),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(v(),b(s,1,1,()=>{s=null}),E()),l[8]&&l[7]?u?(u.p(l,i),i&384&&_(u,1)):(u=O(l),u.c(),_(u,1),u.m(t.parentNode,t)):u&&(v(),b(u,1,1,()=>{u=null}),E()),l[3]?f?(f.p(l,i),i&8&&_(f,1)):(f=P(l),f.c(),_(f,1),f.m(e.parentNode,e)):f&&(v(),b(f,1,1,()=>{f=null}),E()),l[5]?m?(m.p(l,i),i&32&&_(m,1)):(m=U(l),m.c(),_(m,1),m.m(o.parentNode,o)):m&&(v(),b(m,1,1,()=>{m=null}),E())},i(l){r||(_(s),_(u),_(f),_(m),r=!0)},o(l){b(s),b(u),b(f),b(m),r=!1},d(l){l&&(h(n),h(t),h(e),h(o)),s&&s.d(l),u&&u.d(l),f&&f.d(l),m&&m.d(l)}}}function he(a){let n,t;return n=new W({}),{c(){w(n.$$.fragment)},l(e){p(n.$$.fragment,e)},m(e,o){$(n,e,o),t=!0},i(e){t||(_(n.$$.fragment,e),t=!0)},o(e){b(n.$$.fragment,e),t=!1},d(e){k(n,e)}}}function we(a){let n,t,e,o,r,s;n=new te({props:{show_label:a[2],Icon:W,label:a[2]?a[1]||a[6]("image.image"):""}});const u=[be,_e],f=[];function m(l,i){return l[0]===null||!l[0].url?0:1}return e=m(a),o=f[e]=u[e](a),{c(){w(n.$$.fragment),t=D(),o.c(),r=V()},l(l){p(n.$$.fragment,l),t=B(l),o.l(l),r=V()},m(l,i){$(n,l,i),I(l,t,i),f[e].m(l,i),I(l,r,i),s=!0},p(l,[i]){const d={};i&4&&(d.show_label=l[2]),i&70&&(d.label=l[2]?l[1]||l[6]("image.image"):""),n.$set(d);let g=e;e=m(l),e===g?f[e].p(l,i):(v(),b(f[g],1,1,()=>{f[g]=null}),E(),o=f[e],o?o.p(l,i):(o=f[e]=u[e](l),o.c()),_(o,1),o.m(r.parentNode,r))},i(l){s||(_(n.$$.fragment,l),_(o),s=!0)},o(l){b(n.$$.fragment,l),b(o),s=!1},d(l){l&&(h(t),h(r)),k(n,l),f[e].d(l)}}}function pe(a,n,t){let{value:e}=n,{label:o=void 0}=n,{show_label:r}=n,{show_download_button:s=!0}=n,{selectable:u=!1}=n,{show_share_button:f=!1}=n,{i18n:m}=n,{show_fullscreen_button:l=!0}=n;const i=Y(),d=c=>{let z=ue(c);z&&i("select",{index:z,value:null})};let g=!1,N;Z(()=>{document.addEventListener("fullscreenchange",()=>{t(8,g=!!document.fullscreenElement)})});const j=async()=>{g?(await document.exitFullscreen(),t(8,g=!g)):await N.requestFullscreen()},A=async c=>c?`<img src="${await le(c)}" />`:"";function G(c){M.call(this,a,c)}function K(c){M.call(this,a,c)}function Q(c){M.call(this,a,c)}function R(c){y[c?"unshift":"push"](()=>{N=c,t(9,N)})}return a.$$set=c=>{"value"in c&&t(0,e=c.value),"label"in c&&t(1,o=c.label),"show_label"in c&&t(2,r=c.show_label),"show_download_button"in c&&t(3,s=c.show_download_button),"selectable"in c&&t(4,u=c.selectable),"show_share_button"in c&&t(5,f=c.show_share_button),"i18n"in c&&t(6,m=c.i18n),"show_fullscreen_button"in c&&t(7,l=c.show_fullscreen_button)},[e,o,r,s,u,f,m,l,g,N,d,j,A,G,K,Q,R]}class Le extends ee{constructor(n){super(),ne(this,n,pe,we,X,{value:0,label:1,show_label:2,show_download_button:3,selectable:4,show_share_button:5,i18n:6,show_fullscreen_button:7})}}export{Le as default};
