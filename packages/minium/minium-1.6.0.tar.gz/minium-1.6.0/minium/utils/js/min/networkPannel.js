function enableNetworkPanel(){let e=wx._MINI_WX_PROXY_||wx;e.request;if(!global.__minium__.request_hooked){Object.defineProperty(global.__minium__,"request_hooked",{value:!0,writable:!1});const t=Object.getOwnPropertyDescriptor(e,"request");if(t&&!1===t.configurable)return void console.warn("[minitest] Cannot redefine property: request");let n=function(e){let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return t>>>0},r=new Map,i=new Map,_=new Map;global.__minium__.setCall("request","networkPannel",{before:function(e,t){if(!global||!global.__minium__.get_mini_network_id)return;if("https://weapp.tencent.com/jscov_driver/CollectCovTimer"==e.url)return;let i,o=global.__minium__.get_mini_network_id(),l=Object.assign({},e);delete l.success,delete l.fail,delete l.complete;let s=Date.now();try{let e=JSON.stringify(l);i=n(e),r.has(i)&&r.get(i)>s&&(e=""),r.set(i,s+21e3),mini_send_request(o,e,s,i,getCurrentPages().pop()?.__route__)}catch(e){mini_send_request(o,JSON.stringify({url:l.url,err:e.toString()}),s,0,getCurrentPages().pop()?.__route__)}_.set(t,{nid:o,obj:e})},callback:function(e,t){if(!_.has(t))return;const{nid:r,obj:o}=_.get(t);_.delete(t);let l=Object.assign({},e);delete l.profile;let s=JSON.stringify(l),a=n(s),u=Date.now();i.has(a)&&i.get(a)>u&&(s=""),i.set(a,u+21e3),mini_request_callback(r,s,u,a,o.__miniumMocked)}},!0)}}
