function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((n=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(r)?e.get(r).size:0;console.debug("[minitest] current stack size: ",a),a<=t?(clearInterval(i),n(!0)):s<=0&&(clearInterval(i),console.warn(`${e.has(r)?Array.from(e.get(r)):"empty stack"}`),n(!1))}),500)}))};const t=new Map;return global.__minium__.setCall("request","requestStack",{before:function(a,r){if("https://weapp.tencent.com/jscov_driver/CollectCovTimer"!=a.url){var n,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?n=e.get(s):(n=new Map,e.set(s,n)),n.set(r,[Date.now(),a.url]),t.set(r,{pageId:s,requestMap:n})}},callback:function(a,r){if(!t.has(r))return;const{pageId:n,requestMap:s}=t.get(r);t.delete(r),s.delete(r),0===s.size&&e.delete(n)}},!0),!0}return!1}
