{"version":3,"file":"35459a2a800598a1ae4a.chunk.js","mappings":"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","sources":["webpack://superset/./src/components/AuditInfo/index.tsx","webpack://superset/./src/features/tags/TagModal.tsx","webpack://superset/./src/pages/Tags/index.tsx","webpack://superset/./src/utils/getOwnerName.ts"],"sourcesContent":["import React from 'react';\n\nimport Owner from 'src/types/Owner';\nimport { Tooltip } from 'src/components/Tooltip';\nimport getOwnerName from 'src/utils/getOwnerName';\nimport { t } from '@superset-ui/core';\n\nexport type ModifiedInfoProps = {\n  user?: Owner;\n  date: string;\n};\n\nexport const ModifiedInfo = ({ user, date }: ModifiedInfoProps) => {\n  const dateSpan = (\n    <span className=\"no-wrap\" data-test=\"audit-info-date\">\n      {date}\n    </span>\n  );\n\n  if (user) {\n    const userName = getOwnerName(user);\n    const title = t('Modified by: %s', userName);\n    return (\n      <Tooltip title={title} placement=\"bottom\">\n        {dateSpan}\n      </Tooltip>\n    );\n  }\n  return dateSpan;\n};\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { ChangeEvent, useState, useEffect } from 'react';\nimport rison from 'rison';\nimport Modal from 'src/components/Modal';\nimport AsyncSelect from 'src/components/Select/AsyncSelect';\nimport { FormLabel } from 'src/components/Form';\nimport { t, styled, SupersetClient } from '@superset-ui/core';\nimport { Input } from 'antd';\nimport { Divider } from 'src/components';\nimport Button from 'src/components/Button';\nimport { Tag } from 'src/views/CRUD/types';\nimport { fetchObjectsByTagIds } from 'src/features/tags/tags';\n\nconst StyledModalBody = styled.div`\n  .ant-select-dropdown {\n    max-height: ${({ theme }) => theme.gridUnit * 40}px;\n  }\n  .tag-input {\n    margin-bottom: ${({ theme }) => theme.gridUnit * 3}px;\n  }\n`;\n\nexport interface TaggableResourceOption {\n  label: string;\n  value: number;\n  key: number;\n}\n\nexport enum TaggableResources {\n  Chart = 'chart',\n  Dashboard = 'dashboard',\n  SavedQuery = 'query',\n}\n\ninterface TagModalProps {\n  onHide: () => void;\n  refreshData: () => void;\n  addSuccessToast: (msg: string) => void;\n  addDangerToast: (msg: string) => void;\n  show: boolean;\n  clearOnHide?: boolean;\n  editTag?: Tag | null;\n}\n\nconst TagModal: React.FC<TagModalProps> = ({\n  show,\n  onHide,\n  editTag,\n  refreshData,\n  addSuccessToast,\n  addDangerToast,\n  clearOnHide = false,\n}) => {\n  const [dashboardsToTag, setDashboardsToTag] = useState<\n    TaggableResourceOption[]\n  >([]);\n  const [chartsToTag, setChartsToTag] = useState<TaggableResourceOption[]>([]);\n  const [savedQueriesToTag, setSavedQueriesToTag] = useState<\n    TaggableResourceOption[]\n  >([]);\n\n  const [tagName, setTagName] = useState<string>('');\n  const [description, setDescription] = useState<string>('');\n\n  const isEditMode = !!editTag;\n  const modalTitle = isEditMode ? 'Edit Tag' : 'Create Tag';\n\n  const clearResources = () => {\n    setDashboardsToTag([]);\n    setChartsToTag([]);\n    setSavedQueriesToTag([]);\n  };\n\n  const clearTagForm = () => {\n    setTagName('');\n    setDescription('');\n    setDashboardsToTag([]);\n    setChartsToTag([]);\n    setSavedQueriesToTag([]);\n  };\n\n  useEffect(() => {\n    const resourceMap: { [key: string]: TaggableResourceOption[] } = {\n      [TaggableResources.Dashboard]: [],\n      [TaggableResources.Chart]: [],\n      [TaggableResources.SavedQuery]: [],\n    };\n\n    const updateResourceOptions = ({ id, name, type }: Tag) => {\n      const resourceOptions = resourceMap[type];\n      if (resourceOptions) {\n        resourceOptions.push({\n          value: id,\n          label: name,\n          key: id,\n        });\n      }\n    };\n    clearResources();\n    if (isEditMode) {\n      fetchObjectsByTagIds(\n        { tagIds: [editTag.id], types: null },\n        (data: Tag[]) => {\n          data.forEach(updateResourceOptions);\n          setDashboardsToTag(resourceMap[TaggableResources.Dashboard]);\n          setChartsToTag(resourceMap[TaggableResources.Chart]);\n          setSavedQueriesToTag(resourceMap[TaggableResources.SavedQuery]);\n        },\n        (error: Response) => {\n          addDangerToast('Error Fetching Tagged Objects');\n        },\n      );\n      setTagName(editTag.name);\n      setDescription(editTag.description);\n    }\n  }, [editTag]);\n\n  const loadData = async (\n    search: string,\n    page: number,\n    pageSize: number,\n    columns: string[],\n    filterColumn: string,\n    orderColumn: string,\n    endpoint: string,\n  ) => {\n    const queryParams = rison.encode({\n      columns,\n      filters: [\n        {\n          col: filterColumn,\n          opr: 'ct',\n          value: search,\n        },\n      ],\n      page,\n      order_column: orderColumn,\n    });\n\n    const { json } = await SupersetClient.get({\n      endpoint: `/api/v1/${endpoint}/?q=${queryParams}`,\n    });\n    const { result, count } = json;\n\n    return {\n      data: result.map((item: { id: number }) => ({\n        value: item.id,\n        label: item[filterColumn],\n      })),\n      totalCount: count,\n    };\n  };\n\n  const loadCharts = async (search: string, page: number, pageSize: number) =>\n    loadData(\n      search,\n      page,\n      pageSize,\n      ['id', 'slice_name'],\n      'slice_name',\n      'slice_name',\n      'chart',\n    );\n\n  const loadDashboards = async (\n    search: string,\n    page: number,\n    pageSize: number,\n  ) =>\n    loadData(\n      search,\n      page,\n      pageSize,\n      ['id', 'dashboard_title'],\n      'dashboard_title',\n      'dashboard_title',\n      'dashboard',\n    );\n\n  const loadQueries = async (search: string, page: number, pageSize: number) =>\n    loadData(\n      search,\n      page,\n      pageSize,\n      ['id', 'label'],\n      'label',\n      'label',\n      'saved_query',\n    );\n\n  const handleOptionChange = (resource: TaggableResources, data: any) => {\n    if (resource === TaggableResources.Dashboard) setDashboardsToTag(data);\n    else if (resource === TaggableResources.Chart) setChartsToTag(data);\n    else if (resource === TaggableResources.SavedQuery)\n      setSavedQueriesToTag(data);\n  };\n\n  const handleTagNameChange = (ev: ChangeEvent<HTMLInputElement>) =>\n    setTagName(ev.target.value);\n  const handleDescriptionChange = (ev: ChangeEvent<HTMLInputElement>) =>\n    setDescription(ev.target.value);\n\n  const onSave = () => {\n    const dashboards = dashboardsToTag.map(dash => ['dashboard', dash.value]);\n    const charts = chartsToTag.map(chart => ['chart', chart.value]);\n    const savedQueries = savedQueriesToTag.map(q => ['query', q.value]);\n\n    if (isEditMode) {\n      SupersetClient.put({\n        endpoint: `/api/v1/tag/${editTag.id}`,\n        jsonPayload: {\n          description,\n          name: tagName,\n          objects_to_tag: [...dashboards, ...charts, ...savedQueries],\n        },\n      })\n        .then(({ json = {} }) => {\n          refreshData();\n          clearTagForm();\n          addSuccessToast(t('Tag updated'));\n          onHide();\n        })\n        .catch(err => {\n          addDangerToast(err.message || 'Error Updating Tag');\n        });\n    } else {\n      SupersetClient.post({\n        endpoint: `/api/v1/tag/`,\n        jsonPayload: {\n          description,\n          name: tagName,\n          objects_to_tag: [...dashboards, ...charts, ...savedQueries],\n        },\n      })\n        .then(({ json = {} }) => {\n          refreshData();\n          clearTagForm();\n          addSuccessToast(t('Tag created'));\n          onHide();\n        })\n        .catch(err => addDangerToast(err.message || 'Error Creating Tag'));\n    }\n  };\n\n  return (\n    <Modal\n      title={modalTitle}\n      onHide={() => {\n        if (clearOnHide) clearTagForm();\n        onHide();\n      }}\n      show={show}\n      footer={\n        <div>\n          <Button\n            data-test=\"modal-save-dashboard-button\"\n            buttonStyle=\"secondary\"\n            onClick={onHide}\n          >\n            {t('Cancel')}\n          </Button>\n          <Button\n            data-test=\"modal-save-dashboard-button\"\n            buttonStyle=\"primary\"\n            onClick={onSave}\n          >\n            {t('Save')}\n          </Button>\n        </div>\n      }\n    >\n      <StyledModalBody>\n        <FormLabel>{t('Tag name')}</FormLabel>\n        <Input\n          className=\"tag-input\"\n          onChange={handleTagNameChange}\n          placeholder={t('Name of your tag')}\n          value={tagName}\n        />\n        <FormLabel>{t('Description')}</FormLabel>\n        <Input\n          className=\"tag-input\"\n          onChange={handleDescriptionChange}\n          placeholder={t('Add description of your tag')}\n          value={description}\n        />\n        <Divider />\n        <AsyncSelect\n          className=\"tag-input\"\n          ariaLabel={t('Select dashboards')}\n          mode=\"multiple\"\n          name=\"dashboards\"\n          // @ts-ignore\n          value={dashboardsToTag}\n          options={loadDashboards}\n          onChange={value =>\n            handleOptionChange(TaggableResources.Dashboard, value)\n          }\n          header={<FormLabel>{t('Dashboards')}</FormLabel>}\n          allowClear\n        />\n        <AsyncSelect\n          className=\"tag-input\"\n          ariaLabel={t('Select charts')}\n          mode=\"multiple\"\n          name=\"charts\"\n          // @ts-ignore\n          value={chartsToTag}\n          options={loadCharts}\n          onChange={value => handleOptionChange(TaggableResources.Chart, value)}\n          header={<FormLabel>{t('Charts')}</FormLabel>}\n          allowClear\n        />\n        <AsyncSelect\n          className=\"tag-input\"\n          ariaLabel={t('Select saved queries')}\n          mode=\"multiple\"\n          name=\"savedQueries\"\n          // @ts-ignore\n          value={savedQueriesToTag}\n          options={loadQueries}\n          onChange={value =>\n            handleOptionChange(TaggableResources.SavedQuery, value)\n          }\n          header={<FormLabel>{t('Saved queries')}</FormLabel>}\n          allowClear\n        />\n      </StyledModalBody>\n    </Modal>\n  );\n};\n\nexport default TagModal;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useMemo, useState } from 'react';\nimport { isFeatureEnabled, FeatureFlag, t } from '@superset-ui/core';\nimport {\n  Actions,\n  createErrorHandler,\n  createFetchRelated,\n} from 'src/views/CRUD/utils';\nimport { useListViewResource, useFavoriteStatus } from 'src/views/CRUD/hooks';\nimport ConfirmStatusChange from 'src/components/ConfirmStatusChange';\nimport SubMenu, { SubMenuProps } from 'src/features/home/SubMenu';\nimport ListView, {\n  ListViewProps,\n  Filters,\n  FilterOperator,\n} from 'src/components/ListView';\nimport { dangerouslyGetItemDoNotUse } from 'src/utils/localStorageHelpers';\nimport withToasts from 'src/components/MessageToasts/withToasts';\nimport Icons from 'src/components/Icons';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { Link } from 'react-router-dom';\nimport { deleteTags } from 'src/features/tags/tags';\nimport { Tag as AntdTag } from 'antd';\nimport { QueryObjectColumns, Tag } from 'src/views/CRUD/types';\nimport TagModal from 'src/features/tags/TagModal';\nimport FaveStar from 'src/components/FaveStar';\nimport { ModifiedInfo } from 'src/components/AuditInfo';\n\nconst PAGE_SIZE = 25;\n\ninterface TagListProps {\n  addDangerToast: (msg: string) => void;\n  addSuccessToast: (msg: string) => void;\n  user: {\n    userId: string | number;\n    firstName: string;\n    lastName: string;\n  };\n}\n\nfunction TagList(props: TagListProps) {\n  const { addDangerToast, addSuccessToast, user } = props;\n  const { userId } = user;\n\n  const {\n    state: {\n      loading,\n      resourceCount: tagCount,\n      resourceCollection: tags,\n      bulkSelectEnabled,\n    },\n    hasPerm,\n    fetchData,\n    toggleBulkSelect,\n    refreshData,\n  } = useListViewResource<Tag>('tag', t('tag'), addDangerToast);\n\n  const [showTagModal, setShowTagModal] = useState<boolean>(false);\n  const [tagToEdit, setTagToEdit] = useState<Tag | null>(null);\n  const tagIds = useMemo(() => tags.map(c => c.id), [tags]);\n  const [saveFavoriteStatus, favoriteStatus] = useFavoriteStatus(\n    'tag',\n    tagIds,\n    addDangerToast,\n  );\n\n  // TODO: Fix usage of localStorage keying on the user id\n  const userKey = dangerouslyGetItemDoNotUse(userId?.toString(), null);\n\n  const canDelete = hasPerm('can_write');\n  const canEdit = hasPerm('can_write');\n\n  const initialSort = [{ id: 'changed_on_delta_humanized', desc: true }];\n\n  function handleTagsDelete(tags: Tag[]) {\n    deleteTags(\n      tags,\n      (msg: string) => {\n        addSuccessToast(msg);\n        refreshData();\n      },\n      msg => {\n        addDangerToast(msg);\n        refreshData();\n      },\n    );\n  }\n\n  const handleTagEdit = (tag: Tag) => {\n    setShowTagModal(true);\n    setTagToEdit(tag);\n  };\n\n  const emptyState = {\n    title: t('No Tags created'),\n    image: 'dashboard.svg',\n    description:\n      'Create a new tag and assign it to existing entities like charts or dashboards',\n    buttonAction: () => setShowTagModal(true),\n    buttonText: (\n      <>\n        <i className=\"fa fa-plus\" data-test=\"add-rule-empty\" />{' '}\n        {'Create a new Tag'}{' '}\n      </>\n    ),\n  };\n\n  const columns = useMemo(\n    () => [\n      {\n        Cell: ({\n          row: {\n            original: { id },\n          },\n        }: any) =>\n          userId && (\n            <FaveStar\n              itemId={id}\n              saveFaveStar={saveFavoriteStatus}\n              isStarred={favoriteStatus[id]}\n            />\n          ),\n        Header: '',\n        id: 'id',\n        disableSortBy: true,\n        size: 'xs',\n        hidden: !userId,\n      },\n      {\n        Cell: ({\n          row: {\n            original: { id, name: tagName },\n          },\n        }: any) => (\n          <AntdTag>\n            <Link to={`/superset/all_entities/?id=${id}`}>{tagName}</Link>\n          </AntdTag>\n        ),\n        Header: t('Name'),\n        accessor: 'name',\n      },\n      {\n        Cell: ({\n          row: {\n            original: {\n              changed_on_delta_humanized: changedOn,\n              changed_by: changedBy,\n            },\n          },\n        }: any) => <ModifiedInfo date={changedOn} user={changedBy} />,\n        Header: t('Last modified'),\n        accessor: 'changed_on_delta_humanized',\n        size: 'xl',\n      },\n      {\n        Cell: ({ row: { original } }: any) => {\n          const handleEdit = () => handleTagEdit(original);\n          return (\n            <Actions className=\"actions\">\n              {canDelete && (\n                <ConfirmStatusChange\n                  title={t('Please confirm')}\n                  description={\n                    <>\n                      {t('Are you sure you want to delete')}{' '}\n                      <b>{original.dashboard_title}</b>?\n                    </>\n                  }\n                  onConfirm={() => handleTagsDelete([original])}\n                >\n                  {confirmDelete => (\n                    <Tooltip\n                      id=\"delete-action-tooltip\"\n                      title={t('Delete')}\n                      placement=\"bottom\"\n                    >\n                      <span\n                        role=\"button\"\n                        tabIndex={0}\n                        className=\"action-button\"\n                        onClick={confirmDelete}\n                      >\n                        <Icons.Trash data-test=\"dashboard-list-trash-icon\" />\n                      </span>\n                    </Tooltip>\n                  )}\n                </ConfirmStatusChange>\n              )}\n              {canEdit && (\n                <Tooltip\n                  id=\"edit-action-tooltip\"\n                  title={t('Edit')}\n                  placement=\"bottom\"\n                >\n                  <span\n                    role=\"button\"\n                    tabIndex={0}\n                    className=\"action-button\"\n                    onClick={handleEdit}\n                  >\n                    <Icons.EditAlt data-test=\"edit-alt\" />\n                  </span>\n                </Tooltip>\n              )}\n            </Actions>\n          );\n        },\n        Header: t('Actions'),\n        id: 'actions',\n        hidden: !canDelete,\n        disableSortBy: true,\n      },\n      {\n        accessor: QueryObjectColumns.changed_by,\n        hidden: true,\n      },\n    ],\n    [userId, canDelete, refreshData, addSuccessToast, addDangerToast],\n  );\n\n  const filters: Filters = useMemo(() => {\n    const filters_list = [\n      {\n        Header: t('Name'),\n        id: 'name',\n        input: 'search',\n        operator: FilterOperator.contains,\n      },\n      {\n        Header: t('Modified by'),\n        key: 'changed_by',\n        id: 'changed_by',\n        input: 'select',\n        operator: FilterOperator.relationOneMany,\n        unfilteredLabel: t('All'),\n        fetchSelects: createFetchRelated(\n          'tag',\n          'changed_by',\n          createErrorHandler(errMsg =>\n            t(\n              'An error occurred while fetching dataset datasource values: %s',\n              errMsg,\n            ),\n          ),\n          user,\n        ),\n        paginate: true,\n      },\n    ] as Filters;\n    return filters_list;\n  }, [addDangerToast, props.user]);\n\n  const sortTypes = [\n    {\n      desc: false,\n      id: 'name',\n      label: t('Alphabetical'),\n      value: 'alphabetical',\n    },\n    {\n      desc: true,\n      id: 'changed_on_delta_humanized',\n      label: t('Recently modified'),\n      value: 'recently_modified',\n    },\n    {\n      desc: false,\n      id: 'changed_on_delta_humanized',\n      label: t('Least recently modified'),\n      value: 'least_recently_modified',\n    },\n  ];\n\n  const subMenuButtons: SubMenuProps['buttons'] = [];\n\n  if (canDelete) {\n    subMenuButtons.push({\n      name: t('Bulk select'),\n      buttonStyle: 'secondary',\n      'data-test': 'bulk-select',\n      onClick: toggleBulkSelect,\n    });\n  }\n\n  // render new 'New Tag' btn\n  subMenuButtons.push({\n    name: (\n      <>\n        <i className=\"fa fa-plus\" /> {t('Tag')}\n      </>\n    ),\n    buttonStyle: 'primary',\n    'data-test': 'bulk-select',\n    onClick: () => setShowTagModal(true),\n  });\n\n  const handleBulkDelete = (tagsToDelete: Tag[]) =>\n    handleTagsDelete(tagsToDelete);\n\n  return (\n    <>\n      <TagModal\n        show={showTagModal}\n        onHide={() => {\n          setShowTagModal(false);\n          setTagToEdit(null);\n        }}\n        editTag={tagToEdit}\n        refreshData={refreshData}\n        addSuccessToast={addSuccessToast}\n        addDangerToast={addDangerToast}\n        clearOnHide\n      />\n      <SubMenu name={t('Tags')} buttons={subMenuButtons} />\n      <ConfirmStatusChange\n        title={t('Please confirm')}\n        description={t('Are you sure you want to delete the selected tags?')}\n        onConfirm={handleBulkDelete}\n      >\n        {confirmDelete => {\n          const bulkActions: ListViewProps['bulkActions'] = [];\n          if (canDelete) {\n            bulkActions.push({\n              key: 'delete',\n              name: t('Delete'),\n              type: 'danger',\n              onSelect: confirmDelete,\n            });\n          }\n          return (\n            <>\n              <ListView<Tag>\n                bulkActions={bulkActions}\n                bulkSelectEnabled={bulkSelectEnabled}\n                cardSortSelectOptions={sortTypes}\n                className=\"tags-list-view\"\n                columns={columns}\n                count={tagCount}\n                data={tags}\n                disableBulkSelect={toggleBulkSelect}\n                refreshData={refreshData}\n                emptyState={emptyState}\n                fetchData={fetchData}\n                filters={filters}\n                initialSort={initialSort}\n                loading={loading}\n                addDangerToast={addDangerToast}\n                addSuccessToast={addSuccessToast}\n                pageSize={PAGE_SIZE}\n                showThumbnails={\n                  userKey\n                    ? userKey.thumbnails\n                    : isFeatureEnabled(FeatureFlag.THUMBNAILS)\n                }\n                defaultViewMode={\n                  isFeatureEnabled(FeatureFlag.LISTVIEWS_DEFAULT_CARD_VIEW)\n                    ? 'card'\n                    : 'table'\n                }\n              />\n            </>\n          );\n        }}\n      </ConfirmStatusChange>\n    </>\n  );\n}\n\nexport default withToasts(TagList);\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport Owner from 'src/types/Owner';\n\nexport default function getOwnerName(owner?: Owner): string {\n  if (!owner) {\n    return '';\n  }\n  return `${owner.first_name} ${owner.last_name}`;\n}\n"],"names":["ModifiedInfo","_ref","user","date","dateSpan","___EmotionJSX","className","userName","getOwnerName","title","t","Tooltip","placement","StyledModalBody","styled","div","theme","gridUnit","_ref2","TaggableResources","_ref3","show","onHide","editTag","refreshData","addSuccessToast","addDangerToast","clearOnHide","dashboardsToTag","setDashboardsToTag","useState","chartsToTag","setChartsToTag","savedQueriesToTag","setSavedQueriesToTag","tagName","setTagName","description","setDescription","isEditMode","modalTitle","clearTagForm","useEffect","resourceMap","Dashboard","Chart","SavedQuery","updateResourceOptions","_ref4","id","name","type","resourceOptions","push","value","label","key","fetchObjectsByTagIds","tagIds","types","data","forEach","error","loadData","async","search","page","pageSize","columns","filterColumn","orderColumn","endpoint","queryParams","rison","filters","col","opr","order_column","json","SupersetClient","get","result","count","map","item","totalCount","handleOptionChange","resource","Modal","footer","Button","buttonStyle","onClick","onSave","dashboards","dash","charts","chart","savedQueries","q","put","jsonPayload","objects_to_tag","then","_ref5","catch","err","message","post","_ref6","FormLabel","Input","onChange","ev","target","placeholder","Divider","AsyncSelect","ariaLabel","mode","options","header","allowClear","withToasts","props","userId","state","loading","resourceCount","tagCount","resourceCollection","tags","bulkSelectEnabled","hasPerm","fetchData","toggleBulkSelect","useListViewResource","showTagModal","setShowTagModal","tagToEdit","setTagToEdit","useMemo","c","saveFavoriteStatus","favoriteStatus","useFavoriteStatus","userKey","dangerouslyGetItemDoNotUse","toString","canDelete","canEdit","initialSort","desc","handleTagsDelete","deleteTags","msg","emptyState","image","buttonAction","buttonText","React","Cell","row","original","FaveStar","itemId","saveFaveStar","isStarred","Header","disableSortBy","size","hidden","AntdTag","Link","to","accessor","changed_on_delta_humanized","changedOn","changed_by","changedBy","Actions","ConfirmStatusChange","dashboard_title","onConfirm","confirmDelete","role","tabIndex","Icons","Trash","handleEdit","handleTagEdit","tag","EditAlt","QueryObjectColumns","input","operator","FilterOperator","contains","relationOneMany","unfilteredLabel","fetchSelects","createFetchRelated","createErrorHandler","errMsg","paginate","sortTypes","subMenuButtons","TagModal","SubMenu","buttons","tagsToDelete","bulkActions","onSelect","ListView","cardSortSelectOptions","disableBulkSelect","showThumbnails","thumbnails","isFeatureEnabled","FeatureFlag","THUMBNAILS","defaultViewMode","LISTVIEWS_DEFAULT_CARD_VIEW","owner","first_name","last_name"],"sourceRoot":""}